
/*!
 ███╗   ███╗███████╗████████╗██████╗  ██████╗     ██╗   ██╗██╗
 ████╗ ████║██╔════╝╚══██╔══╝██╔══██╗██╔═══██╗    ██║   ██║██║
 ██╔████╔██║█████╗     ██║   ██████╔╝██║   ██║    ██║   ██║██║
 ██║╚██╔╝██║██╔══╝     ██║   ██╔══██╗██║   ██║    ██║   ██║██║
 ██║ ╚═╝ ██║███████╗   ██║   ██║  ██║╚██████╔╝    ╚██████╔╝██║
 ╚═╝     ╚═╝╚══════╝   ╚═╝   ╚═╝  ╚═╝ ╚═════╝      ╚═════╝ ╚═╝                                                             

 * Metro UI v5.1.0 Components Library  (https://metroui.org.ua)
 * Build: 18.03.2025, 23:15:59
 * Copyright 2012-2025 by Serhii Pimenov
 * Licensed under MIT
 */

(()=>{var Kn=Object.defineProperty;var Xo=(e,r)=>{for(var l in r)Kn(e,l,{get:r[l],enumerable:!0})};var Jn=e=>!isNaN(e),Dt="YYYY-MM-DDTHH:mm:ss.sss",Mo="Invalid date",Zn=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|m{1,2}|s{1,3}/g,Qn=/(%[a-z])/gi,Mn="%Y-%m-%dT%H:%M:%S.%Q%t",$n={months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekStart:0},Ko={ms:"Milliseconds",s:"Seconds",m:"Minutes",h:"Hours",D:"Date",d:"Day",M:"Month",Y:"FullYear",y:"Year",t:"Time"},L={ms:"ms",s:"second",m:"minute",h:"hour",D:"day",W:"week",d:"weekDay",M:"month",Y:"year",Y2:"year2",t:"time",c:"century",q:"quarter"},oo=(e="")=>{throw new Error("This argument is required!")},Jo=(e,r=!0)=>{try{return r?typeof e<"u":typeof e<"u"&&e!==null}catch{return!1}},oe=e=>typeof e>"u"||e===null,it=function(e,r,l){let a=""+e;return l&&a.length>=l?a:Array(l+1-a.length).join(r)+a},tl={months:"\u0421\u0456\u0447\u0435\u043D\u044C_\u041B\u044E\u0442\u0438\u0439_\u0411\u0435\u0440\u0435\u0437\u0435\u043D\u044C_\u041A\u0432\u0456\u0442\u0435\u043D\u044C_\u0422\u0440\u0430\u0432\u0435\u043D\u044C_\u0427\u0435\u0440\u0432\u0435\u043D\u044C_\u041B\u0438\u043F\u0435\u043D\u044C_\u0421\u0435\u0440\u043F\u0435\u043D\u044C_\u0412\u0435\u0440\u0435\u0441\u0435\u043D\u044C_\u0416\u043E\u0432\u0442\u0435\u043D\u044C_\u041B\u0438\u0441\u0442\u043E\u043F\u0430\u0434_\u0413\u0440\u0443\u0434\u0435\u043D\u044C".split("_"),monthsParental:"\u0421\u0456\u0447\u043D\u044F_\u041B\u044E\u0442\u043E\u0433\u043E_\u0411\u0435\u0440\u0435\u0437\u0435\u043D\u044F_\u041A\u0432\u0456\u0442\u043D\u044F_\u0422\u0440\u0430\u0432\u043D\u044F_\u0427\u0435\u0440\u0432\u043D\u044F_\u041B\u0438\u043F\u043D\u044F_\u0421\u0435\u0440\u043F\u043D\u044F_\u0412\u0435\u0440\u0435\u0441\u043D\u044F_\u0416\u043E\u0432\u0442\u043D\u044F_\u041B\u0438\u0441\u0442\u043E\u043F\u0430\u0434\u0430_\u0413\u0440\u0443\u0434\u043D\u044F".split("_"),monthsShort:"\u0421\u0456\u0447_\u041B\u044E\u0442_\u0411\u0435\u0440_\u041A\u0432\u0456_\u0422\u0440\u0430_\u0427\u0435\u0440_\u041B\u0438\u043F_\u0421\u0435\u0440_\u0412\u0435\u0440_\u0416\u043E\u0432_\u041B\u0438\u0441_\u0413\u0440\u0443".split("_"),weekdays:"\u041D\u0435\u0434\u0456\u043B\u044F_\u041F\u043E\u043D\u0435\u0434\u0456\u043B\u043E\u043A_\u0412\u0456\u0432\u0442\u043E\u0440\u043E\u043A_\u0421\u0435\u0440\u0435\u0434\u0430_\u0427\u0435\u0442\u0432\u0435\u0440_\u041F'\u044F\u0442\u043D\u0438\u0446\u044F_\u0421\u0443\u0431\u043E\u0442\u0430".split("_"),weekdaysShort:"\u041D\u0435\u0434_\u041F\u043E\u043D_\u0412\u0456\u0432_\u0421\u0435\u0440_\u0427\u0435\u0442_\u041F\u0442\u043D_\u0421\u0443\u0431".split("_"),weekdaysMin:"\u041D\u0434_\u041F\u043D_\u0412\u0442_\u0421\u0440_\u0427\u0442_\u041F\u0442_\u0421\u0431".split("_"),weekStart:1},el={months:"Januar_Februar_M\xE4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan_Feb_M\xE4r_Apr_Mai_Jun_Jul_Aug_Sep_Okt_Nov_Dez".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"Son_Mon_Die_Mit_Don_Fre_Sam".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekStart:1},j=class K{constructor(){let r=[].slice.call(arguments);if(this.value=new(Function.prototype.bind.apply(Date,[this].concat(r))),this.locale="en",this.weekStart=K.locales.en.weekStart,this.utcMode=!1,this.mutable=!0,!Jn(this.value.getTime()))throw new Error(Mo)}static locales={en:$n,ua:tl,de:el};static isDatetime(r){return r instanceof K}static now(r=!1){return H()[r?"val":"time"]()}static parse(r=oo()){return H(Date.parse(r))}static setLocale(r=oo(),l=oo()){K.locales[r]=l}static getLocale(r="en"){return Jo(K.locales[r],!1)?K.locales[r]:K.locales.en}static align(r,l){let a=H(r),t,o;switch(l){case L.s:t=a.ms(0);break;case L.m:t=K.align(a,L.s)[L.s](0);break;case L.h:t=K.align(a,L.m)[L.m](0);break;case L.D:t=K.align(a,L.h)[L.h](0);break;case L.M:t=K.align(a,L.D)[L.D](1);break;case L.Y:t=K.align(a,L.M)[L.M](0);break;case L.W:{o=a.weekDay(),t=K.align(r,L.D).addDay(-o);break}default:t=a}return t}static alignEnd(r,l){let a=H(r),t,o;switch(l){case L.ms:t=a.ms(999);break;case L.s:t=K.alignEnd(a,L.ms);break;case L.m:t=K.alignEnd(a,L.s)[L.s](59);break;case L.h:t=K.alignEnd(a,L.m)[L.m](59);break;case L.D:t=K.alignEnd(a,L.h)[L.h](23);break;case L.M:t=K.alignEnd(a,L.D)[L.D](1).add(1,L.M).add(-1,L.D);break;case L.Y:t=K.alignEnd(a,L.D)[L.M](11)[L.D](31);break;case L.W:{o=a.weekDay(),t=K.alignEnd(a,"day").addDay(6-o);break}default:t=r}return t}immutable(r){return this.mutable=!(oe(r)||r),this}utc(){return this.utcMode=!0,this}local(){return this.utcMode=!1,this}useLocale(r,l){return this.locale=l||Jo(K.locales[r],!1)?r:"en",this.weekStart=K.getLocale(this.locale).weekStart,this}clone(){let r=H(this.value);return r.locale=this.locale,r.weekStart=this.weekStart,r.mutable=this.mutable,r}align(r){return this.mutable?(this.value=K.align(this,r).val(),this):this.clone().immutable(!1).align(r).immutable(!this.mutable)}alignEnd(r){return this.mutable?(this.value=K.alignEnd(this,r).val(),this):this.clone().immutable(!1).alignEnd(r).immutable(!this.mutable)}val(r){return typeof r>"u"||r===null?this.value:this.mutable?(this.value=typeof r=="string"?Date.parse(r):typeof r=="number"?new Date(r):r,this):H(r)}year2(){return+(""+this.year()).substring(-2)}_set(r,l){let a="set"+(this.utcMode&&r!=="t"?"UTC":"")+Ko[r];if(this.mutable)return this.value[a](l),this;let t=this.clone();return t.value[a](l),t}_get(r){let l="get"+(this.utcMode&&r!=="t"?"UTC":"")+Ko[r];return this.value[l]()}_work(r,l){return!arguments.length||typeof l>"u"||l===null?this._get(r):this._set(r,l)}ms(r){return this._work("ms",r)}second(r){return this._work("s",r)}minute(r){return this._work("m",r)}hour(r){return this._work("h",r)}day(r){return this._work("D",r)}month(r){return this._work("M",r)}year(r){return this._work("Y",r)}time(r){return this._work("t",r)}weekDay(r){if(!arguments.length||oe(r))return this.utcMode?this.value.getUTCDay():this.value.getDay();let l=this.weekDay(),a=r-l;return this.day(this.day()+a),this}get(r){return typeof this[r]!="function"?this:this[r]()}set(r,l){return typeof this[r]!="function"?this:this[r](l)}add(r,l){switch(l){case L.h:return this.time(this.time()+r*60*60*1e3);case L.m:return this.time(this.time()+r*60*1e3);case L.s:return this.time(this.time()+r*1e3);case L.ms:return this.time(this.time()+r);case L.D:return this.day(this.day()+r);case L.W:return this.day(this.day()+r*7);case L.M:return this.month(this.month()+r);case L.Y:return this.year(this.year()+r)}}addHour(r){return this.add(r,L.h)}addMinute(r){return this.add(r,L.m)}addSecond(r){return this.add(r,L.s)}addMs(r){return this.add(r,L.ms)}addDay(r){return this.add(r,L.D)}addWeek(r){return this.add(r,L.W)}addMonth(r){return this.add(r,L.M)}addYear(r){return this.add(r,L.Y)}format(r,l){let a=r||Dt,t=K.getLocale(l||this.locale),o=this.year(),i=this.year2(),p=this.month(),c=this.day(),d=this.weekDay(),m=this.hour(),f=this.minute(),u=this.second(),g=this.ms(),h={YY:i,YYYY:o,M:p+1,MM:it(p+1,0,2),MMM:t.monthsShort[p],MMMM:t.months[p],D:c,DD:it(c,0,2),d,dd:t.weekdaysMin[d],ddd:t.weekdaysShort[d],dddd:t.weekdays[d],H:m,HH:it(m,0,2),m:f,mm:it(f,0,2),s:u,ss:it(u,0,2),sss:it(g,0,3)};return a.replace(Zn,(b,v)=>v||h[b])}valueOf(){return this.value.valueOf()}toString(){return this.value.toString()}},H=(...e)=>e&&e[0]instanceof j?e[0]:new j(...e),ol=j.prototype.format,rl={buddhist(){return this.year()+543},format(e,r){e=e||Dt;let l={BB:(this.buddhist()+"").slice(-2),BBBB:this.buddhist()},a=e.replace(/(\[[^\]]+])|B{4}|B{2}/g,(t,o)=>o||l[t]);return ol.bind(this)(a,r)}};Object.assign(j.prototype,rl);var al=(e,r)=>{let l=e instanceof j?e.clone().align("month"):H(e),a=r===0||r?r:e.weekStart,t=a?l.isoWeekDay():l.weekDay(),o=j.getLocale(l.locale),i=H(),p,c=(m,f)=>{if(f===0)return m;let u=m[0];return m.slice(1).concat([u])},d={month:o.months[l.month()],days:[],weekstart:r?1:0,weekdays:c(o.weekdaysMin,a),today:i.format("YYYY-MM-DD"),weekends:[],week:[]};for(l.addDay(a?-t+1:-t),p=0;p<42;p++)d.days.push(l.format("YYYY-MM-DD")),l.add(1,"day");for(d.weekends=d.days.filter(function(m,f){return a===0?[0,6,7,13,14,20,21,27,28,34,35,41].includes(f):[5,6,12,13,19,20,26,27,33,34,40,41].includes(f)}),l=i.clone(),t=a?l.isoWeekDay():l.weekDay(),l.addDay(a?-t+1:-t),p=0;p<7;p++)d.week.push(l.format("YYYY-MM-DD")),l.add(1,"day");return d};Object.assign(j.prototype,{calendar(e){return al(this,e)}});var il=j.prototype.format;Object.assign(j.prototype,{century(){return Math.ceil(this.year()/100)},format(e,r){e=e||Dt;let l={C:this.century()},a=e.replace(/(\[[^\]]+])|C/g,(t,o)=>o||l[t]);return il.bind(this)(a,r)}});Object.assign(j.prototype,{same(e){return this.time()===H(e).time()},compare(e,r,l="="){let a=H(e),t=H(this.value),o,i;switch(l=l||"=",["<",">",">=","<=","=","!="].includes(l)===!1&&(l="="),r=(r||"ms").toLowerCase(),o=t.align(r).time(),i=a.align(r).time(),l){case"<":return o<i;case">":return o>i;case"<=":return o<=i;case">=":return o>=i;case"=":return o===i;case"!=":return o!==i}},between(e,r){return this.younger(e)&&this.older(r)},older(e,r){return this.compare(e,r,"<")},olderOrEqual(e,r){return this.compare(e,r,"<=")},younger(e,r){return this.compare(e,r,">")},youngerOrEqual(e,r){return this.compare(e,r,">=")},equal(e,r){return this.compare(e,r,"=")},notEqual(e,r){return this.compare(e,r,"!=")},diff(e){let r=H(e),l=Math.abs(this.time()-r.time()),a=Math.abs(this.month()-r.month()+12*(this.year()-r.year()));return{ms:l,second:Math.ceil(l/1e3),minute:Math.ceil(l/(1e3*60)),hour:Math.ceil(l/(1e3*60*60)),day:Math.ceil(l/(1e3*60*60*24)),month:a,year:Math.floor(a/12)}},distance(e,r){return this.diff(e)[r]}});Object.assign(j.prototype,{isLeapYear(){let e=this.year();return e%4===0&&e%100!==0||e%400===0}});Object.assign(j.prototype,{dayOfYear(){let e=[0,31,59,90,120,151,181,212,243,273,304,334],r=this.month(),l=this.day();return e[r]+l+(r>1&&this.isLeapYear()?1:0)}});Object.assign(j.prototype,{daysInMonth(){return H(this.value).add(1,"month").day(1).add(-1,"day").day()},daysInYear(){return this.isLeapYear()?366:365},daysInYearMap(){let e=[],r=H(this.value);r.month(0).day(1);for(let l=0;l<12;l++)r.add(1,"month").add(-1,"day"),e.push(r.day()),r.day(1).add(1,"month");return e},daysInYearObj(e,r){let l=this.daysInYearMap(),a={},t=j.getLocale(e||this.locale);return l.forEach((o,i)=>a[t[r?"monthsShort":"months"][i]]=o),a}});Object.assign(j.prototype,{decade(){return Math.floor(this.year()/10)*10},decadeStart(){let e=this.decade();return(this.mutable?this:this.clone()).year(e).month(0).day(1)},decadeEnd(){let e=this.decade()+9;return(this.mutable?this:this.clone()).year(e).month(11).day(31)},decadeOfMonth(){let e=this.clone().add(1,"month").day(1).add(-1,"day").day()/3,r=this.day();return r<=e?1:r<=e*2?2:3}});Object.assign(j,{from(e,r,l){let a,t,o,i,p,c,d,m,f,u,g,h,b,v,k,w,T,_,y,C=function(R,N){return R.map(function(Y){return Y.toLowerCase()}).indexOf(N.toLowerCase())},z=function(R){let N=-1,Y=j.getLocale(l||"en");return oe(R)?-1:(N=C(Y.months,R),N===-1&&typeof Y.monthsParental<"u"&&(N=C(Y.monthsParental,R)),N===-1&&(R=R.substr(0,3),N=C(Y.monthsShort,R)),N===-1?-1:N+1)},A=function(R){let N={month:["M","mm","%m"],day:["D","dd","%d"],year:["YY","YYYY","yy","yyyy","%y"],hour:["h","hh","%h"],minute:["m","mi","i","ii","%i"],second:["s","ss","%s"],ms:["sss"]},Y=-1,q,W;for(let at=0;at<N[R].length;at++)if(q=N[R][at],W=o.indexOf(q),W!==-1){Y=W;break}return Y};if(!r)return H();if(a=e.replace(/[\/,.:\s]/g,"-"),t=r.toLowerCase().replace(/[^a-zA-Z0-9%]/g,"-"),o=t.split("-"),i=a.split("-"),a.replace(/-/g,"").trim()==="")throw new Error(Mo);return p=A("month"),c=A("day"),d=A("year"),m=A("hour"),f=A("minute"),u=A("second"),g=A("ms"),p>-1&&i[p]?isNaN(parseInt(i[p]))?(i[p]=z(i[p]),i[p]===-1&&(p=-1)):(y=parseInt(i[p]),(y<1||y>12)&&(p=-1)):p=-1,h=d>-1&&i[d]?i[d]:0,b=p>-1&&i[p]?i[p]:1,v=c>-1&&i[c]?i[c]:1,k=m>-1&&i[m]?i[m]:0,w=f>-1&&i[f]?i[f]:0,T=u>-1&&i[u]?i[u]:0,_=g>-1&&i[g]?i[g]:0,H(h,b-1,v,k,w,T,_)}});var nl=j.prototype.format;Object.assign(j.prototype,{ampm(e){let r=this.hour()<12?"AM":"PM";return e?r.toLowerCase():r},hour12:function(e,r){let l=e;return arguments.length===0?this.hour()%12:(r=r||"am",r.toLowerCase()==="pm"&&(l+=12),this.hour(l))},format:function(e,r){let l,a,t=this.hour12();return e=e||Dt,l={a:"["+this.ampm(!0)+"]",A:"["+this.ampm(!1)+"]",h:t,hh:it(t,0,2)},a=e.replace(/(\[[^\]]+])|a|A|h{1,2}/g,(o,i)=>i||l[o]),nl.bind(this)(a,r)}});var ll=j.prototype.format,Zo=j.align,Qo=j.alignEnd;Object.assign(j,{align(e,r){let l=H(e),a,t;switch(r){case"isoWeek":t=l.isoWeekDay(),a=Zo(l,"day").addDay(-t+1);break;default:a=Zo.apply(void 0,[l,r])}return a},alignEnd(e,r){let l=H(e),a,t;switch(r){case"isoWeek":t=l.isoWeekDay(),a=Qo(l,"day").addDay(7-t);break;default:a=Qo.apply(void 0,[l,r])}return a}});Object.assign(j.prototype,{isoWeekDay(e){let r=(this.weekDay()+6)%7+1;return!arguments.length||oe(e)?r:this.addDay(e-r)},format(e,r){e=e||Dt;let l={I:this.isoWeekDay()},a=e.replace(/(\[[^\]]+])|I{1,2}/g,(t,o)=>o||l[t]);return ll.bind(this)(a,r)}});Object.assign(j,{max(){return[].slice.call(arguments).map(r=>H(r)).sort((r,l)=>l.time()-r.time())[0]}});Object.assign(j.prototype,{max(){return j.max.apply(this,[this].concat([].slice.call(arguments)))}});Object.assign(j,{min(){return[].slice.call(arguments).map(r=>H(r)).sort((r,l)=>r.time()-l.time())[0]}});Object.assign(j.prototype,{min(){return j.min.apply(this,[this].concat([].slice.call(arguments)))}});var sl=j.align,pl=j.alignEnd,cl=j.prototype.add;Object.assign(j,{align(e,r){let l=H(e),a;switch(r){case"quarter":a=j.align(l,"day").day(1).month(l.quarter()*3-3);break;default:a=sl.apply(this,[l,r])}return a},alignEnd(e,r){let l=H(e),a;switch(r){case"quarter":a=j.align(l,"quarter").add(3,"month").add(-1,"ms");break;default:a=pl.apply(this,[l,r])}return a}});Object.assign(j.prototype,{quarter(){let e=this.month();return e<=2?1:e<=5?2:e<=8?3:4},add(e,r){return r==="quarter"?this.month(this.month()+e*3):cl.bind(this)(e,r)},addQuarter(e){return this.add(e,"quarter")}});Object.assign(j,{sort(e,r){let l,a,t={};switch(typeof r=="string"||typeof r!="object"||oe(r)?(t.format=Dt,t.dir=r&&r.toUpperCase()==="DESC"?"DESC":"ASC",t.returnAs="datetime"):(t.format=r.format||Dt,t.dir=(r.dir||"ASC").toUpperCase(),t.returnAs=r.format?"string":r.returnAs||"datetime"),a=e.map(o=>H(o)).sort((o,i)=>o.valueOf()-i.valueOf()),t.dir==="DESC"&&a.reverse(),t.returnAs){case"string":l=a.map(o=>o.format(t.format));break;case"date":l=a.map(o=>o.val());break;default:l=a}return l}});var dl=j.prototype.format;Object.assign(j.prototype,{utcOffset(){return this.value.getTimezoneOffset()},timezone(){return this.toTimeString().replace(/.+GMT([+-])(\d{2})(\d{2}).+/,"$1$2:$3")},timezoneName(){return this.toTimeString().replace(/.+\((.+?)\)$/,"$1")},format(e,r){e=e||Dt;let l={Z:this.utcMode?"Z":this.timezone(),ZZ:this.timezone().replace(":",""),ZZZ:"[GMT]"+this.timezone(),z:this.timezoneName()},a=e.replace(/(\[[^\]]+])|Z{1,3}|z/g,(t,o)=>o||l[t]);return dl.bind(this)(a,r)}});var ml=j.prototype.format;Object.assign(j.prototype,{weekNumber(e){let r,l,a,t,o,i;return e=+e||0,a=H(this.year(),0,1),t=a.weekDay()-e,t=t>=0?t:t+7,o=Math.floor((this.time()-a.time()-(this.utcOffset()-a.utcOffset())*6e4)/864e5)+1,t<4?(i=Math.floor((o+t-1)/7)+1,i>52&&(r=H(this.year()+1,0,1),l=r.weekDay()-e,l=l>=0?l:l+7,i=l<4?1:53)):i=Math.floor((o+t-1)/7),i},isoWeekNumber(){return this.weekNumber(1)},weeksInYear(e){return H(this.value).month(11).day(31).weekNumber(e)},format:function(e,r){let l,a,t=this.weekNumber(),o=this.isoWeekNumber();return e=e||Dt,l={W:t,WW:it(t,0,2),WWW:o,WWWW:it(o,0,2)},a=e.replace(/(\[[^\]]+])|W{1,4}/g,(i,p)=>p||l[i]),ml.bind(this)(a,r)}});Object.assign(j.prototype,{strftime(e,r){let l=e||Mn,a=j.getLocale(r||this.locale),t=this.year(),o=this.year2(),i=this.month(),p=this.day(),c=this.weekDay(),d=this.hour(),m=this.hour12(),f=this.minute(),u=this.second(),g=this.ms(),h=this.time(),b=it(p,0,2),v=it(i+1,0,2),k=it(d,0,2),w=it(m,0,2),T=it(f,0,2),_=it(u,0,2),y=it(g,0,3),C=this,z=function(){return H(C.value).day(C.day()-(C.weekDay()+6)%7+3)},A={"%a":a.weekdaysShort[c],"%A":a.weekdays[c],"%b":a.monthsShort[i],"%h":a.monthsShort[i],"%B":a.months[i],"%c":this.toString().substring(0,this.toString().indexOf(" (")),"%C":this.century(),"%d":b,"%D":[b,v,t].join("/"),"%e":p,"%F":[t,v,b].join("-"),"%G":z().year(),"%g":(""+z().year()).slice(2),"%H":k,"%I":w,"%j":it(this.dayOfYear(),0,3),"%k":k,"%l":w,"%m":v,"%n":i+1,"%M":T,"%p":this.ampm(),"%P":this.ampm(!0),"%s":Math.round(h/1e3),"%S":_,"%u":this.isoWeekDay(),"%V":this.isoWeekNumber(),"%w":c,"%x":this.toLocaleDateString(),"%X":this.toLocaleTimeString(),"%y":o,"%Y":t,"%z":this.timezone().replace(":",""),"%Z":this.timezoneName(),"%r":[w,T,_].join(":")+" "+this.ampm(),"%R":[k,T].join(":"),"%T":[k,T,_].join(":"),"%Q":y,"%q":g,"%t":this.timezone()};return l.replace(Qn,R=>A[R]===0||A[R]?A[R]:R)}});Object.assign(j,{isToday(e){let r=H(e).align("day"),l=H().align("day");return r.time()===l.time()}});Object.assign(j.prototype,{isToday(){return j.isToday(this)},today(){let e=H();return this.mutable?this.val(e.val()):e}});Object.assign(j,{isTomorrow(e){let r=H(e).align("day"),l=H().align("day").add(1,"day");return r.time()===l.time()}});Object.assign(j.prototype,{isTomorrow(){return j.isTomorrow(this)},tomorrow(){return this.mutable?this.add(1,"day"):this.clone().immutable(!1).add(1,"day").immutable(!this.mutable)}});Object.assign(j.prototype,{toDateString(){return this.value.toDateString()},toISOString(){return this.value.toISOString()},toJSON(){return this.value.toJSON()},toGMTString(){return this.value.toGMTString()},toLocaleDateString(){return this.value.toLocaleDateString()},toLocaleString(){return this.value.toLocaleString()},toLocaleTimeString(){return this.value.toLocaleTimeString()},toTimeString(){return this.value.toTimeString()},toUTCString(){return this.value.toUTCString()},toDate(){return new Date(this.value)}});Object.assign(j,{timestamp(){return new Date().getTime()/1e3}});Object.assign(j.prototype,{unix(e){let r;return!arguments.length||oe(e)?Math.floor(this.valueOf()/1e3):(r=e*1e3,this.mutable?this.time(r):H(this.value).time(r))},timestamp(){return this.unix()}});Object.assign(j,{isYesterday(e){let r=H(e).align("day"),l=H().align("day").add(-1,"day");return r.time()===l.time()}});Object.assign(j.prototype,{isYesterday(){return j.isYesterday(this)},yesterday(){return this.mutable?this.add(-1,"day"):this.clone().immutable(!1).add(-1,"day").immutable(!this.mutable)}});var $o=e=>{let r,l=Math.floor(e/1e3),a=Math.floor(l/60),t=Math.floor(a/60),o=Math.floor(t/24),i=Math.floor(o/30),p=Math.floor(i/12);return p>=1&&(r=`${p} year`),i>=1&&p<1&&(r=`${i} mon`),o>=1&&o<=30&&(r=`${o} days`),t&&t<24&&(r=`${t} hour`),a&&a>=40&&a<60&&(r="less a hour"),a&&a<40&&(r=`${a} min`),l&&l>=30&&l<60&&(r=`${l} sec`),l<30&&(r="few sec"),r};Object.assign(j,{timeLapse(e){let r=H(e),l=H(),a=l-r;return $o(a)}});Object.assign(j.prototype,{timeLapse(){let e=H()-+this;return $o(e)}});var fl={parseTime(e){if(!isNaN(e))return Math.abs(+e);let r=/([0-9]+d)|([0-9]{1,2}h)|([0-9]{1,2}m)|([0-9]{1,2}s)/gm;return e.match(r).reduce((a,t)=>{let o;return t.includes("d")?o=1e3*60*60*24*parseInt(t):t.includes("h")?o=1e3*60*60*parseInt(t):t.includes("m")?o=1e3*60*parseInt(t):t.includes("s")&&(o=1e3*parseInt(t)),a+o},0)}};Object.assign(j,fl);Object.assign(j.prototype,{moon(){let e=["new-moon","waxing-crescent","first-quarter","waxing-gibbous","full-moon","waning-gibbous","last-quarter","waning-crescent"];return(()=>{let l=this.year(),a=this.month(),t=this.day(),o,i,p,c=o=i=p=0;return a<3&&(l--,a+=12),++a,c=365.25*l,o=30.6*a,i=c+o+t-694039.09,i/=29.5305882,p=parseInt(i),i-=p,p=Math.round(i*8),p>=8&&(p=0),{phase:p,name:e[p]}})()}});var ul="3.2.2",gl="09.03.2025, 06:30:54",hl=()=>{console.info(`%c Datetime %c v${ul} %c ${gl} `,"color: #ffffff; font-weight: bold; background: #003152","color: white; background: darkgreen","color: white; background: #0080fe;")};j.info=hl;j.correctDate=function(e){return H(e).addDay(1).align("day").addMinute(new Date().getTimezoneOffset())};globalThis.Datetime=j;globalThis.datetime=H;(function(){"use strict";let e=["january","february","march","april","may","june","july","august","september","october","november","december"],r=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];var l=j.getLocale;j.getLocale=function(a){var t;if(!Metro)return a="en",l.call(this,a);Metro.locales[a]||(a="en"),t=Metro.locales[a];let o=e.map(function(m,f){return t[m]}),i=e.map(function(m,f){return t[`${m}_short`]}),p=r.map(function(m,f){return t[m]}),c=r.map(function(m,f){return t[`${m}_short`]}),d=r.map(function(m,f){return t[`${m}_short_2`]});return{months:o,monthsShort:i,weekdays:p,weekdaysShort:c,weekdaysMin:d,weekStart:t.weekStart}}})();var bl=Object.defineProperty,xl=(e,r)=>{for(var l in r)bl(e,l,{get:r[l],enumerable:!0})},er={};xl(er,{append:()=>Xr,camelCase:()=>rr,capitalize:()=>He,chars:()=>ae,count:()=>mr,countChars:()=>ao,countSubstr:()=>fr,countUniqueChars:()=>io,countUniqueWords:()=>jl,countWords:()=>Il,dashedName:()=>ar,decapitalize:()=>ir,endsWith:()=>Er,escapeHtml:()=>ur,first:()=>vr,includes:()=>Vr,insert:()=>Sr,isAlpha:()=>Dr,isAlphaDigit:()=>Ir,isBlank:()=>Or,isDigit:()=>jr,isEmpty:()=>ho,isLower:()=>Br,isString:()=>qr,isUpper:()=>Lr,kebab:()=>nr,last:()=>kr,lower:()=>Ue,lpad:()=>zr,ltrim:()=>uo,matches:()=>Wr,nvl:()=>Qr,pad:()=>Tr,prepend:()=>Kr,prune:()=>Cr,repeat:()=>_e,reverse:()=>lr,rpad:()=>Ar,rtrim:()=>go,shorten:()=>Zr,shuffle:()=>sr,slice:()=>yr,snake:()=>pr,split:()=>Hr,sprintf:()=>ye,startsWith:()=>Fr,strip:()=>Ur,stripBoom:()=>Jr,stripTags:()=>Rr,stripTagsAll:()=>Pr,substring:()=>ie,swap:()=>cr,title:()=>dr,trim:()=>ze,truncate:()=>fo,truncateWithAlign:()=>wr,unescapeHtml:()=>hr,unique:()=>br,uniqueWords:()=>xr,upper:()=>mo,vsprintf:()=>Nr,words:()=>It,wrap:()=>Gr,wrapTag:()=>Yr});var lo="\\d",Ve="\\s\\uFEFF\\xA0",Rt="\\uD800-\\uDBFF",Nt="\\uDC00-\\uDFFF",qt="\\u0300-\\u036F\\u1AB0-\\u1AFF\\u1DC0-\\u1DFF\\u20D0-\\u20FF\\uFE20-\\uFE2F",or="\\0-\\u02FF\\u0370-\\u1AAF\\u1B00-\\u1DBF\\u1E00-\\u20CF\\u2100-\\uD7FF\\uE000-\\uFE1F\\uFE30-\\uFFFF",vl="\\u2000-\\u206F",kl="\\x00-\\x2F\\x3A-\\x40\\x5B-\\x60\\x7b-\\xBF\\xD7\\xF7",wl="\\u2700-\\u27BF",Re="a-z\\xB5\\xDF-\\xF6\\xF8-\\xFF\\u0101\\u0103\\u0105\\u0107\\u0109\\u010B\\u010D\\u010F\\u0111\\u0113\\u0115\\u0117\\u0119\\u011B\\u011D\\u011F\\u0121\\u0123\\u0125\\u0127\\u0129\\u012B\\u012D\\u012F\\u0131\\u0133\\u0135\\u0137\\u0138\\u013A\\u013C\\u013E\\u0140\\u0142\\u0144\\u0146\\u0148\\u0149\\u014B\\u014D\\u014F\\u0151\\u0153\\u0155\\u0157\\u0159\\u015B\\u015D\\u015F\\u0161\\u0163\\u0165\\u0167\\u0169\\u016B\\u016D\\u016F\\u0171\\u0173\\u0175\\u0177\\u017A\\u017C\\u017E-\\u0180\\u0183\\u0185\\u0188\\u018C\\u018D\\u0192\\u0195\\u0199-\\u019B\\u019E\\u01A1\\u01A3\\u01A5\\u01A8\\u01AA\\u01AB\\u01AD\\u01B0\\u01B4\\u01B6\\u01B9\\u01BA\\u01BD-\\u01BF\\u01C6\\u01C9\\u01CC\\u01CE\\u01D0\\u01D2\\u01D4\\u01D6\\u01D8\\u01DA\\u01DC\\u01DD\\u01DF\\u01E1\\u01E3\\u01E5\\u01E7\\u01E9\\u01EB\\u01ED\\u01EF\\u01F0\\u01F3\\u01F5\\u01F9\\u01FB\\u01FD\\u01FF\\u0201\\u0203\\u0205\\u0207\\u0209\\u020B\\u020D\\u020F\\u0211\\u0213\\u0215\\u0217\\u0219\\u021B\\u021D\\u021F\\u0221\\u0223\\u0225\\u0227\\u0229\\u022B\\u022D\\u022F\\u0231\\u0233-\\u0239\\u023C\\u023F\\u0240\\u0242\\u0247\\u0249\\u024B\\u024D\\u024F",Ne="\\x41-\\x5a\\xc0-\\xd6\\xd8-\\xde\\u0100\\u0102\\u0104\\u0106\\u0108\\u010a\\u010c\\u010e\\u0110\\u0112\\u0114\\u0116\\u0118\\u011a\\u011c\\u011e\\u0120\\u0122\\u0124\\u0126\\u0128\\u012a\\u012c\\u012e\\u0130\\u0132\\u0134\\u0136\\u0139\\u013b\\u013d\\u013f\\u0141\\u0143\\u0145\\u0147\\u014a\\u014c\\u014e\\u0150\\u0152\\u0154\\u0156\\u0158\\u015a\\u015c\\u015e\\u0160\\u0162\\u0164\\u0166\\u0168\\u016a\\u016c\\u016e\\u0170\\u0172\\u0174\\u0176\\u0178\\u0179\\u017b\\u017d\\u0181\\u0182\\u0184\\u0186\\u0187\\u0189-\\u018b\\u018e-\\u0191\\u0193\\u0194\\u0196-\\u0198\\u019c\\u019d\\u019f\\u01a0\\u01a2\\u01a4\\u01a6\\u01a7\\u01a9\\u01ac\\u01ae\\u01af\\u01b1-\\u01b3\\u01b5\\u01b7\\u01b8\\u01bc\\u01c4\\u01c5\\u01c7\\u01c8\\u01ca\\u01cb\\u01cd\\u01cf\\u01d1\\u01d3\\u01d5\\u01d7\\u01d9\\u01db\\u01de\\u01e0\\u01e2\\u01e4\\u01e6\\u01e8\\u01ea\\u01ec\\u01ee\\u01f1\\u01f2\\u01f4\\u01f6-\\u01f8\\u01fa\\u01fc\\u01fe\\u0200\\u0202\\u0204\\u0206\\u0208\\u020a\\u020c\\u020e\\u0210\\u0212\\u0214\\u0216\\u0218\\u021a\\u021c\\u021e\\u0220\\u0222\\u0224\\u0226\\u0228\\u022a\\u022c\\u022e\\u0230\\u0232\\u023a\\u023b\\u023d\\u023e\\u0241\\u0243-\\u0246\\u0248\\u024a\\u024c\\u024e",tu=new RegExp("(["+or+"]|["+Rt+"]["+Nt+"]|["+Rt+"](?!["+Nt+"])|(?:[^"+Rt+"]|^)["+Nt+"])(["+qt+"]+)","g"),eu=new RegExp("(["+Rt+"])(["+Nt+"])","g"),ou=new RegExp("((?:["+or+"]|["+Rt+"]["+Nt+"]|["+Rt+"](?!["+Nt+"])|(?:[^"+Rt+"]|^)["+Nt+"])(?:["+qt+"]+))|(["+Rt+"]["+Nt+"])|([\\n\\r\\u2028\\u2029])|(.)","g"),ru=new RegExp("["+Ve+"]"),yl=new RegExp("^["+Ve+"]+"),Cl=new RegExp("["+Ve+"]+$"),_l=new RegExp("^"+lo+"+$"),zl=/[<>&"'`]/g,Al=/(<([^>]+)>)/ig,so=new RegExp("(?:["+Ne+"]["+qt+"]*)?(?:["+Re+"]["+qt+"]*)+|(?:["+Ne+"]["+qt+"]*)+(?!["+Re+"])|["+lo+"]+|["+wl+"]|[^"+kl+vl+Ve+"]+","g"),po=/[A-Z\xC0-\xD6\xD8-\xDE]?[a-z\xDF-\xF6\xF8-\xFF]+|[A-Z\xC0-\xD6\xD8-\xDE]+(?![a-z\xDF-\xF6\xF8-\xFF])|\d+/g,Tl=new RegExp("^(?:["+Re+Ne+"]["+qt+"]*)+$"),Sl=new RegExp("^((?:["+Re+Ne+"]["+qt+"]*)|["+lo+"])+$"),co=/^[\x01-\xFF]*$/,F=(e,r="")=>!e&&typeof e!="number"&&typeof e!="boolean"?r:typeof e=="string"?e:Array.isArray(e)?e.join(""):JSON.stringify(e),tr=(e,r)=>typeof e>"u"||e===null?r:e,It=(e,r,l)=>{let a;return r?r instanceof RegExp?a=r:a=new RegExp(r,tr(l,"")):a=co.test(e)?po:so,tr(F(e).match(a),[])},He=(e,r=!1)=>{let l=F(e),a=l.substring(1);return l.substring(0,1).toUpperCase()+(r?a.toLowerCase():a)},rr=e=>It(F(e)).map((r,l)=>l===0?r.toLowerCase():He(r)).join(""),ar=e=>It(F(e)).map(r=>r.toLowerCase()).join("-"),ir=e=>{let r=F(e);return r.substring(0,1).toLowerCase()+r.substr(1)},nr=(e,r="-")=>It(F(e)).map(l=>l.toLowerCase()).join(r),Ue=e=>F(e).toLowerCase(),ae=(e,r=[])=>F(e).split("").filter(l=>!r.includes(l)),lr=(e,r)=>ae(F(e),r).reverse().join(""),El=(e=[])=>{let r=[...e],l=r.length,a,t;for(;l!==0;)t=Math.floor(Math.random()*l),l-=1,a=r[l],r[l]=r[t],r[t]=a;return r},sr=e=>El(F(e).split("")).join(""),pr=e=>It(F(e)).map(r=>r.toLowerCase()).join("_"),Dl=(e,r)=>{let l=r.toLowerCase(),a=r.toUpperCase();return e+(r===l?a:l)},cr=e=>F(e).split("").reduce(Dl,""),dr=(e,r,l="")=>{let a=F(e),t=co.test(a)?po:so,o=Array.isArray(r)?r:typeof r!="string"?[]:r.split(l);return e.replace(t,(i,p)=>p&&o.includes(a[p-1])?Ue(i):He(i))},mo=e=>F(e).toUpperCase(),mr=e=>F(e).length,Ye=(e=[])=>{let r=[...e];for(let l=0;l<r.length;++l)for(let a=l+1;a<r.length;++a)r[l]===r[a]&&r.splice(a--,1);return r},ao=(e,r)=>ae(e,r).length,io=(e,r)=>Ye(ae(e,r)).length,fr=(e,r="")=>{let l=F(e),a=F(r);return l===""||a===""?0:l.split(a).length-1},Il=(e,r,l)=>It(e,r,l).length,jl=(e,r,l)=>Ye(It(e,r,l)).length,Ol={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};function Bl(e){return Ol[e]}var ur=e=>F(e).replace(zl,Bl),gr={"<":/(&lt;)|(&#x0*3c;)|(&#0*60;)/gi,">":/(&gt;)|(&#x0*3e;)|(&#0*62;)/gi,"&":/(&amp;)|(&#x0*26;)|(&#0*38;)/gi,'"':/(&quot;)|(&#x0*22;)|(&#0*34;)/gi,"'":/(&#x0*27;)|(&#0*39;)/gi,"`":/(&#x0*60;)|(&#0*96;)/gi},Ll=Object.keys(gr);function Fl(e,r){return e.replace(gr[r],r)}var hr=e=>Ll.reduce(Fl,F(e)),br=(e,r)=>Ye(ae(e,r)).join(""),xr=(e,r,l)=>Ye(It(e,r,l)).join(""),ie=(e,r,l)=>F(e).substring(r,l),vr=(e,r=0)=>ie(F(e),0,r),kr=(e,r=0)=>{let l=F(e);return l?ie(l,l.length-r):""},Pl="\uFEFF",Ce=(e,r,l=9007199254740991)=>e<r?r:e>l?l:e,re=e=>e===1/0?9007199254740991:e===-1/0?-9007199254740991:~~e,fo=(e,r=0,l="...")=>{let a=F(e),t=r?Ce(re(r),0,9007199254740991):a.length;return ie(a,0,t)+(a.length===t?"":l)},wr=(e,r=0,l="...")=>{let a=fo(e,r,"");return a.slice(e,a.lastIndexOf(" "))+l},yr=(e,r=1)=>{let l=F(e),a=[],t=Math.round(l.length/r);for(let o=0;o<r;o++)a.push(ie(l,o*t,t));return a},Cr=(e,r=0,l="")=>{let a=F(e),t=r?Ce(re(r),0,9007199254740991):a.length,o=0,i=co.test(a)?po:so;return a.replace(i,(p,c)=>{let d=c+p.length;d<=t-l.length&&(o=d)}),a.substring(0,o)+l},_e=(e,r=0)=>{let l=F(e),a=r?Ce(re(r),0,9007199254740991):l.length,t=l;if(r===0)return"";for(let o=0;o<a-1;o++)l+=t;return l},no=(e,r=0)=>{let l=e.length,a=r-l;return _e(e,a+1).substring(0,r)},_r=(e,r="",l=0,a=!1)=>{let t=F(e),o=l?Ce(re(l),0,9007199254740991):t.length,i=r.length,p=o-t.length,c=p;if(p<=0||i===0)return t;let d=no(r,c);return a?d+t:t+d},zr=(e,r=" ",l=0)=>_r(e,r,l,!0),Ar=(e,r=" ",l=0)=>_r(e,r,l,!1),Tr=(e,r="",l=0)=>{let a=F(e),t=l?Ce(re(l),0,9007199254740991):a.length,o=r.length,i=t-a.length,p=re(i/2),c=i%2;return i<=0||o===0?a:no(r,p)+a+no(r,p+c)},Sr=(e,r="",l=0)=>{let a=F(e);return a.substring(0,l)+r+a.substring(l)},Rl=Array.prototype.reduce,Nl=Array.prototype.reduceRight,ze=(e,r)=>uo(go(e,r),r),uo=(e,r)=>{let l=F(e);if(!r)return l.replace(yl,"");if(r===""||l==="")return l;typeof r!="string"&&(r="");let a=!0;return Rl.call(l,(t,o)=>a&&r.includes(o)?t:(a=!1,t+o),"")},go=(e,r)=>{let l=F(e);if(!r)return l.replace(Cl,"");if(r===""||l==="")return l;typeof r!="string"&&(r="");let a=!0;return Nl.call(l,(t,o)=>a&&r.includes(o)?t:(a=!1,o+t),"")},Er=(e,r,l)=>F(e).endsWith(r,l),Dr=e=>Tl.test(F(e)),Ir=e=>Sl.test(F(e)),jr=e=>_l.test(F(e)),Or=(e,r=!0)=>r?F(e).length===0:ze(e).length===0,ho=e=>ze(e).length===0,Br=e=>Ue(e)===e,Lr=e=>mo(e)===e,Fr=(e,r,l)=>F(e).startsWith(r,l),Pr=e=>F(e).replace(Al,""),Rr=(e,r=[])=>{let l=F(e),a=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;return l.replace(a,(t,o)=>r.includes(o)?t:"")},ft={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function Vl(e,r){let l=1,a=e.length,t,o="",i,p,c,d,m,f;for(let u=0;u<a;u++)if(typeof e[u]=="string")o+=e[u];else if(typeof e[u]=="object"){if(i=e[u],i.keys){t=r[l];for(let g=0;g<i.keys.length;g++){if(typeof t>"u")throw new Error(ye('[sprintf] Cannot access property "%s" of undefined value "%s"',i.keys[g],i.keys[g-1]));t=t[i.keys[g]]}}else i.param_no?t=r[i.param_no]:t=r[l++];if(ft.not_type.test(i.type)&&ft.not_primitive.test(i.type)&&t instanceof Function&&(t=t()),ft.numeric_arg.test(i.type)&&typeof t!="number"&&isNaN(t))throw new TypeError(ye("[sprintf] expecting number but found %T",t));switch(ft.number.test(i.type)&&(m=t>=0),i.type){case"b":t=parseInt(t,10).toString(2);break;case"c":t=String.fromCharCode(parseInt(t,10));break;case"d":case"i":t=parseInt(t,10);break;case"j":t=JSON.stringify(t,null,i.width?parseInt(i.width):0);break;case"e":t=i.precision?parseFloat(t).toExponential(i.precision):parseFloat(t).toExponential();break;case"f":t=i.precision?parseFloat(t).toFixed(i.precision):parseFloat(t);break;case"g":t=i.precision?String(Number(t.toPrecision(i.precision))):parseFloat(t);break;case"o":t=(parseInt(t,10)>>>0).toString(8);break;case"s":t=String(t),t=i.precision?t.substring(0,i.precision):t;break;case"t":t=String(!!t),t=i.precision?t.substring(0,i.precision):t;break;case"T":t=Object.prototype.toString.call(t).slice(8,-1).toLowerCase(),t=i.precision?t.substring(0,i.precision):t;break;case"u":t=parseInt(t,10)>>>0;break;case"v":t=t.valueOf(),t=i.precision?t.substring(0,i.precision):t;break;case"x":t=(parseInt(t,10)>>>0).toString(16);break;case"X":t=(parseInt(t,10)>>>0).toString(16).toUpperCase();break}ft.json.test(i.type)?o+=t:(ft.number.test(i.type)&&(!m||i.sign)?(f=m?"+":"-",t=t.toString().replace(ft.sign,"")):f="",c=i.pad_char?i.pad_char==="0"?"0":i.pad_char.charAt(1):" ",d=i.width-(f+t).length,p=i.width&&d>0?c.repeat(d):"",o+=i.align?f+t+p:c==="0"?f+p+t:p+f+t)}return o}var ro=Object.create(null);function Hl(e){if(ro[e])return ro[e];let r=e,l,a=[],t=0;for(;r;){if((l=ft.text.exec(r))!==null)a.push(l[0]);else if((l=ft.modulo.exec(r))!==null)a.push("%");else if((l=ft.placeholder.exec(r))!==null){if(l[2]){t|=1;let o=[],i=l[2],p=[];if((p=ft.key.exec(i))!==null)for(o.push(p[1]);(i=i.substring(p[0].length))!=="";)if((p=ft.key_access.exec(i))!==null)o.push(p[1]);else if((p=ft.index_access.exec(i))!==null)o.push(p[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");l[2]=o}else t|=2;if(t===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");a.push({placeholder:l[0],param_no:l[1],keys:l[2],sign:l[3],pad_char:l[4],align:l[5],width:l[6],precision:l[7],type:l[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");r=r.substring(l[0].length)}return ro[e]=a}var ye=e=>Vl(Hl(e),arguments),Nr=(e,r)=>ye.apply(null,[e].concat(r||[])),Vr=(e,r,l)=>F(e).includes(r,l),Hr=(e,r=void 0,l=void 0,a=!0)=>F(e).split(r,l).map(t=>a?t.trim():t).filter(t=>a?!ho(t):!0),Ur=(e,r=null,l="")=>{let a=F(e),t;return r?(t=new RegExp(r,"g"),a.replace(t,l)):a},Yr=(e,r="div",l={})=>{let a=F(e),t=Object.keys(l).map(o=>`${o}="${l[o]}"`).join(" ");return t&&(t=" "+t),`<${r}${t}>${a}</${r}>`},Gr=(e,r="",l="")=>r+F(e)+l,qr=e=>typeof e=="string",Wr=(e,r,l="")=>{let a=F(e),t;if(!(r instanceof RegExp)){if(t=r?ze(F(r)):"",!t)return!1;r=new RegExp(t,l)}return r.test(a)},Xr=(e,r="",l=1)=>F(e)+_e(r,l),Kr=(e,r="",l=1)=>_e(r,l)+F(e),Jr=e=>{let r=F(e);return r===""?r:r[0]===Pl?r.substring(1):r},Zr=(e,r=5,l="...")=>e&&`${e.substring(0,r)}${l}${e.substring(e.length-r)}`,Ul=e=>typeof e>"u"||e===null,Qr=(e,...r)=>{if(!Ul(e))return e;if(r.length===0)throw new Error("nvl: No default value provided");for(let l of r)if(typeof l<"u"&&l!==null)return l},Ae=class{constructor(e="",{mutable:r=!0}={}){this.value=e.toString(),this.mutable=r}[Symbol.toPrimitive](e){return e==="number"?+this.value:this.value}get[Symbol.toStringTag](){return"Str"}val(e){return typeof e>"u"||e===null?this.value:(this.value=e.toString(),this)}get length(){return this.value.length}immutable(e=!0){this.mutable=!e}toString(){return Array.isArray(this.value)?this.value.join(""):this.value}_result(e){return this.mutable?(this.value=e,this):bo(e)}camelCase(){return this._result(rr(this.value))}capitalize(e){return this._result(He(this.value,e))}chars(e){return this._result(ae(this.value,e))}count(){return mr(this.value)}countChars(e){return ao(this.value,e)}countUniqueChars(e){return io(this.value,e)}countSubstr(e){return fr(this.value,e)}countWords(e,r){return ao(this.value,e,r)}countUniqueWords(e,r){return io(this.value,e,r)}dashedName(){return this._result(ar(this.value))}decapitalize(){return this._result(ir(this.value))}endsWith(e,r){return Er(this.value,e,r)}escapeHtml(){return this._result(ur(this.value))}first(){return this._result(vr(this.value))}includes(e,r){return Vr(this.value,e,r)}insert(e,r){return this._result(Sr(this.value,e,r))}isAlpha(){return Dr(this.value)}isAlphaDigit(){return Ir(this.value)}isBlank(e){return Or(this.value,e)}isDigit(){return jr(this.value)}isEmpty(){return ho(this.value)}isLower(){return Br(this.value)}static isString(e){return qr(e)}isUpper(){return Lr(this.value)}kebab(e){return this._result(nr(this.value,e))}last(e){return this._result(kr(this.value,e))}lower(){return this._result(Ue(this.value))}matches(e,r){return Wr(this.value,e,r)}pad(e,r){return this._result(Tr(this.value,e,r))}lpad(e,r){return this._result(zr(this.value,e,r))}rpad(e,r){return this._result(Ar(this.value,e,r))}prune(e,r){return this._result(Cr(this.value,e,r))}repeat(e){return this._result(_e(this.value,e))}append(e,r){return this._result(Xr(this.value,e,r))}prepend(e,r){return this._result(Kr(this.value,e,r))}reverse(e){return this._result(lr(this.value,e))}shuffle(){return this._result(sr(this.value))}slice(e){return this._result(yr(this.value,e))}snake(){return this._result(pr(this.value))}split(e,r,l){return this._result(Hr(this.value,e,r,l))}sprintf(...e){return this._result(ye(this.value,...e))}vsprintf(...e){return this._result(Nr(this.value,...e))}startsWith(e,r){return Fr(this.value,e,r)}stripBoom(){return this._result(Jr(this.value))}stripTags(e){return this._result(Rr(this.value,e))}stripTagsAll(){return this._result(Pr(this.value))}strip(e,r){return this._result(Ur(this.value,e,r))}substring(e,r){return this._result(ie(this.value,e,r))}swap(){return this._result(cr(this.value))}title(e,r){return this._result(dr(this.value,e,r))}trim(e){return this._result(ze(this.value,e))}ltrim(e){return this._result(uo(this.value,e))}rtrim(e){return this._result(go(this.value,e))}truncate(e,r){return this._result(fo(this.value,e,r))}truncateWithAlign(e,r){return this._result(wr(this.value,e,r))}unescapeHtml(){return this._result(hr(this.value))}unique(e){return this._result(br(this.value,e))}uniqueWords(e,r){return this._result(xr(this.value,e,r))}upper(){return this._result(mo(this.value))}words(e,r){return It(this.value,e,r)}wrap(e,r){return this._result(Gr(this.value,e,r))}wrapTag(e){return this._result(Yr(this.value,e))}shorten(e,r){return this._result(Zr(this.value,e,r))}nvl(...e){return this._result(Qr(this.value,...e))}};Object.assign(Ae,er);var bo=(e,r=!0)=>new Ae(e,{mutable:r}),Yl="0.10.0",Gl="16.03.2025, 19:17:56",ql=()=>{console.info(`%c String %c v${Yl} %c ${Gl} `,"color: #000000; font-weight: bold; background: #fff200","color: white; background: darkgreen","color: white; background: #0080fe;")};Ae.info=ql;globalThis.Str=Ae;globalThis.str=bo;var Wl=["opacity","zIndex"];function Xl(){return null}function Kl(e){return typeof e=="string"||typeof e=="boolean"||typeof e=="number"}function ce(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function Jl(e){let r=getComputedStyle(e);return!ce(e)||+r.opacity==0||e.hidden||r.visibility==="hidden"}function O(e){return e==null}function pt(e){return e.replace(/-([a-z])/g,function(r,l){return l.toUpperCase()})}function Ot(e){let r;return!e||Object.prototype.toString.call(e)!=="[object Object]"?!1:(r=e.prototype!==void 0,r?r.constructor&&typeof r.constructor=="function":!0)}function de(e){for(let r in e)if(Vt(e,r))return!1;return!0}function me(e){return e instanceof Object&&"length"in e}function Wt(e,r){return r=r||" ",e.split(r).map(function(l){return(""+l).trim()}).filter(function(l){return l!==""})}function ne(e,r){return r||(r=[0,""]),e=String(e),r[0]=parseFloat(e),r[1]=e.match(/[\d.\-+]*\s*(.*)/)[1]||"",r}function aa(e,r){let l=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn|fr|lh|cqw|cqh|cqi|cqb|cqmin|cqmax|q)?$/.exec(e);return typeof l[1]<"u"?l[1]:r}function Mr(e,r,l){r=pt(r),["scrollLeft","scrollTop"].indexOf(r)>-1?e[r]=parseInt(l):e.style[r]=isNaN(l)||Wl.indexOf(""+r)>-1?l:l+"px"}function ia(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType}function Zl(e){try{return JSON.parse(e)}catch{return e}}function Ql(e,r,l){let a;return O(l)&&e.nodeType===1&&(a="data-"+r.replace(/[A-Z]/g,"-$&").toLowerCase(),l=e.getAttribute(a),typeof l=="string"?(l=Zl(l),Bt.set(e,r,l)):l=void 0),l}function xo(e){return typeof e!="string"?void 0:e.replace(/-/g,"").toLowerCase()}function Vt(e,r){return Object.prototype.hasOwnProperty.call(e,r)}function $r(e){let r=e||globalThis.location.hostname;return r==="localhost"||r==="127.0.0.1"||r==="[::1]"||r===""||r.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)!==null}function Ml(){return"ontouchstart"in window||navigator.maxTouchPoints>0}function $l(e){let r=e||globalThis.location.hostname;return/(^localhost)|(^127\.)|(^192\.168\.)|(^10\.)|(^172\.1[6-9]\.)|(^172\.2\d\.)|(^172\.3[0-1]\.)|(^::1$)|(^[fF][cCdD])/.test(r)}var st=Element.prototype.matches,x=(e,r)=>new x.init(e,r);x.version="1.4.0";x.build_time="08.03.2025, 03:24:58";x.info=()=>console.info(`%c Dom %c v${x.version} %c ${x.build_time} `,"color: white; font-weight: bold; background: #fd6a02","color: white; background: darkgreen","color: white; background: #0080fe;");x.fn=x.prototype=Object.create(Array.prototype);x.prototype.constructor=x;x.prototype.uid="";x.extend=x.fn.extend=function(){let e,r,l=arguments[0]||{},a=1,t=arguments.length;for(typeof l!="object"&&typeof l!="function"&&(l={}),a===t&&(l=this,a--);a<t;a++)if((e=arguments[a])!=null)for(r in e)Vt(e,r)&&(l[r]=e[r]);return l};x.assign=function(){let e,r,l=arguments[0]||{},a=1,t=arguments.length;for(typeof l!="object"&&typeof l!="function"&&(l={}),a===t&&(l=this,a--);a<t;a++)if((e=arguments[a])!=null)for(r in e)Vt(e,r)&&e[r]!==void 0&&(l[r]=e[r]);return l};(function(e){try{let p=new Blob([`
            var fakeIdToId = {};
            onmessage = function (event) {
                var data = event.data,
                    name = data.name,
                    fakeId = data.fakeId,
                    time;
                if(data.hasOwnProperty('time')) {
                    time = data.time;
                }
                switch (name) {
                    case 'setInterval':
                        fakeIdToId[fakeId] = setInterval(function () {
                            postMessage({fakeId: fakeId});
                        }, time);
                        break;
                    case 'clearInterval':
                        if (fakeIdToId.hasOwnProperty (fakeId)) {
                            clearInterval(fakeIdToId[fakeId]);
                            delete fakeIdToId[fakeId];
                        }
                        break;
                    case 'setTimeout':
                        fakeIdToId[fakeId] = setTimeout(function () {
                            postMessage({fakeId: fakeId});
                            if (fakeIdToId.hasOwnProperty (fakeId)) {
                                delete fakeIdToId[fakeId];
                            }
                        }, time);
                        break;
                    case 'clearTimeout':
                        if (fakeIdToId.hasOwnProperty (fakeId)) {
                            clearTimeout(fakeIdToId[fakeId]);
                            delete fakeIdToId[fakeId];
                        }
                        break;
                }
            }
        `]);e=window.URL.createObjectURL(p)}catch{}let r,l={},a=0,t=2147483647,o="";function i(){do a===t?a=0:a++;while(l.hasOwnProperty(a));return a}if(!(typeof Worker>"u"))try{r=new Worker(e),window.setInterval=function(p,c){let d=i();return l[d]={callback:p,parameters:Array.prototype.slice.call(arguments,2)},r.postMessage({name:"setInterval",fakeId:d,time:c}),d},window.clearInterval=function(p){l.hasOwnProperty(p)&&(delete l[p],r.postMessage({name:"clearInterval",fakeId:p}))},window.setTimeout=function(p,c){let d=i();return l[d]={callback:p,parameters:Array.prototype.slice.call(arguments,2),isTimeout:!0},r.postMessage({name:"setTimeout",fakeId:d,time:c}),d},window.clearTimeout=function(p){l.hasOwnProperty(p)&&(delete l[p],r.postMessage({name:"clearTimeout",fakeId:p}))},window.setImmediate=function(p){return setTimeout(p,0)},window.clearImmediate=function(p){clearTimeout(p)},r.onmessage=function(p){let c=p.data,d=c.fakeId,m,f,u;if(l.hasOwnProperty(d)&&(m=l[d],u=m.callback,f=m.parameters,m.hasOwnProperty("isTimeout")&&m.isTimeout&&delete l[d]),typeof u=="string")try{u=new Function(u)}catch(g){console.error(o+"Error parsing callback code string: ",g)}typeof u=="function"&&u.apply(window,f)},r.onerror=function(p){console.error(p)}}catch{console.log("Can't create worker for Intervals, use standard functions.")}})();x.fn.extend({index:function(e){let r,l=-1;return this.length===0||(O(e)?r=this[0]:e instanceof x&&e.length>0?r=e[0]:typeof e=="string"?r=x(e)[0]:r=void 0,O(r))||r&&r.parentNode&&x.each(r.parentNode.children,function(a){this===r&&(l=a)}),l},indexOf:function(e){let r,l=-1;return this.length===0||(O(e)?r=this[0]:e instanceof x&&e.length>0?r=e[0]:typeof e=="string"?r=x(e)[0]:r=void 0,O(r))||this.each(function(a){this===r&&(l=a)}),l},get:function(e){return e===void 0?this.items():e<0?this[e+this.length]:this[e]},eq:function(e){return!O(e)&&this.length>0?x.extend(x(this.get(e)),{_prevObj:this}):this},is:function(e){let r=!1;return this.length===0?!1:e instanceof x?this.same(e):(e===":selected"?this.each(function(){this.selected&&(r=!0)}):e===":checked"?this.each(function(){this.checked&&(r=!0)}):e===":visible"?this.each(function(){ce(this)&&(r=!0)}):e===":hidden"?this.each(function(){let l=getComputedStyle(this);(this.getAttribute("type")==="hidden"||this.hidden||l.display==="none"||l.visibility==="hidden"||parseInt(l.opacity)===0)&&(r=!0)}):typeof e=="string"&&[":selected"].indexOf(e)===-1?this.each(function(){st.call(this,e)&&(r=!0)}):me(e)?this.each(function(){let l=this;x.each(e,function(){l===this&&(r=!0)})}):typeof e=="object"&&e.nodeType===1&&this.each(function(){this===e&&(r=!0)}),r)},same:function(e){let r=!0;return e instanceof x||(e=x(e)),this.length!==e.length?!1:(this.each(function(){e.items().indexOf(this)===-1&&(r=!1)}),r)},last:function(){return this.eq(this.length-1)},first:function(){return this.eq(0)},odd:function(){let e=this.filter(function(r,l){return l%2===0});return x.extend(e,{_prevObj:this})},even:function(){let e=this.filter(function(r,l){return l%2!==0});return x.extend(e,{_prevObj:this})},filter:function(e){if(typeof e=="string"){let r=e;e=function(l){return st.call(l,r)}}return x.extend(x.merge(x(),[].filter.call(this,e)),{_prevObj:this})},find:function(e){let r=[],l;return e instanceof x?e:(this.length===0?l=this:(this.each(function(){let a=this;typeof a.querySelectorAll>"u"||(r=r.concat([].slice.call(a.querySelectorAll(e))))}),l=x.merge(x(),r)),x.extend(l,{_prevObj:this}))},contains:function(e){return this.find(e).length>0},children:function(e){let r,l=[];return e instanceof x?e:(this.each(function(){let a=this;for(r=0;r<a.children.length;r++)a.children[r].nodeType===1&&l.push(a.children[r])}),l=e?l.filter(function(a){return st.call(a,e)}):l,x.extend(x.merge(x(),l),{_prevObj:this}))},parent:function(e){let r=[];if(this.length!==0)return e instanceof x?e:(this.each(function(){this.parentNode&&r.indexOf(this.parentNode)===-1&&r.push(this.parentNode)}),r=e?r.filter(function(l){return st.call(l,e)}):r,x.extend(x.merge(x(),r),{_prevObj:this}))},parents:function(e){let r=[];if(this.length!==0)return e instanceof x?e:(this.each(function(){let l=this.parentNode;for(;l;)l.nodeType===1&&r.indexOf(l)===-1&&(O(e)||st.call(l,e))&&r.push(l),l=l.parentNode}),x.extend(x.merge(x(),r),{_prevObj:this}))},siblings:function(e){let r=[];if(this.length!==0)return e instanceof x?e:(this.each(function(){let l=this;l.parentNode&&x.each(l.parentNode.children,function(){l!==this&&r.push(this)})}),e&&(r=r.filter(function(l){return st.call(l,e)})),x.extend(x.merge(x(),r),{_prevObj:this}))},_siblingAll:function(e,r){let l=[];if(this.length!==0)return r instanceof x?r:(this.each(function(){let a=this;for(;a&&(a=a[e],!!a);)l.push(a)}),r&&(l=l.filter(function(a){return st.call(a,r)})),x.extend(x.merge(x(),l),{_prevObj:this}))},_sibling:function(e,r){let l=[];if(this.length!==0)return r instanceof x?r:(this.each(function(){let a=this[e];a&&a.nodeType===1&&l.push(a)}),r&&(l=l.filter(function(a){return st.call(a,r)})),x.extend(x.merge(x(),l),{_prevObj:this}))},prev:function(e){return this._sibling("previousElementSibling",e)},next:function(e){return this._sibling("nextElementSibling",e)},prevAll:function(e){return this._siblingAll("previousElementSibling",e)},nextAll:function(e){return this._siblingAll("nextElementSibling",e)},closest:function(e){let r=[];if(this.length!==0)return e instanceof x?e:e?(this.each(function(){let l=this;for(;l&&l;){if(st.call(l,e)){r.push(l);return}l=l.parentElement}}),x.extend(x.merge(x(),r.reverse()),{_prevObj:this})):this.parent(e)},has:function(e){let r=[];if(this.length!==0)return this.each(function(){x(this).children(e).length>0&&r.push(this)}),x.extend(x.merge(x(),r),{_prevObj:this})},back:function(e){let r;if(e===!0)for(r=this._prevObj;r&&r._prevObj;)r=r._prevObj;else r=this._prevObj?this._prevObj:this;return r}});function ta(e,r=document.body){let l=document.createElement("script");if(l.type="text/javascript",O(e))return x(l);let a=x(e)[0];return a.src?l.src=a.src:l.textContent=a.innerText,a.type&&(l.type=a.type),a.async&&(l.async=a.async),r.appendChild(l),a.parentNode&&a.parentNode.removeChild(a),l}x.extend({script:function(e,r){if(!O(e))if(e instanceof x&&(e=e[0]),e.tagName&&e.tagName==="SCRIPT")ta(e,r);else{let l=x(e).find("script");x.each(l,function(){ta(this,r)})}},loadScript:function(e,r=document.body,l){let a=document.createElement("script");a.type="text/javascript",a.src=e,a.onload=l,r.appendChild(a)}});x.fn.extend({script:function(e){return this.each(function(){x.script(this,e)})}});x.fn.extend({_prop:function(e,r){return arguments.length===1?this.length===0?void 0:this[0][e]:(O(r)&&(r=""),this.each(function(){let l=this;l[e]=r,e==="innerHTML"&&x.script(l,l)}))},prop:function(e,r){return arguments.length===1?this._prop(e):this._prop(e,typeof r>"u"?"":r)},val:function(e){return O(e)?this.length===0?void 0:this[0].value:this.each(function(){let r=x(this);typeof this.value<"u"?this.value=e:r.html(e)})},html:function(e){let r=this,l=[];return arguments.length===0?this._prop("innerHTML"):(e instanceof x?e.each(function(){l.push(x(this).outerHTML())}):l.push(e),r._prop("innerHTML",l.join(`
`)),this)},outerHTML:function(){return this._prop("outerHTML")},text:function(e){return arguments.length===0?this._prop("textContent"):this._prop("textContent",typeof e>"u"?"":e)},innerText:function(e){return arguments.length===0?this._prop("innerText"):this._prop("innerText",typeof e>"u"?"":e)},empty:function(){return this.each(function(){typeof this.innerHTML<"u"&&(this.innerHTML="")})},clear:function(){return this.empty()}});x.each=function(e,r){let l=0;if(me(e))[].forEach.call(e,function(a,t){r.apply(a,[t,a])});else for(let a in e)Vt(e,a)&&r.apply(e[a],[a,e[a],l++]);return e};x.fn.extend({each:function(e){return x.each(this,e)}});var Te=function(e){this.expando="DATASET:UID:"+e.toUpperCase(),Te.uid++};Te.uid=-1;Te.prototype={cache:function(e){let r=e[this.expando];return r||(r={},ia(e)&&(e.nodeType?e[this.expando]=r:Object.defineProperty(e,this.expando,{value:r,configurable:!0}))),r},set:function(e,r,l){let a,t=this.cache(e);if(typeof r=="string")t[pt(r)]=l;else for(a in r)Vt(r,a)&&(t[pt(a)]=r[a]);return t},get:function(e,r){return r===void 0?this.cache(e):e[this.expando]&&e[this.expando][pt(r)]},access:function(e,r,l){return r===void 0||r&&typeof r=="string"&&l===void 0?this.get(e,r):(this.set(e,r,l),l!==void 0?l:r)},remove:function(e,r){let l,a=e[this.expando];if(a!==void 0){if(r!==void 0)for(Array.isArray(r)?r=r.map(pt):(r=pt(r),r=r in a?[r]:r.match(/[^\x20\t\r\n\f]+/g)||[]),l=r.length;l--;)delete a[r[l]];return(r===void 0||de(a))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando]),!0}},hasData:function(e){let r=e[this.expando];return r!==void 0&&!de(r)}};var Bt=new Te("dom");x.extend({hasData:function(e){return Bt.hasData(e)},data:function(e,r,l){return Bt.access(e,r,l)},removeData:function(e,r){return Bt.remove(e,r)},dataSet:function(e){if(O(e))return Bt;if(["INTERNAL","DOM"].indexOf(e.toUpperCase())>-1)throw Error("You can not use reserved name for your dataset");return new Te(e)}});x.fn.extend({data:function(e,r){let l,a,t,o,i,p;if(this.length!==0){if(a=this[0],arguments.length===0){if(this.length&&(t=Bt.get(a),a.nodeType===1))for(o=a.attributes,p=o.length;p--;)o[p]&&(i=o[p].name,i.indexOf("data-")===0&&(i=pt(i.slice(5)),Ql(a,i,t[i])));return t}return arguments.length===1?(l=Bt.get(a,e),l===void 0&&a.nodeType===1&&a.hasAttribute("data-"+e)&&(l=a.getAttribute("data-"+e)),l):this.each(function(){Bt.set(this,e,r)})}},removeData:function(e){return this.each(function(){Bt.remove(this,e)})},origin:function(e,r,l){if(this.length===0)return this;if(O(e)&&O(r))return x.data(this[0]);if(O(r)){let a=x.data(this[0],"origin-"+e);return O(a)?l:a}return this.data("origin-"+e,r),this}});x.extend({device:/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()),localhost:$r(),isLocalhost:$r,touchable:Ml(),isPrivateAddress:$l,uniqueId:function(e){let r=new Date().getTime();return O(e)&&(e="m4q"),(e!==""?e+"-":"")+"xxxx-xxxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){let a=(r+Math.random()*16)%16|0;return r=Math.floor(r/16),(l==="x"?a:a&3|8).toString(16)})},toArray:function(e){let r,l=[];for(r=0;r<e.length;r++)l.push(e[r]);return l},import:function(e){let r=[];return this.each(e,function(){r.push(this)}),this.merge(x(),r)},merge:function(e,r){let l=+r.length,a=0,t=e.length;for(;a<l;a++)e[t++]=r[a];return e.length=t,e},type:function(e){return Object.prototype.toString.call(e).replace(/^\[object (.+)]$/,"$1").toLowerCase()},isSelector:function(e){if(typeof e!="string")return!1;try{return document.querySelector(e),!0}catch{return!1}},remove:function(e){return x(e).remove()},isPlainObject:Ot,isEmptyObject:de,isArrayLike:me,acceptData:ia,not:O,parseUnit:ne,getUnit:aa,unit:ne,isVisible:ce,isHidden:Jl,matches:function(e,r){return st.call(e,r)},random:function(e,r){return arguments.length===1&&me(e)?e[Math.floor(Math.random()*e.length)]:Math.floor(Math.random()*(r-e+1)+e)},hasProp:Vt,dark:globalThis.matchMedia&&globalThis.matchMedia("(prefers-color-scheme: dark)").matches,serializeToArray:function(e){let r=x(e)[0];if(!r||r.nodeName!=="FORM"){console.warn("Element is not a HTMLFromElement");return}let l,a,t=[];for(l=r.elements.length-1;l>=0;l=l-1)if(r.elements[l].name!=="")switch(r.elements[l].nodeName){case"INPUT":switch(r.elements[l].type){case"checkbox":case"radio":r.elements[l].checked&&t.push(r.elements[l].name+"="+encodeURIComponent(r.elements[l].value));break;case"file":break;default:t.push(r.elements[l].name+"="+encodeURIComponent(r.elements[l].value))}break;case"TEXTAREA":t.push(r.elements[l].name+"="+encodeURIComponent(r.elements[l].value));break;case"SELECT":switch(r.elements[l].type){case"select-one":t.push(r.elements[l].name+"="+encodeURIComponent(r.elements[l].value));break;case"select-multiple":for(a=r.elements[l].options.length-1;a>=0;a=a-1)r.elements[l].options[a].selected&&t.push(r.elements[l].name+"="+encodeURIComponent(r.elements[l].options[a].value));break}break;case"BUTTON":switch(r.elements[l].type){case"reset":case"submit":case"button":t.push(r.elements[l].name+"="+encodeURIComponent(r.elements[l].value));break}break}return t},serialize:function(e){return x.serializeToArray(e).join("&")},viewport:function(){let e=window,r=document,l=r.documentElement,a=r.getElementsByTagName("body")[0],t=e.innerWidth||l.clientWidth||a.clientWidth,o=e.innerHeight||l.clientHeight||a.clientHeight;return{width:t,height:o}}});x.fn.extend({items:function(){return x.toArray(this)}});var ts=Event.prototype.stopPropagation,es=Event.prototype.preventDefault;Event.prototype.stopPropagation=function(){this.isPropagationStopped=!0,ts.apply(this,arguments)};Event.prototype.preventDefault=function(){this.isPreventedDefault=!0,es.apply(this,arguments)};Event.prototype.stop=function(e){return e?this.stopImmediatePropagation():this.stopPropagation()};x.extend({events:[],eventHooks:{},eventUID:-1,setEventHandler:function(e){let r,l=-1,a,t;if(this.events.length>0){for(r=0;r<this.events.length;r++)if(this.events[r].handler===null){l=r;break}}return a={element:e.el,event:e.event,handler:e.handler,selector:e.selector,ns:e.ns,id:e.id,options:e.options},l===-1?(this.events.push(a),t=this.events.length-1):(this.events[l]=a,t=l),t},getEventHandler:function(e){if(this.events[e]!==void 0&&this.events[e]!==null)return this.events[e]=null,this.events[e].handler},off:function(){return x.each(this.events,function(){this.element.removeEventListener(this.event,this.handler,!0)}),this.events=[],this},getEvents:function(){return this.events},getEventHooks:function(){return this.eventHooks},addEventHook:function(e,r,l="before"){return x.each(Wt(e),function(){this.eventHooks[pt(l+"-"+this)]=r}),this},removeEventHook:function(e,r="before"){return x.each(Wt(e),function(){delete this.eventHooks[pt(r+"-"+this)]}),this},removeEventHooks:function(e){let r=this;return O(e)?this.eventHooks={}:x.each(Wt(e),function(){delete r.eventHooks[pt("before-"+this)],delete r.eventHooks[pt("after-"+this)]}),this}});x.fn.extend({on:function(e,r,l,a){if(this.length!==0)return typeof r=="function"&&(a=l,l=r,r=void 0),Ot(a)||(a={}),this.each(function(){let t=this;x.each(Wt(e),function(){let o,i=this,p=i.split("."),c=xo(p[0]),d=a.ns?a.ns:p[1],m,f;x.eventUID++,o=function(u){let g=u.target,h=x.eventHooks[pt("before-"+c)],b=x.eventHooks[pt("after-"+c)];if(typeof h=="function"&&h.call(g,u),!r)l.call(t,u);else for(;g&&g!==t;){if(st.call(g,r)&&(l.call(g,u),u.isPropagationStopped)){u.stopImmediatePropagation();break}g=g.parentNode}typeof b=="function"&&b.call(g,u),a.once&&(m=+x(t).origin("event-"+u.type+(r?":"+r:"")+(d?":"+d:"")),isNaN(m)||x.events.splice(m,1))},Object.defineProperty(o,"name",{value:l.name&&l.name!==""?l.name:"func_event_"+c+"_"+x.eventUID}),f=c+(r?":"+r:"")+(d?":"+d:""),t.addEventListener(c,o,de(a)?!1:a),m=x.setEventHandler({el:t,event:c,handler:o,selector:r,ns:d,id:x.eventUID,options:de(a)?!1:a}),x(t).origin("event-"+f,m)})})},one:function(e,r,l,a){return Ot(a)||(a={}),a.once=!0,this.on.apply(this,[e,r,l,a])},off:function(e,r,l){return Ot(r)&&(l=r,r=null),Ot(l)||(l={}),O(e)||e.toLowerCase()==="all"?this.each(function(){let a=this;x.each(x.events,function(){let t=this;t.element===a&&(a.removeEventListener(t.event,t.handler,t.options),t.handler=null,x(a).origin("event-"+name+(t.selector?":"+t.selector:"")+(t.ns?":"+t.ns:""),null))})}):this.each(function(){let a=this;x.each(Wt(e),function(){let t=this.split("."),o=xo(t[0]),i=l.ns?l.ns:t[1],p,c;p="event-"+o+(r?":"+r:"")+(i?":"+i:""),c=x(a).origin(p),c!==void 0&&x.events[c].handler&&(a.removeEventListener(o,x.events[c].handler,x.events[c].options),x.events[c].handler=null),x(a).origin(p,null)})})},trigger:function(e,r){return this.fire(e,r)},fire:function(e,r){let l,a;if(this.length!==0)return l=xo(e),["focus","blur"].indexOf(l)>-1?(this[0][l](),this):(a=new CustomEvent(l,{bubbles:!0,cancelable:!0,detail:r}),this.each(function(){this.dispatchEvent(a)}))}});"blur focus resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu touchstart touchend touchmove touchcancel".split(" ").forEach(function(e){x.fn[e]=function(r,l,a){return arguments.length>0?this.on(e,r,l,a):this.fire(e)}});x.fn.extend({hover:function(e,r){return this.mouseenter(e).mouseleave(r||e)}});x.ready=function(e,r){document.addEventListener("DOMContentLoaded",e,r||!1)};x.load=function(e){return x(window).on("load",e)};x.unload=function(e){return x(window).on("unload",e)};x.fn.extend({unload:function(e){return this.length===0||this[0].self!==window?void 0:x.unload(e)}});x.beforeunload=function(e){return typeof e=="string"?x(window).on("beforeunload",function(r){return r.returnValue=e,e}):x(window).on("beforeunload",e)};x.fn.extend({beforeunload:function(e){return this.length===0||this[0].self!==window?void 0:x.beforeunload(e)}});x.fn.extend({ready:function(e){if(this.length&&this[0]===document&&typeof e=="function")return x.ready(e)}});x.ajax=function(e){return new Promise(function(r,l){let a=new XMLHttpRequest,t=(e.method||"GET").toUpperCase(),o=[],i=O(e.async)?!0:e.async,p=e.url,c,d=function(u,g){typeof u=="function"&&u.apply(null,g)},m=function(u){return["GET","JSON"].indexOf(u)!==-1},f=function(u){let g=[];return x.each(u,function(h,b){let v=Kl(b)?b:JSON.stringify(b);g.push(h+"="+v)}),g.join("&")};if(e.data instanceof HTMLFormElement){let u=e.data.getAttribute("action").trim(),g=e.data.getAttribute("method").trim();O(p)&&u&&(p=u),g&&(t=g.toUpperCase())}if(e.timeout&&(a.timeout=e.timeout),e.withCredentials&&(a.withCredentials=e.withCredentials),e.data instanceof HTMLFormElement)c=x.serialize(e.data);else if(e.data instanceof HTMLElement&&e.data.getAttribute("type")&&e.data.getAttribute("type").toLowerCase()==="file"){let u=e.data.getAttribute("name");c=new FormData;for(let g=0;g<e.data.files.length;g++)c.append(u,e.data.files[g])}else Ot(e.data)?c=f(e.data):e.data instanceof FormData||typeof e.data=="string"?c=e.data:(c=new FormData,c.append("_data",JSON.stringify(e.data)));m(t)&&(p+=typeof c=="string"?"?"+c:de(c)?"":"?"+JSON.stringify(c)),a.open(t,p,i,e.user,e.password),e.headers&&x.each(e.headers,function(u,g){a.setRequestHeader(u,g),o.push(u)}),m(t)||o.indexOf("Content-type")===-1&&e.contentType!==!1&&a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.send(c),a.addEventListener("load",function(u){if(a.readyState===4&&a.status<300){let g=e.returnValue&&e.returnValue==="xhr"?a:a.response;if(e.parseJson)try{g=JSON.parse(g)}catch{g={}}d(r,[g]),d(e.onSuccess,[u,a])}else d(l,[a]),d(e.onFail,[u,a]);d(e.onLoad,[u,a])}),x.each(["readystatechange","error","timeout","progress","loadstart","loadend","abort"],function(){let u=pt("on-"+(this==="readystatechange"?"state":this));a.addEventListener(u,function(g){d(e[u],[g,a])})})})};["GET","POST","PUT","PATCH","DELETE","JSON"].forEach(function(e){x[e.toLowerCase()]=function(r,l,a){let t={method:e==="JSON"?"GET":e,url:r,data:l,parseJson:e==="JSON"};return x.ajax(x.extend({},t,a))}});x.fn.extend({load:function(e,r,l){let a=this;return this.length&&this[0].self===window?x.load(e):x.get(e,r,l).then(function(t){a.each(function(){this.innerHTML=t})})}});x.fn.extend({style:function(e,r){let l;function a(t,o,i){return["scrollLeft","scrollTop"].indexOf(o)>-1?x(t)[o]():getComputedStyle(t,i)[o]}if(!(typeof e=="string"&&this.length===0)){if(this.length===0)return this;if(l=this[0],O(e)||e==="all")return getComputedStyle(l,r);{let t={},o=e.split(", ").map(function(i){return(""+i).trim()});return o.length===1?a(l,o[0],r):(x.each(o,function(){let i=this;t[this]=a(l,i,r)}),t)}}},removeStyleProperty:function(e){if(O(e)||this.length===0)return this;let r=e.split(", ").map(function(l){return(""+l).trim()});return this.each(function(){let l=this;x.each(r,function(){l.style.removeProperty(this)})})},removeStyle:function(e){if(!e)return this;let r=Wt(e,", ");return this.each(function(){let l=this;x.each(r,function(){l.style[this]=""})})},css:function(e,r){return e=e||"all",typeof e=="string"&&O(r)?this.style(e):this.each(function(){let l=this;typeof e=="object"?x.each(e,function(a,t){Mr(l,a,t)}):typeof e=="string"&&Mr(l,e,r)})},cssVar:function(e,r){return O(e)?this:O(r)?getComputedStyle(this[0]).getPropertyValue("--"+e):this.each(function(){this.style.setProperty("--"+e,r)})}});x.fn.extend({addClass:function(){},removeClass:function(){},toggleClass:function(){},containsClass:function(e){return this.hasClass(e)},hasClass:function(e){let r=!1,l=e.split(" ").filter(function(a){return(""+a).trim()!==""});return O(e)?!1:(this.each(function(){let a=this;x.each(l,function(){!r&&a.classList&&a.classList.contains(this)&&(r=!0)})}),r)},clearClasses:function(){return this.each(function(){this.className=""})},cls:function(e=!1){return this.length===0?void 0:e?this[0].className.split(" "):this[0].className},removeClassBy:function(e){return this.each(function(){let r=x(this),l=r.cls(!0);x.each(l,function(){let a=this;a.indexOf(e)>-1&&r.removeClass(a)})})},classNames:function(){let e=Array.prototype.slice.call(arguments,0),r=[];return x.each(e,function(l,a){typeof a=="string"?r.push(a):Ot(a)?x.each(a,function(t,o){o&&r.push(t)}):Xl()}),this.each(function(){this.className+=" "+r.join(" ")})}});["add","remove","toggle"].forEach(function(e){x.fn[e+"Class"]=function(r){let l=r?Array.isArray(r)?r:r.split(" ").filter(function(a){return!!a}):[];return l.length?this.each(function(){let a=this;typeof a.classList<"u"?x.each(l,function(o,i){a.classList[e](i)}):a.className+=l.join(" ")}):this}});x.parseHTML=function(e){let r,l,a=[],t,o,i=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;if(typeof e!="string")return[];if(e=e.trim(),t=document.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=document.location.href,t.head.appendChild(r),o=t.body,l=i.exec(e),l)a.push(document.createElement(l[1]));else{o.innerHTML=e;for(let p=0;p<o.childNodes.length;p++)a.push(o.childNodes[p])}return a};x.fn.extend({_size:function(e,r){if(this.length!==0){if(O(r)){let l=this[0];if(e==="height")return l===window?window.innerHeight:l===document?l.body.clientHeight:parseInt(getComputedStyle(l).height);if(e==="width")return l===window?window.innerWidth:l===document?l.body.clientWidth:parseInt(getComputedStyle(l).width)}return this.each(function(){let l=this;l===window||l===document||(l.style[e]=isNaN(r)?r:r+"px")})}},height:function(e){return this._size("height",e)},width:function(e){return this._size("width",e)},_sizeOut:function(e,r){let l,a,t,o;if(this.length!==0)return!O(r)&&typeof r!="boolean"?this.each(function(){let i=this;if(i===window||i===document)return;let p,c=getComputedStyle(i),d=e==="width"?parseInt(c["border-left-width"])+parseInt(c["border-right-width"]):parseInt(c["border-top-width"])+parseInt(c["border-bottom-width"]),m=e==="width"?parseInt(c["padding-left"])+parseInt(c["padding-right"]):parseInt(c["padding-top"])+parseInt(c["padding-bottom"]);p=x(this)[e](r)[e]()-d-m,i.style[e]=p+"px"}):(l=this[0],a=l[e==="width"?"offsetWidth":"offsetHeight"],t=getComputedStyle(l),o=a+parseInt(t[e==="width"?"margin-left":"margin-top"])+parseInt(t[e==="width"?"margin-right":"margin-bottom"]),r===!0?o:a)},outerWidth:function(e){return this._sizeOut("width",e)},outerHeight:function(e){return this._sizeOut("height",e)},padding:function(e){if(this.length===0)return;let r=getComputedStyle(this[0],e);return{top:parseInt(r["padding-top"]),right:parseInt(r["padding-right"]),bottom:parseInt(r["padding-bottom"]),left:parseInt(r["padding-left"])}},margin:function(e){if(this.length===0)return;let r=getComputedStyle(this[0],e);return{top:parseInt(r["margin-top"]),right:parseInt(r["margin-right"]),bottom:parseInt(r["margin-bottom"]),left:parseInt(r["margin-left"])}},border:function(e){if(this.length===0)return;let r=getComputedStyle(this[0],e);return{top:parseInt(r["border-top-width"]),right:parseInt(r["border-right-width"]),bottom:parseInt(r["border-bottom-width"]),left:parseInt(r["border-left-width"])}}});x.fn.extend({offset:function(e){let r;return O(e)?this.length===0?void 0:(r=this[0].getBoundingClientRect(),{top:r.top+scrollY,left:r.left+scrollX}):this.each(function(){let l=x(this),a=e.top,t=e.left,o=getComputedStyle(this).position,i=l.offset();o==="static"&&l.css("position","relative"),["absolute","fixed"].indexOf(o)===-1&&(a=a-i.top,t=t-i.left),l.css({top:a,left:t})})},position:function(e=!1){let r=0,l=0,a,t;if(this.length!==0)return a=this[0],t=getComputedStyle(a),e&&(r=parseInt(t["margin-left"]),l=parseInt(t["margin-top"])),{left:a.offsetLeft-r,top:a.offsetTop-l}},left:function(e,r){if(this.length!==0)return O(e)?this.position(r).left:typeof e=="boolean"?(r=e,this.position(r).left):this.each(function(){x(this).css({left:e})})},top:function(e,r){if(this.length!==0)return O(e)?this.position(r).top:typeof e=="boolean"?(r=e,this.position(r).top):this.each(function(){x(this).css({top:e})})},rect:function(){return this.length===0?void 0:this[0].getBoundingClientRect()},pos:function(){if(this.length===0)return;let e=this[0];return{top:parseInt(e.style("top")),left:parseInt(e.style("left"))}}});x.fn.extend({attr:function(e,r){let l={};if(!(this.length===0&&arguments.length===0))return this.length&&arguments.length===0?(x.each(this[0].attributes,function(){l[this.nodeName]=this.nodeValue}),l):arguments.length===1&&typeof e=="string"?this.length&&this[0].nodeType===1&&this[0].hasAttribute(e)?this[0].getAttribute(e):void 0:this.each(function(){let a=this;Ot(e)?x.each(e,function(t,o){a.setAttribute(t,o)}):a.setAttribute(e,r)})},removeAttr:function(e){let r;return O(e)?this.each(function(){let l=this;x.each(this.attributes,function(){l.removeAttribute(this)})}):(r=typeof e=="string"?e.split(",").map(function(l){return l.trim()}):e,this.each(function(){let l=this;x.each(r,function(){l.hasAttribute(this)&&l.removeAttribute(this)})}))},toggleAttr:function(e,r){return this.each(function(){let l=this;O(r)?l.removeAttribute(e):l.setAttribute(e,r)})},id:function(e){return typeof e>"u"?this.length===1?x(this[0]).attr("id"):this.map(r=>x(r).attr("id")):this.each(function(){x(this).attr("id",e)})},title:function(e){return typeof e>"u"?this.length?x(this[0]).attr("title"):void 0:this.each(function(){x(this).attr("title",e)})},href:function(e){return typeof e>"u"?this.length&&this[0].tagName==="A"?this[0].href:void 0:this.each(function(){this.tagName==="A"&&(this.href=e)})},name:function(e){return typeof e>"u"?this.length&&this[0].name?this[0].name:void 0:this.each(function(){this.name&&(this.name=e)})},src:function(e){return typeof e>"u"?this.length&&this[0].src?this[0].src:void 0:this.each(function(){this.src&&(this.src=e)})}});x.extend({meta:function(e){return O(e)?x("meta"):x("meta[name='$name']".replace("$name",e))},metaBy:function(e){return O(e)?x("meta"):x("meta[$name]".replace("$name",e))},doctype:function(){return x("doctype")},html:function(){return x("html")},head:function(){return x("html").find("head")},body:function(){return x("body")},document:function(){return x(document)},window:function(){return x(window)},charset:function(e){if(e){let r=x("meta[charset]");r.length>0&&r.attr("charset",e)}return document.characterSet},lang:function(e){if(e){let r=x("html");r.length>0&&r.attr("lang",e)}return document.documentElement.lang},title:function(e){if(typeof e>"u")return document.title;document.title=e}});x.extend({bind:(e,r)=>e.bind(r)});(function(e){e.forEach(function(r){["append","prepend"].forEach(function(l){Vt(r,l)||Object.defineProperty(r,l,{configurable:!0,enumerable:!0,writable:!0,value:function(){let a=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();a.forEach(function(o){let i=o instanceof Node;t.appendChild(i?o:document.createTextNode(String(o)))}),l==="prepend"?this.insertBefore(t,this.firstChild):this.appendChild(t)}})})})})([Element.prototype,Document.prototype,DocumentFragment.prototype]);var jt=function(e){let r;return typeof e=="string"?r=x.isSelector(e)?x(e):x.parseHTML(e):e instanceof HTMLElement?r=[e]:me(e)&&(r=e),r};x.fn.extend({appendText:function(e){return this.each(function(r,l){l.innerHTML+=e})},prependText:function(e){return this.each(function(r,l){l.innerHTML=e+l.innerHTML})},append:function(e){let r=jt(e);return this.each(function(l,a){x.each(r,function(){if(a===this)return;let t=l===0?this:this.cloneNode(!0);t.tagName&&t.tagName==="SCRIPT"?x.script(t,a):a.append(t)})})},appendTo:function(e){let r=jt(e);return this.each(function(){let l=this;x.each(r,function(a,t){l!==this&&t.append(a===0?l:l.cloneNode(!0))})})},prepend:function(e){let r=jt(e);return this.each(function(l,a){x.each(r,function(){if(a===this)return;let t=l===0?this:this.cloneNode(!0);x.script(t),t.tagName&&t.tagName!=="SCRIPT"&&a.prepend(t)})})},prependTo:function(e){let r=jt(e);return this.each(function(){let l=this;x.each(r,function(a,t){l!==this&&x(t).prepend(a===0?l:l.cloneNode(!0))})})},insertBefore:function(e){let r=jt(e);return this.each(function(){let l=this;x.each(r,function(a){if(l===this)return;let t=this.parentNode;t&&t.insertBefore(a===0?l:l.cloneNode(!0),this)})})},insertAfter:function(e){let r=jt(e);return this.each(function(){let l=this;x.each(r,function(a,t){if(l===this)return;let o=this.parentNode;o&&o.insertBefore(a===0?l:l.cloneNode(!0),t.nextSibling)})})},after:function(e){return this.each(function(){let r=this;typeof e=="string"?r.insertAdjacentHTML("afterend",e):x(e).insertAfter(r)})},before:function(e){return this.each(function(){let r=this;typeof e=="string"?r.insertAdjacentHTML("beforebegin",e):x(e).insertBefore(r)})},clone:function(e,r){let l=[];return O(e)&&(e=!1),O(r)&&(r=!1),this.each(function(){let a=this.cloneNode(e),t=x(a),o;r&&x.hasData(this)&&(o=x(this).data(),x.each(o,function(i,p){t.data(i,p)})),l.push(a)}),x.merge(x(),l)},import:function(e){let r=[];return O(e)&&(e=!1),this.each(function(){r.push(document.importNode(this,e))}),x.merge(x(),r)},adopt:function(){let e=[];return this.each(function(){e.push(document.adoptNode(this))}),x.merge(x(),e)},remove:function(e){let r=0,l,a,t=[];if(this.length!==0){for(a=e?this.filter(function(o){return st.call(o,e)}):this.items();(l=a[r])!=null;r++)l.parentNode&&(t.push(l.parentNode.removeChild(l)),x.removeData(l));return x.merge(x(),t)}},wrap:function(e){if(this.length===0)return;let r=x(jt(e));if(!r.length)return;let l=[];return this.each(function(){let a,t;for(t=r.clone(!0,!0),t.insertBefore(this),a=t;a.children().length;)a=a.children().eq(0);a.append(this),l.push(t)}),x(l)},wrapAll:function(e){let r,l,a;if(this.length!==0&&(r=x(jt(e)),!!r.length)){for(l=r.clone(!0,!0),l.insertBefore(this[0]),a=l;a.children().length;)a=a.children().eq(0);return this.each(function(){a.append(this)}),l}},wrapInner:function(e){if(this.length===0)return;let r=x(jt(e));if(!r.length)return;let l=[];return this.each(function(){let a=x(this),t=a.html(),o=r.clone(!0,!0);a.html(o.html(t)),l.push(o)}),x(l)}});x.extend({animation:{duration:1e3,ease:"linear",elements:{}}});typeof window.setupAnimation=="object"&&x.each(window.setupAnimation,function(e,r){typeof x.animation[e]<"u"&&!O(r)&&(x.animation[e]=r)});var os=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY"],rs=["opacity","zIndex"],as=["opacity","volume"],is=["scrollLeft","scrollTop"],ns=["opacity","volume"];function na(e){return e instanceof HTMLElement||e instanceof SVGElement}function ls(e,r){let l=/^(\*=|\+=|-=)/.exec(e);if(!l)return e;let a=aa(e)||0,t=parseFloat(r),o=parseFloat(e.replace(l[0],""));switch(l[0][0]){case"+":return t+o+a;case"-":return t-o+a;case"*":return t*o+a;case"/":return t/o+a}}function ss(e,r,l){return typeof e[r]<"u"?is.indexOf(r)>-1?r==="scrollLeft"?e===window?scrollX:e.scrollLeft:e===window?scrollY:e.scrollTop:e[r]||0:e.style[r]||getComputedStyle(e,l)[r]}function ps(e,r,l,a,t){O(t)&&(t=!1),r=pt(r),t&&(l=parseInt(l)),na(e)?typeof e[r]<"u"?e[r]=l:e.style[r]=r==="transform"||r.toLowerCase().indexOf("color")>-1?l:l+a:e[r]=l}function cs(e,r,l){x.each(r,function(a,t){ps(e,a,t[0]+t[2]*l,t[3],t[4])})}function la(e){if(!na(e))return{};let r=e.style.transform||"",l=/(\w+)\(([^)]*)\)/g,a={},t;for(;t=l.exec(r);)a[t[1]]=t[2];return a}function vo(e){return/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e||"#000000").slice(1).map(function(l){return parseInt(l,16)})}function ds(e,r){return getComputedStyle(e)[r].replace(/[^\d.,]/g,"").split(",").map(function(l){return parseInt(l)})}function ms(e,r,l){let a=[],t=la(e);x.each(r,function(o,i){let p=i[0],c=i[1],d=i[2],m=i[3];o=""+o,(o.indexOf("rotate")>-1||o.indexOf("skew")>-1)&&m===""&&(m="deg"),o.indexOf("scale")>-1&&(m=""),o.indexOf("translate")>-1&&m===""&&(m="px"),m==="turn"?a.push(o+"("+c*l+m+")"):a.push(o+"("+(p+d*l)+m+")")}),x.each(t,function(o,i){r[o]===void 0&&a.push(o+"("+i+")")}),e.style.transform=a.join(" ")}function fs(e,r,l){x.each(r,function(a,t){let o,i=[0,0,0],p;for(o=0;o<3;o++)i[o]=Math.floor(t[0][o]+t[2][o]*l);p="rgb("+i.join(",")+")",e.style[a]=p})}function ea(e){let r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;return e[0]==="#"&&e.length===4?"#"+e.replace(r,function(l,a,t,o){return a+a+t+t+o+o}):e[0]==="#"?e:"#"+e}function oa(e,r,l){cs(e,r.props,l),ms(e,r.transform,l),fs(e,r.color,l)}function us(e,r,l){let a={props:{},transform:{},color:{}},t,o,i,p,c,d,m=la(e);return O(l)&&(l="normal"),x.each(r,function(f,u){let g=os.indexOf(""+f)>-1,h=rs.indexOf(""+f)>-1,b=(""+f).toLowerCase().indexOf("color")>-1;if(Array.isArray(u)&&u.length===1&&(u=u[0]),Array.isArray(u)?(o=b?vo(ea(u[0])):ne(u[0]),i=b?vo(ea(u[1])):ne(u[1])):(g?o=m[f]||f==="scale"?1:0:b?o=ds(e,f):o=ss(e,f,void 0),o=b?o:ne(o),i=b?vo(u):ne(ls(u,Array.isArray(o)?o[0]:o))),ns.indexOf(""+f)>-1&&o[0]===i[0]&&(o[0]=i[0]>0?0:1),l==="reverse"&&(d=o,o=i,i=d),c=e instanceof HTMLElement&&i[1]===""&&!h&&!g?"px":i[1],b)for(p=[0,0,0],t=0;t<3;t++)p[t]=i[t]-o[t];else p=i[0]-o[0];g?a.transform[f]=[o[0],i[0],p,c]:b?a.color[f]=[o,i,p,c]:a.props[f]=[o[0],i[0],p,c,as.indexOf(""+f)===-1]}),a}function ra(e,r,l){return Math.min(Math.max(e,r),l)}var At={linear:function(){return function(e){return e}}};At.default=At.linear;var ko={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){let r,l=4;for(;e<((r=Math.pow(2,--l))-1)/11;);return 1/Math.pow(4,3-l)-7.5625*Math.pow((r*3-2)/22-e,2)}},Elastic:function(e,r){O(e)&&(e=1),O(r)&&(r=.5);let l=ra(e,1,10),a=ra(r,.1,2);return function(t){return t===0||t===1?t:-l*Math.pow(2,10*(t-1))*Math.sin((t-1-a/(Math.PI*2)*Math.asin(1/l))*(Math.PI*2)/a)}}};["Quad","Cubic","Quart","Quint","Expo"].forEach(function(e,r){ko[e]=function(){return function(l){return Math.pow(l,r+2)}}});Object.keys(ko).forEach(function(e){let r=ko[e];At["easeIn"+e]=r,At["easeOut"+e]=function(l,a){return function(t){return 1-r(l,a)(1-t)}},At["easeInOut"+e]=function(l,a){return function(t){return t<.5?r(l,a)(t*2)/2:1-r(l,a)(t*-2+2)/2}}});var gs={id:null,el:null,draw:{},dur:x.animation.duration,ease:x.animation.ease,loop:0,pause:0,dir:"normal",defer:0,onStart:function(){},onStop:function(){},onStopAll:function(){},onPause:function(){},onPauseAll:function(){},onResume:function(){},onResumeAll:function(){},onFrame:function(){},onDone:function(){}};function wo(e){return new Promise(function(r){let l=this,a=x.assign({},gs,{dur:x.animation.duration,ease:x.animation.ease},e),t=a.id,o=a.el,i=a.draw,p=a.dur,c=a.ease,d=a.loop,m=a.onStart,f=a.onFrame,u=a.onDone,g=a.pause,h=a.dir,b=a.defer,v={},k="linear",w=[],T=At.linear,_,y=h==="alternate"?"normal":h,C=!1,z=t||+(performance.now()*Math.pow(10,14));if(O(o))throw new Error("Unknown element!");if(typeof o=="string"&&(o=document.querySelector(o)),typeof i!="function"&&typeof i!="object")throw new Error("Unknown draw object. Must be a function or object!");p===0&&(p=1),h==="alternate"&&typeof d=="number"&&(d*=2),typeof c=="string"?(_=/\(([^)]+)\)/.exec(c),k=c.split("(")[0],w=_?_[1].split(",").map(function(Y){return parseFloat(Y)}):[],T=At[k]||At.linear):typeof c=="function"?T=c:T=At.linear,x.animation.elements[z]={element:o,id:null,stop:0,pause:0,loop:0,t:-1,started:0,paused:0};let A=function(){typeof i=="object"&&(v=us(o,i,y)),typeof m=="function"&&m.apply(o),x.animation.elements[z].loop+=1,x.animation.elements[z].started=performance.now(),x.animation.elements[z].duration=p,x.animation.elements[z].id=requestAnimationFrame(N)},R=function(){cancelAnimationFrame(x.animation.elements[z].id),delete x.animation.elements[t],typeof u=="function"&&u.apply(o),r(l)},N=function(Y){let q,W,{stop:at,pause:Et,started:vt}=x.animation.elements[z];if(x.animation.elements[z].paused&&(vt=Y-x.animation.elements[z].t*p,x.animation.elements[z].started=vt),W=((Y-vt)/p).toFixed(4),W>1&&(W=1),W<0&&(W=0),q=T.apply(null,w)(W),x.animation.elements[z].t=W,x.animation.elements[z].p=q,Et){x.animation.elements[z].id=requestAnimationFrame(N);return}if(at>0){at===2&&(typeof i=="function"?i.bind(o)(1,1):oa(o,v,1)),R();return}typeof i=="function"?i.bind(o)(W,q):oa(o,v,q),typeof f=="function"&&f.apply(o,[W,q]),W<=1&&(x.animation.elements[z].id=requestAnimationFrame(N)),W>=1&&(d?(h==="alternate"&&(y=y==="normal"?"reverse":"normal"),typeof d=="boolean"?setTimeout(function(){A()},g):d>x.animation.elements[z].loop?setTimeout(function(){A()},g):R()):h==="alternate"&&!C?(y=y==="normal"?"reverse":"normal",C=!0,A()):R())};b>0?setTimeout(function(){A()},b):A()})}function le(e,r){let l=x.animation.elements[e];typeof l>"u"||(O(r)&&(r=!0),l.stop=r===!0?2:1,typeof l.onStop=="function"&&l.onStop.apply(l.element))}function hs(e,r){x.each(x.animation.elements,function(l,a){r?typeof r=="string"?st.call(a.element,r)&&le(l,e):r.length?x.each(r,function(){a.element===this&&le(l,e)}):r instanceof Element&&a.element===r&&le(l,e):le(l,e)})}function se(e){let r=x.animation.elements[e];typeof r>"u"||(r.pause=1,r.paused=performance.now(),typeof r.onPause=="function"&&r.onPause.apply(r.element))}function bs(e){x.each(x.animation.elements,function(r,l){e?typeof e=="string"?st.call(l.element,e)&&se(r):e.length?x.each(e,function(){l.element===this&&se(r)}):e instanceof Element&&l.element===e&&se(r):se(r)})}function pe(e){let r=x.animation.elements[e];typeof r>"u"||(r.pause=0,r.paused=0,typeof r.onResume=="function"&&r.onResume.apply(r.element))}function xs(e){x.each(x.animation.elements,function(r,l){e?typeof e=="string"?st.call(l.element,e)&&pe(r):e.length?x.each(e,function(){l.element===this&&pe(r)}):e instanceof Element&&l.element===e&&pe(r):pe(r)})}var vs={loop:!1,onChainItem:null,onChainItemComplete:null,onChainComplete:null};function sa(e,r){let l=x.extend({},vs,r);if(typeof l.loop!="boolean"&&l.loop--,!Array.isArray(e))return console.warn("Chain array is not defined!"),!1;let a=function(t,o){return t.then(function(){return typeof l.onChainItem=="function"&&l.onChainItem(o),wo(o).then(function(){typeof l.onChainItemComplete=="function"&&l.onChainItemComplete(o)})})};e.reduce(a,Promise.resolve()).then(function(){typeof l.onChainComplete=="function"&&l.onChainComplete(),l.loop&&sa(e,l)})}x.easing={};x.extend(x.easing,At);x.extend({animate:function(e){let r,l,a,t,o;return arguments.length>1?(r=x(arguments[0])[0],l=arguments[1],a=arguments[2]||x.animation.duration,t=arguments[3]||x.animation.ease,o=arguments[4],typeof a=="function"&&(o=a,t=x.animation.ease,a=x.animation.duration),typeof t=="function"&&(o=t,t=x.animation.ease),wo({el:r,draw:l,dur:a,ease:t,onDone:o})):wo(e)},chain:sa,stop:le,stopAll:hs,resume:pe,resumeAll:xs,pause:se,pauseAll:bs});x.fn.extend({animate:function(e){let r=this,l,a,t,o,i=e,p;return p=!Array.isArray(e)&&(arguments.length>1||arguments.length===1&&typeof arguments[0].draw>"u"),p?(l=arguments[0],a=arguments[1]||x.animation.duration,t=arguments[2]||x.animation.ease,o=arguments[3],typeof a=="function"&&(o=a,a=x.animation.duration,t=x.animation.ease),typeof t=="function"&&(o=t,t=x.animation.ease),this.each(function(){return x.animate({el:this,draw:l,dur:a,ease:t,onDone:o})})):Array.isArray(e)?(x.each(e,function(){let c=this;r.each(function(){c.el=this,x.animate(c)})}),this):this.each(function(){i.el=this,x.animate(i)})},chain:function(e,r){return this.each(function(){let l=this;x.each(e,function(){this.el=l}),x.chain(e,r)})},stop:function(e){return this.each(function(){let r=this;x.each(x.animation.elements,function(l,a){a.element===r&&le(l,e)})})},pause:function(){return this.each(function(){let e=this;x.each(x.animation.elements,function(r,l){l.element===e&&se(r)})})},resume:function(){return this.each(function(){let e=this;x.each(x.animation.elements,function(r,l){l.element===e&&pe(r)})})}});x.extend({hidden:function(e,r,l){return e=x(e)[0],typeof r=="string"&&(r=r.toLowerCase()==="true"),typeof r=="function"&&(l=r,r=!e.hidden),e.hidden=r,typeof l=="function"&&(x.bind(l,e),l.call(e,arguments)),this},hide:function(e,r){let l=x(e);e=l[0];let a=e.style.display,t=getComputedStyle(e,null).display;return l.origin("display",{inline:a,css:t}),e.style.display="none",typeof r=="function"&&(x.bind(r,e),r.call(e,arguments)),this},show:function(e,r){let a=x(e).origin("display");if(e=x(e)[0],e.style.display="",a){let t=a.inline||"",o=a.css||"";t&&t!=="none"?e.style.display=t:o==="none"&&(e.style.display="block")}else e.style.display="block";return parseInt(e.style.opacity)===0&&(e.style.opacity="1"),typeof r=="function"&&(x.bind(r,e),r.call(e,arguments)),this},visible:function(e,r,l){return r===void 0&&(r=!0),e.style.visibility=r?"visible":"hidden",typeof l=="function"&&(x.bind(l,e),l.call(e,arguments)),this},toggle:function(e,r){let l=getComputedStyle(e,null).display!=="none"?"hide":"show";return x[l](e,r)}});x.fn.extend({hide:function(){let e;return x.each(arguments,function(){typeof this=="function"&&(e=this)}),this.each(function(){x.hide(this,e)})},show:function(){let e;return x.each(arguments,function(){typeof this=="function"&&(e=this)}),this.each(function(){x.show(this,e)})},visible:function(e,r){return this.each(function(){x.visible(this,e,r)})},toggle:function(e){return this.each(function(){x.toggle(this,e)})},hidden:function(e,r){return this.each(function(){x.hidden(this,e,r)})}});x.extend({fx:{off:!1}});x.fn.extend({fadeIn:function(e,r,l){return this.each(function(){let a=this,t=x(a),o=!(!ce(a)||ce(a)&&+t.style("opacity")==0);if(O(e)&&O(r)&&O(l)?(l=null,e=x.animation.duration):typeof e=="function"&&(l=e,e=x.animation.duration),typeof r=="function"&&(l=r,r=x.animation.ease),x.fx.off&&(e=0),o)return typeof l=="function"&&x.bind(l,this)(),this;let i=t.origin("display",void 0,"block");return a.style.opacity="0",a.style.display=i,x.animate({el:a,draw:{opacity:1},dur:e,ease:r,onDone:function(){typeof l=="function"&&x.bind(l,this)()}})})},fadeOut:function(e,r,l){return this.each(function(){let a=this,t=x(a);return O(e)&&O(r)&&O(l)?(l=null,e=x.animation.duration):typeof e=="function"&&(l=e,e=x.animation.duration),typeof r=="function"&&(l=r,r=x.animation.ease),t.origin("display",t.style("display")),ce(a)?x.animate({el:a,draw:{opacity:0},dur:e,ease:r,onDone:function(){this.style.display="none",typeof l=="function"&&x.bind(l,this)()}}):(typeof l=="function"&&x.bind(l,this)(),this)})},slideUp:function(e,r,l){return this.each(function(){let a=this,t=x(a),o;if(t.height()!==0)return O(e)&&O(r)&&O(l)?(l=null,e=x.animation.duration):typeof e=="function"&&(l=e,e=x.animation.duration),typeof r=="function"&&(l=r,r=x.animation.ease),o=t.height(),t.origin("height",o),t.origin("display",x(a).style("display")),t.css({overflow:"hidden"}),x.animate({el:a,draw:{height:0},dur:e,ease:r,onDone:function(){t.hide().removeStyleProperty("overflow, height"),typeof l=="function"&&x.bind(l,this)()}})})},slideDown:function(e,r,l){return this.each(function(){let a=this,t=x(a),o,i;return O(e)&&O(r)&&O(l)?(l=null,e=x.animation.duration):typeof e=="function"&&(l=e,e=x.animation.duration),typeof r=="function"&&(l=r,r=x.animation.ease),t.show().visible(!1),o=+t.origin("height",void 0,t.height()),parseInt(o)===0&&(o=a.scrollHeight),i=t.origin("display",t.style("display"),"block"),t.height(0).visible(!0),t.css({overflow:"hidden",display:i==="none"?"block":i}),x.animate({el:a,draw:{height:o},dur:e,ease:r,onDone:function(){x(a).removeStyleProperty("overflow, height, visibility"),typeof l=="function"&&x.bind(l,this)()}})})},moveTo:function(e,r,l,a,t){let o={top:r,left:e};return typeof l=="function"&&(t=l,l=x.animation.duration,a=x.animation.ease),typeof a=="function"&&(t=a,a=x.animation.ease),this.each(function(){x.animate({el:this,draw:o,dur:l,ease:a,onDone:t})})},centerTo:function(e,r,l,a,t){return typeof l=="function"&&(t=l,l=x.animation.duration,a=x.animation.ease),typeof a=="function"&&(t=a,a=x.animation.ease),this.each(function(){let o={left:e-this.clientWidth/2,top:r-this.clientHeight/2};x.animate({el:this,draw:o,dur:l,ease:a,onDone:t})})},colorTo:function(e,r,l,a){let t={color:e};return typeof r=="function"&&(a=r,r=x.animation.duration,l=x.animation.ease),typeof l=="function"&&(a=l,l=x.animation.ease),this.each(function(){x.animate({el:this,draw:t,dur:r,ease:l,onDone:a})})},backgroundTo:function(e,r,l,a){let t={backgroundColor:e};return typeof r=="function"&&(a=r,r=x.animation.duration,l=x.animation.ease),typeof l=="function"&&(a=l,l=x.animation.ease),this.each(function(){x.animate({el:this,draw:t,dur:r,ease:l,onDone:a})})},zoomIn:function(e,r,l){let a={scale:[0,1]};return typeof e=="function"&&(l=e,e=x.animation.duration,r=x.animation.ease),typeof r=="function"&&(l=r,r=x.animation.ease),this.each(function(){x.animate({el:this,draw:a,dur:e,ease:r,onDone:l})})},zoomOut:function(e=1e3,r="linear",l=()=>{}){return typeof e=="function"&&(l=e,e=x.animation.duration,r=x.animation.ease),typeof r=="function"&&(l=r,r=x.animation.ease),this.each(function(){x.animate({el:this,draw:{scale:0},dur:e,ease:r,onDone:l})})}});x.extend({scrollTop:function(e){if(O(e))return window.scrollY;window.scrollTo(window.scrollX,e)},scrollLeft:function(e){if(O(e))return window.scrollX;window.scrollTo(e,window.scrollY)},scrollTo:function(e,r){window.scrollTo(e,r)},scrollToElement:function(e){x(e).scrollTo()}});x.fn.extend({scrollTop:function(e){return O(e)?this.length===0?void 0:this[0]===window?scrollY:this[0].scrollTop:this.each(function(){this.scrollTop=e})},scrollLeft:function(e){return O(e)?this.length===0?void 0:this[0]===window?scrollX:this[0].scrollLeft:this.each(function(){this.scrollLeft=e})},scrollTo:function(e=!1){if(this.length===0)return this;let r=this[0].getBoundingClientRect(),l=r.left+(e?0:window.scrollX),a=r.top+(e?0:window.scrollY);return window.scrollTo(l,a),this}});x.init=function(e,r){let l,a=this;if(typeof e=="string"&&(e=e.trim()),this.uid=x.uniqueId(),!e)return this;if(typeof e=="function")return x.ready(e);if(e instanceof Element)return this.push(e),this;if(e instanceof x)return x.each(e,function(){a.push(this)}),this;if(e==="window"&&(e=window),e==="document"&&(e=document),e==="body"&&(e=document.body),e==="html"&&(e=document.documentElement),e==="doctype"&&(e=document.doctype),e&&(e.nodeType||e.self===window))return this.push(e),this;if(me(e))return x.each(e,function(){x(this).each(function(){a.push(this)})}),this;if(typeof e!="string"&&e.self&&e.self!==window)return this;if(e==="#"||e===".")return console.error("Selector can't be # or ."),this;if(e[0]==="@")x("[data-role]").each(function(){Wt(x(this).attr("data-role"),",").indexOf(e.slice(1))>-1&&a.push(this)});else if(l=x.parseHTML(e),l.length===1&&l[0].nodeType===3)try{[].push.apply(this,document.querySelectorAll(e))}catch{}else x.merge(this,l);return r!==void 0&&(r instanceof x?this.each(function(){x(r).append(a)}):r instanceof HTMLElement?x(r).append(a):Ot(r)&&x.each(this,function(){for(let t in r)Vt(r,t)&&this.setAttribute(t,r[t])})),this};x.init.prototype=x.fn;globalThis.$=x;globalThis.Dom=x;var Co={};Xo(Co,{EVENTS:()=>pa,info:()=>Hs,useClickOutside:()=>ks,useCompose:()=>ws,useCookie:()=>ys,useCurry:()=>Cs,useDebounce:()=>_s,useEvent:()=>zs,useId:()=>Ss,useInterval:()=>Es,useMediaQuery:()=>Ds,useMemo:()=>Is,usePipe:()=>js,useQueue:()=>Os,useState:()=>Fs,useThrottle:()=>Ps,useToggle:()=>Rs});function ks(e,r){if(!e)return{attach:()=>{},detach:()=>{}};let l=o=>{e.contains(o.target)||r()};return{attach:()=>document.addEventListener("click",l),detach:()=>document.removeEventListener("click",l)}}function ws(...e){if(!e.every(r=>typeof r=="function"))throw new Error("useCompose: \u0432\u0441\u0435 \u0430\u0440\u0433\u0443\u043C\u0435\u043D\u0442\u044B \u0434\u043E\u043B\u0436\u043D\u044B \u0431\u044B\u0442\u044C \u0444\u0443\u043D\u043A\u0446\u0438\u044F\u043C\u0438");switch(e.length){case 0:return r=>r;case 1:return e[0];case 2:{let[r,l]=e;return(...a)=>r(l(...a))}default:return function(...l){let a=e[e.length-1](...l);for(let t=e.length-2;t>=0;t--)a=e[t](a);return a}}}function ys(e){function r(){let t=document.cookie.match(new RegExp(`(?:^|; )${e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")}=([^;]*)`));return t?decodeURIComponent(t[1]):null}function l(t,o={}){o={path:"/",...o},document.cookie=`${e}=${encodeURIComponent(t)}; ${Object.keys(o).map(i=>`${i}=${o[i]}`).join("; ")}`}function a(){l("",{"max-age":-1})}return{get:r,set:l,delete:a}}function Cs(e){if(typeof e!="function")throw new Error("useCurry: \u043F\u0435\u0440\u0432\u044B\u0439 \u0430\u0440\u0433\u0443\u043C\u0435\u043D\u0442 \u0434\u043E\u043B\u0436\u0435\u043D \u0431\u044B\u0442\u044C \u0444\u0443\u043D\u043A\u0446\u0438\u0435\u0439");return function r(...l){return l.length>=e.length?e.apply(this,l):function(...a){return r.apply(this,l.concat(a))}}}function _s(e,r,l={}){if(typeof e!="function")throw new Error("useDebounce: \u043F\u0435\u0440\u0432\u044B\u0439 \u0430\u0440\u0433\u0443\u043C\u0435\u043D\u0442 \u0434\u043E\u043B\u0436\u0435\u043D \u0431\u044B\u0442\u044C \u0444\u0443\u043D\u043A\u0446\u0438\u0435\u0439");if(r<0)throw new Error("useDebounce: \u0432\u0440\u0435\u043C\u044F \u043E\u0436\u0438\u0434\u0430\u043D\u0438\u044F \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043F\u043E\u043B\u043E\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u043C \u0447\u0438\u0441\u043B\u043E\u043C");let a=null,t;function o(...i){let p=this,c=l.immediate&&!a;return a!==null&&clearTimeout(a),a=setTimeout(()=>{a=null,l.immediate||(t=e.apply(p,i))},r),c&&(t=e.apply(p,i)),t}return o.cancel=function(){a!==null&&(clearTimeout(a),a=null)},o}var pa=(e=>(e.LOAD="load",e.VIEWPORT="viewport",e.ATTRIBUTE="attribute",e.CHILDREN="children",e.DATA="data",e))(pa||{}),zs=({event:e,root:r,target:l,effect:a})=>{let t=typeof l=="string"?document.querySelector(l):l;if(typeof a!="function")throw Error("Side effect must be a function!");if(!t)throw Error("Please specify a target element!");switch(e){case"load":{new MutationObserver((i,p)=>{let c=document.querySelector(l);c!==null&&(a(c),p.disconnect())}).observe(document.body,{childList:!0,subtree:!0});break}case"viewport":{let i={root:r instanceof HTMLElement?r:typeof r=="string"?document.querySelector(r):null,rootMargin:"0px",threshold:.5};new IntersectionObserver((c,d)=>{for(let m of c)m.isIntersecting&&a(t)},i).observe(t);break}case"attribute":{new MutationObserver(i=>{for(let p of i)p.target===t&&p.type==="attributes"&&a(t,p.attributeName,t.getAttribute(p.attributeName))}).observe(t,{attributes:!0});break}case"children":{new MutationObserver(i=>{for(let p of i)p.target===t&&p.type==="childList"&&a(t,p.addedNodes,p.removedNodes)}).observe(t,{childList:!0,subtree:!0});break}case"data":{new MutationObserver(i=>{for(let p of i)p.target===t&&p.type==="characterData"&&a(t,t.textContent)}).observe(t,{characterData:!0});break}default:t instanceof HTMLElement&&t.addEventListener(e,o=>{a(t,o)})}},yo=new Map,As=0;function Ts(e){return e.replace(/[^a-zA-Z0-9_-]/g,"_")}function Ss(e,r={}){let l=e??Symbol("id-key"),{divider:a="-",prefix:t="id",forceNew:o=!1}=r;if(!o&&yo.has(l))return yo.get(l);let i=typeof document<"u",p=1e3,c=0,d=()=>{let f;return e instanceof HTMLElement?f=e.tagName.toLowerCase():typeof e=="object"&&e!==null?f="object":e!==void 0?f=Ts(String(e)):f="generic",`${t}${a}${f}${a}${As++}`},m=d();if(i)for(;document.getElementById(m);){if(c++>p)throw new Error("useId: \u043D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0441\u0433\u0435\u043D\u0435\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0443\u043D\u0438\u043A\u0430\u043B\u044C\u043D\u044B\u0439 ID \u043F\u043E\u0441\u043B\u0435 \u043C\u043D\u043E\u0433\u043E\u0447\u0438\u0441\u043B\u0435\u043D\u043D\u044B\u0445 \u043F\u043E\u043F\u044B\u0442\u043E\u043A");m=d()}return yo.set(l,m),m}function Es(e,r){let l=null;function a(){l||(l=window.setInterval(()=>e(),r))}function t(){l&&(window.clearInterval(l),l=null)}return{start:a,stop:t}}function Ds(e){let r=window.matchMedia(e);function l(){return r.matches}let a=l();function t(){a=l()}return r.addEventListener("change",t),a}var Is=(e,r={})=>{let l=new Map,{maxSize:a}=r,t=(...o)=>{let i=JSON.stringify(o);if(l.has(i))return l.get(i);let p=e(...o);if(a&&l.size>=a){let c=l.keys().next().value;l.delete(c)}return l.set(i,p),p};return t.clearCache=()=>(l.clear(),!0),t};function js(...e){if(!e.every(r=>typeof r=="function"))throw new Error("usePipe: \u0432\u0441\u0435 \u0430\u0440\u0433\u0443\u043C\u0435\u043D\u0442\u044B \u0434\u043E\u043B\u0436\u043D\u044B \u0431\u044B\u0442\u044C \u0444\u0443\u043D\u043A\u0446\u0438\u044F\u043C\u0438");switch(e.length){case 0:return r=>r;case 1:return e[0];case 2:{let[r,l]=e;return(...a)=>l(r(...a))}default:return function(...l){let a=e[0](...l);for(let t=1;t<e.length;t++)a=e[t](a);return a}}}function Os(){let e=[];return{enqueue:r=>(e.push(r),e.length),dequeue:()=>e.shift(),peek:()=>e[0]||null,size:()=>e.length,isEmpty:()=>e.length===0,clear:()=>{e.length=0}}}var Xt=[],Bs=-1,Ls=class{constructor(e){this.index=e}valueOf(){return Xt[this.index].value}toString(){let e=Xt[this.index].value;return String(e)}[Symbol.toPrimitive](e){let r=Xt[this.index].value;return e==="number"&&typeof r=="number"?r:e==="string"?String(r):r}},Fs=(e,r)=>{let l=Bs++;return Xt[l]||(Xt[l]={value:e}),[new Ls(l),o=>{let i=Xt[l].value,p=typeof o=="function"?o(i):o;Xt[l].value=p,typeof r=="function"&&r(p,i)}]};function Ps(e,r,l={}){if(typeof e!="function")throw new Error("useThrottle: \u043F\u0435\u0440\u0432\u044B\u0439 \u0430\u0440\u0433\u0443\u043C\u0435\u043D\u0442 \u0434\u043E\u043B\u0436\u0435\u043D \u0431\u044B\u0442\u044C \u0444\u0443\u043D\u043A\u0446\u0438\u0435\u0439");if(r<0)throw new Error("useThrottle: \u0432\u0440\u0435\u043C\u044F \u043E\u0436\u0438\u0434\u0430\u043D\u0438\u044F \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043F\u043E\u043B\u043E\u0436\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u043C \u0447\u0438\u0441\u043B\u043E\u043C");let a=null,t=null,o=null,i,p=null,{leading:c=!0,trailing:d=!0}=l;function m(){i=e.apply(o,t),t=o=null,p=Date.now()}function f(...u){let g=Date.now();!p&&!c&&(p=g);let h=r-(g-p);return t=u,o=this,h<=0||h>r?(a&&(clearTimeout(a),a=null),m()):!a&&d&&(a=setTimeout(()=>{a=null,d&&t&&m()},h)),i}return f.cancel=function(){a&&(clearTimeout(a),a=null),t=o=null,p=null},f}function Rs(e=!1){let r=e;return{get:()=>r,toggle:()=>(r=!r,r),set:l=>(r=l,r)}}var Ns="0.13.0",Vs="07.03.2025, 15:05:04",Hs=()=>{console.info(`%c Hooks %c v${Ns} %c ${Vs} `,"color: #ffffff; font-weight: bold; background: #5c2c05","color: white; background: darkgreen","color: white; background: #0080fe;")};globalThis.Hooks=Co;var tt=class{constructor(r=0,l=0,a=0){this.h=r,this.s=l,this.v=a}toString(){return"hsv("+[Math.round(this.h),Math.round(this.s*100)+"%",Math.round(this.v*100)+"%"].join(", ")+")"}},ge=class{constructor(r=0,l=0,a=0){this.h=r,this.s=(""+l).includes("%")?parseInt(l)/100:l,this.l=(""+a).includes("%")?parseInt(a)/100:a}toString(){return"hsl("+[Math.round(this.h),Math.round(this.s*100)+"%",Math.round(this.l*100)+"%"].join(", ")+")"}},he=class{constructor(r=0,l=0,a=0,t=0){this.h=r,this.s=(""+l).includes("%")?parseInt(l)/100:l,this.l=(""+a).includes("%")?parseInt(a)/100:a,this.a=t}toString(){return"hsla("+[Math.round(this.h),Math.round(this.s*100)+"%",Math.round(this.l*100)+"%",parseFloat(this.a).toFixed(2)].join(", ")+")"}},mt=class{constructor(r=0,l=0,a=0){this.r=r,this.g=l,this.b=a}toString(){return`rgb(${this.r},${this.g},${this.b})`}},Ut=class{constructor(r=0,l=0,a=0,t=0){this.r=r,this.g=l,this.b=a,this.a=t}toString(){return`rgba(${this.r},${this.g},${this.b},${this.a})`}},be=class{constructor(r=0,l=0,a=0,t=0){this.c=r,this.m=l,this.y=a,this.k=t}toString(){return`cmyk(${this.c},${this.m},${this.y},${this.k})`}},Jt={aliceBlue:"#f0f8ff",antiqueWhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedAlmond:"#ffebcd",blue:"#0000ff",blueViolet:"#8a2be2",brown:"#a52a2a",burlyWood:"#deb887",cadetBlue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerBlue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkBlue:"#00008b",darkCyan:"#008b8b",darkGoldenRod:"#b8860b",darkGray:"#a9a9a9",darkGreen:"#006400",darkKhaki:"#bdb76b",darkMagenta:"#8b008b",darkOliveGreen:"#556b2f",darkOrange:"#ff8c00",darkOrchid:"#9932cc",darkRed:"#8b0000",darkSalmon:"#e9967a",darkSeaGreen:"#8fbc8f",darkSlateBlue:"#483d8b",darkSlateGray:"#2f4f4f",darkTurquoise:"#00ced1",darkViolet:"#9400d3",deepPink:"#ff1493",deepSkyBlue:"#00bfff",dimGray:"#696969",dodgerBlue:"#1e90ff",fireBrick:"#b22222",floralWhite:"#fffaf0",forestGreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#DCDCDC",ghostWhite:"#F8F8FF",gold:"#ffd700",goldenRod:"#daa520",gray:"#808080",green:"#008000",greenYellow:"#adff2f",honeyDew:"#f0fff0",hotPink:"#ff69b4",indianRed:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderBlush:"#fff0f5",lawnGreen:"#7cfc00",lemonChiffon:"#fffacd",lightBlue:"#add8e6",lightCoral:"#f08080",lightCyan:"#e0ffff",lightGoldenRodYellow:"#fafad2",lightGray:"#d3d3d3",lightGreen:"#90ee90",lightPink:"#ffb6c1",lightSalmon:"#ffa07a",lightSeaGreen:"#20b2aa",lightSkyBlue:"#87cefa",lightSlateGray:"#778899",lightSteelBlue:"#b0c4de",lightYellow:"#ffffe0",lime:"#00ff00",limeGreen:"#32dc32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumAquaMarine:"#66cdaa",mediumBlue:"#0000cd",mediumOrchid:"#ba55d3",mediumPurple:"#9370db",mediumSeaGreen:"#3cb371",mediumSlateBlue:"#7b68ee",mediumSpringGreen:"#00fa9a",mediumTurquoise:"#48d1cc",mediumVioletRed:"#c71585",midnightBlue:"#191970",mintCream:"#f5fffa",mistyRose:"#ffe4e1",moccasin:"#ffe4b5",navajoWhite:"#ffdead",navy:"#000080",oldLace:"#fdd5e6",olive:"#808000",oliveDrab:"#6b8e23",orange:"#ffa500",orangeRed:"#ff4500",orchid:"#da70d6",paleGoldenRod:"#eee8aa",paleGreen:"#98fb98",paleTurquoise:"#afeeee",paleVioletRed:"#db7093",papayaWhip:"#ffefd5",peachPuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderBlue:"#b0e0e6",purple:"#800080",rebeccaPurple:"#663399",red:"#ff0000",rosyBrown:"#bc8f8f",royalBlue:"#4169e1",saddleBrown:"#8b4513",salmon:"#fa8072",sandyBrown:"#f4a460",seaGreen:"#2e8b57",seaShell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",slyBlue:"#87ceeb",slateBlue:"#6a5acd",slateGray:"#708090",snow:"#fffafa",springGreen:"#00ff7f",steelBlue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whiteSmoke:"#f5f5f5",yellow:"#ffff00",yellowGreen:"#9acd32"},Ge={lime:"#a4c400",green:"#60a917",emerald:"#008a00",blue:"#00AFF0",teal:"#00aba9",cyan:"#1ba1e2",cobalt:"#0050ef",indigo:"#6a00ff",violet:"#aa00ff",pink:"#dc4fad",magenta:"#d80073",crimson:"#a20025",red:"#CE352C",orange:"#fa6800",amber:"#f0a30a",yellow:"#fff000",brown:"#825a2c",olive:"#6d8764",steel:"#647687",mauve:"#76608a",taupe:"#87794e"},ca={color:function(e,r=Jt,l=void 0){return r[e]!==void 0?r[e]:l},palette:function(e=Jt){return Object.keys(e)},colors:function(e=Jt){return Object.values(e)}},da={HSV:tt,HSL:ge,HSLA:he,RGB:mt,RGBA:Ut,CMYK:be},Z={HEX:"hex",RGB:"rgb",RGBA:"rgba",HSV:"hsv",HSL:"hsl",HSLA:"hsla",CMYK:"cmyk",UNKNOWN:"unknown"},qe={angle:30,algorithm:1,step:.1,distance:5,tint1:.8,tint2:.4,shade1:.6,shade2:.3,alpha:1,baseLight:"#ffffff",baseDark:"self"};function Us(e,r){let l;switch(r){case"hex":l=e.map(function(a){return Tt(a)});break;case"rgb":l=e.map(function(a){return Q(a)});break;case"rgba":l=e.map(function(a){return Ht(a,opt.alpha)});break;case"hsl":l=e.map(function(a){return Gt(a)});break;case"hsla":l=e.map(function(a){return ue(a,opt.alpha)});break;case"cmyk":l=e.map(function(a){return Se(a)});break;default:l=e}return l}function Lt(e,r,l){return Math.max(r,Math.min(e,l))}function ht(e,r,l){return e<r?r:e>l?l:e}function ut(e,r){for(e+=r;e>=360;)e-=360;for(;e<0;)e+=360;return e}var ma=e=>{let r=c=>/^#([A-Fa-f0-9]{3}){1,2}$/.test(c),l=c=>/^rgb\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/.test(c),a=c=>/^rgba\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*(0(\.\d+)?|1(\.0+)?)\s*\)$/.test(c),t=c=>/^hsv\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/.test(c),o=c=>/^hsl\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/.test(c),i=c=>/^hsla\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*(0(\.\d+)?|1(\.0+)?)\s*\)$/.test(c),p=c=>/^cmyk\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/.test(c);return r(e)||l(e)||t(e)||i(e)||i(e)||a(e)||o(e)||p(e)},fa=(e="hex",r="#000000")=>{let l;return typeof r=="string"&&(l=Ct(r)),bt(l)||(l="#000000"),xt(l,e.toLowerCase())},Ys=fa,De=function(e){if(bt(e)&&typeof e!="string")return e;if(typeof e!="string")throw new Error("Value is not a string!");if(e[0]==="#"&&e.length===4){let r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;return"#"+e.replace(r,(l,a,t,o)=>a+a+t+t+o+o)}return e[0]==="#"?e:"#"+e},Gs=De,Ao=e=>{if(e=Ct(e),!bt(e))return;let r=Q(e);return(r.r*299+r.g*587+r.b*114)/1e3<128},ua=e=>!Ao(e),ve=e=>Ct(e)instanceof tt,Ie=e=>Ct(e)instanceof ge,Zt=e=>Ct(e)instanceof he,je=e=>Ct(e)instanceof mt,Yt=e=>Ct(e)instanceof Ut,Oe=e=>Ct(e)instanceof be,Be=e=>/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e),bt=e=>e?typeof e=="string"?ma(e):Be(e)||je(e)||Yt(e)||ve(e)||Ie(e)||Zt(e)||Oe(e):!1,St=e=>Be(e)?Z.HEX:je(e)?Z.RGB:Yt(e)?Z.RGBA:ve(e)?Z.HSV:Ie(e)?Z.HSL:Zt(e)?Z.HSLA:Oe(e)?Z.CMYK:Z.UNKNOWN,ga=(e,r)=>!bt(e)||!bt(r)?!1:Tt(e)===Tt(r),ha=e=>e.toString(),Xe=e=>{let r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(De(e)),l=[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)];return r?new mt(...l):null},Ke=e=>"#"+((1<<24)+(e.r<<16)+(e.g<<8)+e.b).toString(16).slice(1),yt=e=>{let r=new tt,l,a,t,o=e.r/255,i=e.g/255,p=e.b/255,c=Math.max(o,i,p),d=Math.min(o,i,p),m=c-d;return t=c,c===0?a=0:a=1-d/c,c===d?l=0:c===o&&i>=p?l=60*((i-p)/m):c===o&&i<p?l=60*((i-p)/m)+360:c===i?l=60*((p-o)/m)+120:c===p?l=60*((o-i)/m)+240:l=0,r.h=l,r.s=a,r.v=t,r},Ft=e=>{let r,l,a,t=e.h,o=e.s*100,i=e.v*100,p=Math.floor(t/60),c=(100-o)*i/100,d=(i-c)*(t%60/60),m=c+d,f=i-d;switch(p){case 0:r=i,l=m,a=c;break;case 1:r=f,l=i,a=c;break;case 2:r=c,l=i,a=m;break;case 3:r=c,l=f,a=i;break;case 4:r=m,l=c,a=i;break;case 5:r=i,l=c,a=f;break}return new mt(Math.round(r*255/100),Math.round(l*255/100),Math.round(a*255/100))},qs=e=>Ke(Ft(e)),Ws=e=>yt(Xe(e)),To=e=>{let r=new be,l=e.r/255,a=e.g/255,t=e.b/255;return r.k=Math.min(1-l,1-a,1-t),r.c=1-r.k===0?0:(1-l-r.k)/(1-r.k),r.m=1-r.k===0?0:(1-a-r.k)/(1-r.k),r.y=1-r.k===0?0:(1-t-r.k)/(1-r.k),r.c=Math.round(r.c*100),r.m=Math.round(r.m*100),r.y=Math.round(r.y*100),r.k=Math.round(r.k*100),r},So=e=>{let r=Math.floor(255*(1-e.c/100)*(1-e.k/100)),l=Math.ceil(255*(1-e.m/100)*(1-e.k/100)),a=Math.ceil(255*(1-e.y/100)*(1-e.k/100));return new mt(r,l,a)},Je=e=>{let r,l,a,t;return r=parseInt(e.h),a=(2-e.s)*e.v,l=e.s*e.v,a===0?l=0:(t=a<=1?a:2-a,t===0?l=0:l/=t),a/=2,Number.isNaN(l)&&(l=0),Number.isNaN(a)&&(a=0),new ge(r,l,a)},_o=e=>{let r,l,a,t;return r=e.h,t=e.l*2,l=e.s*(t<=1?t:2-t),a=(t+l)/2,t+l===0?l=0:l=2*l/(t+l),new tt(r,l,a)},Qt=e=>new mt(Math.round(e.r/51)*51,Math.round(e.g/51)*51,Math.round(e.b/51)*51),ba=e=>{let r=Qt(e);return new Ut(r.r,r.g,r.b,e.a)},xa=e=>Ke(Qt(Xe(e))),va=e=>yt(Qt(Q(e))),ka=e=>Je(yt(Qt(Q(e)))),wa=e=>To(Qt(So(e))),zo=e=>Be(e)?xa(e):je(e)?Qt(e):Yt(e)?ba(e):ve(e)?va(e):Ie(e)?ka(e):Oe(e)?wa(e):e,xt=(e,r="rgb",l=1)=>{let a;switch(r.toLowerCase()){case"hex":a=Tt(e);break;case"rgb":a=Q(e);break;case"rgba":a=Ht(e,l);break;case"hsl":a=Gt(e);break;case"hsla":a=ue(e,l);break;case"hsv":a=xe(e);break;case"cmyk":a=Se(e);break;default:a=e}return a},Tt=e=>typeof e=="string"&&e[0]==="#"?De(e):Ke(Q(We(e))),Q=e=>{if(je(e))return e;if(Yt(e))return new mt(e.r,e.g,e.b);if(ve(e))return Ft(e);if(Ie(e)||Zt(e))return Ft(_o(e));if(Be(e))return Xe(e);if(Oe(e))return So(e);throw new Error("Unknown color format!")},Ht=(e,r=1)=>{if(Yt(e))return r&&(e.a=r),e;let l=Q(e);return new Ut(l.r,l.g,l.b,typeof e.a<"u"?e.a:r)},xe=e=>yt(Q(e)),Gt=e=>Je(yt(Q(e))),ue=(e,r=1)=>{if(Zt(e))return r&&(e.a=r),e;let l=Je(yt(Q(e)));return l.a=typeof e.a<"u"?e.a:r,new he(l.h,l.s,l.l,l.a)},Se=e=>To(Q(e)),ya=e=>{let r=Q(e),l=St(e).toLowerCase(),a=Math.round(r.r*.2125+r.g*.7154+r.b*.0721),t=new mt(a,a,a);return xt(t,l)},Ca=(e,r=10)=>Kt(e,-1*Math.abs(r)),Kt=(e,r=10)=>{let l,a,t=r>0,o=function(i,p){let c,d,m,f=i.slice(1),u=parseInt(f,16);return c=(u>>16)+p,c>255?c=255:c<0&&(c=0),m=(u>>8&255)+p,m>255?m=255:m<0&&(m=0),d=(u&255)+p,d>255?d=255:d<0&&(d=0),"#"+(d|m<<8|c<<16).toString(16)};l=St(e).toLowerCase(),l===Z.RGBA&&e.a;do a=o(Tt(e),r),t?r--:r++;while(a.length<7);return xt(a,l)},_a=(e,r,l=1)=>{let a=xe(e),t=St(e).toLowerCase(),o=a.h;for(o+=r;o>=360;)o-=360;for(;o<0;)o+=360;return a.h=o,xt(a,t,l)},nt=(e,r,l)=>{l=l===0?0:l||50;let a=new mt(0,0,0),t=Q(e),o=Q(r),i=l/100;return a.r=Math.round((o.r-t.r)*i+t.r),a.g=Math.round((o.g-t.g)*i+t.g),a.b=Math.round((o.b-t.b)*i+t.b),Tt(a)},Eo=(e,r)=>{let l=Q(e),a=Q(r),t=new mt;return l.b=Math.floor(l.b*a.b/255),l.g=Math.floor(l.g*a.g/255),l.r=Math.floor(l.r*a.r/255),Tt(t)},za=(e,r)=>{if(!bt(e))throw new Error(e+" is not a valid color value!");r/=100;let l=St(e).toLowerCase(),a=Q(e),t=r<0?0:255,o=r<0?r*-1:r,i,p,c,d;return i=Math.round((t-a.r)*o)+a.r,p=Math.round((t-a.g)*o)+a.g,c=Math.round((t-a.b)*o)+a.b,(l===Z.RGBA||l===Z.HSLA)&&(d=e.a),xt(new mt(i,p,c),l,d)},fe=(e,r)=>{let l,a,t;if(!bt(e))throw new Error(e+" is not a valid color value!");return l=Gt(e),l.s+=r/100,l.s=Lt(0,1,l.s),a=St(e).toLowerCase(),(a===Z.RGBA||a===Z.HSLA)&&(t=e.a),xt(l,a,t)},Aa=(e,r)=>{let l,a,t;if(!bt(e))throw new Error(e+" is not a valid color value!");return l=Gt(e),l.s-=r/100,l.s=Lt(l.s),a=St(e).toLowerCase(),(a===Z.RGBA||a===Z.HSLA)&&(t=e.a),xt(l,a,t)},Ta=(e,r)=>{let l,a,t,o;if(!bt(e))throw new Error(e+" is not a valid color value!");return l=Gt(e),o=(l.h+r)%360,l.h=o<0?360+o:o,a=St(e).toLowerCase(),(a===Z.RGBA||a===Z.HSLA)&&(t=e.a),xt(l,a,t)},Sa=(e,r)=>{let l,a,t;if(!bt(e))throw new Error(e+" is not a valid color value!");return l=Q(e),l.r=Math.max(0,Math.min(255,l.r-Math.round(255*-(r/100)))),l.g=Math.max(0,Math.min(255,l.g-Math.round(255*-(r/100)))),l.b=Math.max(0,Math.min(255,l.b-Math.round(255*-(r/100)))),a=St(e).toLowerCase(),(a===Z.RGBA||a===Z.HSLA)&&(t=e.a),xt(l,a,t)},Ea=(e,r,l)=>{let a=We(e),t=We(r),o=Ht(a,void 0),i=Ht(t,void 0),p=new Ut;return(""+l).toLowerCase(),p.r=Math.round((o.r+i.r)/2),p.g=Math.round((o.g+i.g)/2),p.b=Math.round((o.b+i.b)/2),p.a=Math.round((o.a+i.a)/2),xt(p,l,p.a)},Da=(e,r,l=Z.HEX,a)=>{let t=Object.assign({},qe,a),o,i=[],p,c,d,m,f;if(p=xe(e),ve(p)===!1)return console.warn("The value is a not supported color format!"),!1;switch(d=p.h,m=p.s,f=p.v,r){case"monochromatic":case"mono":{if(t.algorithm===1)c=Ft(p),c.r=ht(Math.round(c.r+(255-c.r)*t.tint1),0,255),c.g=ht(Math.round(c.g+(255-c.g)*t.tint1),0,255),c.b=ht(Math.round(c.b+(255-c.b)*t.tint1),0,255),i.push(yt(c)),c=Ft(p),c.r=ht(Math.round(c.r+(255-c.r)*t.tint2),0,255),c.g=ht(Math.round(c.g+(255-c.g)*t.tint2),0,255),c.b=ht(Math.round(c.b+(255-c.b)*t.tint2),0,255),i.push(yt(c)),i.push(p),c=Ft(p),c.r=ht(Math.round(c.r*t.shade1),0,255),c.g=ht(Math.round(c.g*t.shade1),0,255),c.b=ht(Math.round(c.b*t.shade1),0,255),i.push(yt(c)),c=Ft(p),c.r=ht(Math.round(c.r*t.shade2),0,255),c.g=ht(Math.round(c.g*t.shade2),0,255),c.b=ht(Math.round(c.b*t.shade2),0,255),i.push(yt(c));else if(t.algorithm===2)for(i.push(p),o=1;o<=t.distance;o++)f=Lt(f-t.step,0,1),m=Lt(m-t.step,0,1),i.push({h:d,s:m,v:f});else if(t.algorithm===3)for(i.push(p),o=1;o<=t.distance;o++)f=Lt(f-t.step,0,1),i.push({h:d,s:m,v:f});else f=Lt(p.v+t.step*2,0,1),i.push({h:d,s:m,v:f}),f=Lt(p.v+t.step,0,1),i.push({h:d,s:m,v:f}),i.push(p),m=p.s,f=p.v,f=Lt(p.v-t.step,0,1),i.push({h:d,s:m,v:f}),f=Lt(p.v-t.step*2,0,1),i.push({h:d,s:m,v:f});break}case"complementary":case"complement":case"comp":{i.push(p),d=ut(p.h,180),i.push(new tt(d,m,f));break}case"double-complementary":case"double-complement":case"double":{i.push(p),d=ut(d,180),i.push(new tt(d,m,f)),d=ut(d,t.angle),i.push(new tt(d,m,f)),d=ut(d,180),i.push(new tt(d,m,f));break}case"analogous":case"analog":{d=ut(d,t.angle),i.push(new tt(d,m,f)),i.push(p),d=ut(p.h,0-t.angle),i.push(new tt(d,m,f));break}case"triadic":case"triad":{for(i.push(p),o=1;o<3;o++)d=ut(d,120),i.push(new tt(d,m,f));break}case"tetradic":case"tetra":{i.push(p),d=ut(p.h,180),i.push(new tt(d,m,f)),d=ut(p.h,-1*t.angle),i.push(new tt(d,m,f)),d=ut(d,180),i.push(new tt(d,m,f));break}case"square":{for(i.push(p),o=1;o<4;o++)d=ut(d,90),i.push(new tt(d,m,f));break}case"split-complementary":case"split-complement":case"split":{d=ut(d,180-t.angle),i.push(new tt(d,m,f)),i.push(p),d=ut(p.h,180+t.angle),i.push(new tt(d,m,f));break}case"material":{var u=t.baseLight,g=t.baseDark==="self"||!t.baseDark?Eo(e,e):t.baseDark;i.push({50:nt(u,e,10),100:nt(u,e,30),200:nt(u,e,50),300:nt(u,e,70),400:nt(u,e,85),500:nt(u,e,100),600:nt(g,e,92),700:nt(g,e,83),800:nt(g,e,74),900:nt(g,e,65),A100:Kt(fe(nt(g,e,15),80),65),A200:Kt(fe(nt(g,e,15),80),55),A400:Kt(fe(nt(u,e,100),55),10),A700:Kt(fe(nt(g,e,83),65),10)});break}default:console.error("Unknown scheme name")}return r==="material"?i[0]:Us(i,l)},Ct=function(e){let r=(""+e).toLowerCase();typeof Jt[r]<"u"&&(r=Jt[r]),typeof Ge[r]<"u"&&(r=Ge[r]);let l=r.replace(/[^\d.,%]/g,"").split(",").map(a=>isNaN(a)?a:+a);return r[0]==="#"?De(r):r.includes("rgba")?new Ut(l[0],l[1],l[2],l[3]):r.includes("rgb")?new mt(l[0],l[1],l[2]):r.includes("cmyk")?new be(l[0],l[1],l[2],l[3]):r.includes("hsv")?new tt(l[0],l[1],l[2]):r.includes("hsla")?new he(l[0],l[1],l[2],l[3]):r.includes("hsl")?new ge(l[0],l[1],l[2]):r},We=Ct,Do=(e="hex",r=1)=>{let l=(p,c)=>Math.floor(p+Math.random()*(c+1-p)),a,t,o,i;return t=l(0,255),o=l(0,255),i=l(0,255),a="#"+((1<<24)+(t<<16)+(o<<8)+i).toString(16).slice(1),e==="hex"?a:xt(a,e,r)},Xs=Do,Ia=Object.freeze({__proto__:null,Primitives:da,colorTypes:Z,colorDefaultProps:qe,test:ma,createColor:fa,create:Ys,expandHexColor:De,expand:Gs,isDark:Ao,isLight:ua,isHSV:ve,isHSL:Ie,isHSLA:Zt,isRGB:je,isRGBA:Yt,isCMYK:Oe,isHEX:Be,isColor:bt,colorType:St,equal:ga,colorToString:ha,hex2rgb:Xe,rgb2hex:Ke,rgb2hsv:yt,hsv2rgb:Ft,hsv2hex:qs,hex2hsv:Ws,rgb2cmyk:To,cmyk2rgb:So,hsv2hsl:Je,hsl2hsv:_o,rgb2websafe:Qt,rgba2websafe:ba,hex2websafe:xa,hsv2websafe:va,hsl2websafe:ka,cmyk2websafe:wa,websafe:zo,toColor:xt,toHEX:Tt,toRGB:Q,toRGBA:Ht,toHSV:xe,toHSL:Gt,toHSLA:ue,toCMYK:Se,grayscale:ya,darken:Ca,lighten:Kt,hueShift:_a,mix:nt,multiply:Eo,shade:za,saturate:fe,desaturate:Aa,spin:Ta,brighten:Sa,add:Ea,createColorScheme:Da,parseColor:Ct,parse:We,randomColor:Do,random:Xs}),Ee=class{_setValue(r){r||(r="#000000"),typeof r=="string"&&(r=Ct(r)),r&&bt(r)?this._value=r:this._value=void 0}_setOptions(r){this._options=Object.assign({},qe,r)}constructor(r="#000000",l=null){this._setValue(r),this._setOptions(l)}get options(){return this._options}set options(r){this._setOptions(r)}get value(){return this._value?this._value:void 0}set value(r){this._setValue(r)}toRGB(){if(this._value)return this._value=Q(this._value),this}get rgb(){return this._value?Q(this._value):void 0}toRGBA(r){if(this._value)return Yt(this._value)?r&&(this._value=Ht(this._value,r)):this._value=Ht(this._value,r||qe.alpha),this}get rgba(){return this._value?Yt(this._value)?this._value:Ht(this._value,this._options.alpha):void 0}toHEX(){if(this._value)return this._value=Tt(this._value),this}get hex(){return this._value?Tt(this._value):void 0}toHSV(){if(this._value)return this._value=xe(this._value),this}get hsv(){return this._value?xe(this._value):void 0}toHSL(){if(this._value)return this._value=Gt(this._value),this}get hsl(){return this._value?Gt(this._value):void 0}toHSLA(r){if(this._value)return Zt(this._value)?r&&(this._value=ue(this._value,r)):this._value=ue(this._value,r),this}get hsla(){return this._value?Zt(this._value)?this._value:ue(this._value,this._options.alpha):void 0}toCMYK(){if(this._value)return this._value=Se(this._value),this}get cmyk(){return this._value?Se(this._value):void 0}toWebsafe(){if(this._value)return this._value=zo(this._value),this}get websafe(){return this._value?zo(this._value):void 0}toString(){return this._value?ha(this._value):void 0}darken(r=10){if(this._value)return this._value=Ca(this._value,r),this}lighten(r=10){if(this._value)return this._value=Kt(this._value,r),this}isDark(){return this._value?Ao(this._value):void 0}isLight(){return this._value?ua(this._value):void 0}hueShift(r){if(this._value)return this._value=_a(this._value,r),this}grayscale(){if(!(!this._value||this.type===Z.UNKNOWN))return this._value=ya(this._value,(""+this.type).toLowerCase()),this}get type(){return St(this._value)}getScheme(r,l,a){return this._value?Da(this._value,r,l,a):void 0}equal(r){return ga(this._value,r)}random(r,l){this._value=Do(r,l)}channel(r,l){let a=this.type;return["red","green","blue"].includes(r)&&(this.toRGB(),this._value[["red","green","blue"].indexOf(r)]=l,this["to"+a]()),r==="alpha"&&this._value.a&&(this._value.a=l),["hue","saturation","value"].includes(r)&&(this.toHSV(),this._value[["hue","saturation","value"].indexOf(r)]=l,this["to"+a]()),["lightness"].includes(r)&&(this.toHSL(),this._value[2]=l,this["to"+a]()),["cyan","magenta","yellow","black"].includes(r)&&(this.toCMYK(),this._value[["cyan","magenta","yellow","black"].indexOf(r)]=l,this["to"+a]()),this}add(r){this._setValue(Ea(this._value,r))}mix(r,l){this._setValue(nt(this._value,r,l))}multiply(r){this._setValue(Eo(this._value,r))}shade(r){this._setValue(za(this._value,r))}saturate(r){this._setValue(fe(this._value,r))}desaturate(r){this._setValue(Aa(this._value,r))}spin(r){this._setValue(Ta(this._value,r))}brighten(r){this._setValue(Sa(this._value,r))}},ja={...da},Ks="1.0.4",Js="11.08.2024, 23:47:03",Oa=()=>{console.info(`%c Farbe %c v${Ks} %c ${Js} `,"color: #ffffff; font-weight: bold; background: #ff00ff","color: white; background: darkgreen","color: white; background: #0080fe;")};globalThis.Farbe=Ee;globalThis.farbe=e=>new Ee(e);globalThis.Farbe.Routines=Ia;globalThis.Farbe.Palette=ca;globalThis.Farbe.StandardColors=Jt;globalThis.Farbe.MetroColors=Ge;globalThis.Farbe.Primitives=ja;globalThis.Farbe.info=Oa;var Zs=Object.defineProperty,Qs=(e,r)=>{for(var l in r)Zs(e,l,{get:r[l],enumerable:!0})};function Ba(e){return e.replace(/([A-Z])/g,function(r){return"-"+r.toLowerCase()})}function Ms(e=[]){return Array.isArray(e)?e.join(" "):e.toString()}var $s=["opacity","zIndex","order","zoom"];function La(e={}){return typeof e=="string"?e:Object.keys(e).map(r=>{let l=Ba(r),a=e[r];return!$s.includes(l)&&!isNaN(a)&&(a+="px"),`${l}: ${a}`}).join(";")}var tp=["accesskey","autocapitalize","autofocus","contenteditable","dir","draggable","enterkeyhint","hidden","inert","inputmode","is","itemid","itemprop","itemref","itemscope","itemtype","lang","nonce","popover","spellcheck","style","tabindex","title","translate","writingsuggestions"],ep=e=>{let r,l,a=[],t,o,i=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;if(typeof e=="string"){if(e=e.trim(),t=document.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=document.location.href,t.head.appendChild(r),o=t.body,l=i.exec(e),l)return document.createElement(l[1]);o.innerHTML=e;for(let p=0;p<o.childNodes.length;p++)a.push(o.childNodes[p]);return a[0]}},op=["onauxclick","onbeforeinput","onbeforematch","onbeforetoggle","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextlost","oncontextmenu","oncontextrestored","oncopy","oncuechange","oncut","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","onformdata","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onpaste","onpause","onplay","onplaying","onprogress","onratechange","onreset","onresize","onscroll","onscrollend","onsecuritypolicyviolation","onseeked","onseeking","onselect","onslotchange","onstalled","onsubmit","onsuspend","ontimeupdate","ontoggle","onvolumechange","onwaiting","onwheel"],Io=class{constructor(e={}){this.options=e,this.tag="div"}selfAttributes(){return[]}get attributes(){return this.getAttributes().join(" ")}getAttributes(){let e=[],r=["hidden","disabled","required","readonly","selected","open","multiply","default"],l=["className","style","data","tag","events"];for(let a in this.options)if(!l.includes(a)){if(r.includes(a)&&this.options[a]===!0){e.push(a);continue}(this.selfAttributes().includes(a)&&!e.includes(a)||tp.includes(a))&&e.push(`${a}="${this.options[a]}"`)}return this.classes&&e.push(`class="${this.classes}"`),this.styles&&e.push(`style="${this.styles}"`),this.dataSet&&e.push(this.dataSet),this.aria&&e.push(this.aria),e}draw(){return this.template()}get dataSet(){let{data:e={}}=this.options,r=[];for(let l in e)r.push(`data-${Ba(l)}="${e[l]}"`);return r.join(" ")}get aria(){let{aria:e={}}=this.options,r=[];for(let l in e)r.push(`aria-${l.toLowerCase()}="${e[l]}"`);return r.join(" ")}get events(){let{events:e={},control:r=!0}=this.options,l=[];for(let a in e)r&&!op.includes(a)&&console.info(`Event ${a} for element ${this.tag} not specified in HTML specification`),l.push(`${a.toLowerCase()}="${e[a]}"`);return l.join(" ")}get classes(){return Ms(this.options.class)}get styles(){return La(this.options.style)}template(){return""}toString(){return this.draw()}toElement(){return ep(this.draw())}},Oo=e=>{if(Array.isArray(e))return e.map(Oo).join(`
`);if(typeof e=="string"||typeof e=="number"||typeof e=="boolean")return e;if(e.draw)return e.draw();throw new Error("Unknown element! "+e)},E=class extends Io{constructor(...e){let r={},l=[];for(let a of e)typeof a=="object"&&!(a instanceof Io)?r=a:l.push(a);super(r),this.children=l}template(e){let r=this.options.tag?this.options.tag:this.tag;return`
            <${r} ${this.attributes} ${this.events}>${e}</${r}>
        `}draw(){return this.template(this.children.map(Oo).join(""))}},lt=class extends Io{constructor(e={}){super(e),this.options=e}template(){return`
            <${this.options.tag?this.options.tag:this.tag} ${this.attributes} ${this.events}/>
        `}},Fa=(e=[],r=document.body,l={})=>{let a,t,{clear:o=!0,where:i="beforeend"}=l;t=typeof r=="string"?document.querySelector(r):r,t instanceof HTMLElement||(t=document.body),o&&(t.innerHTML=""),Array.isArray(e)||(e=[e]),a=e.map(Oo).join(""),t.insertAdjacentHTML(i,a)},Qe=(e="",r)=>{let l=document.createElement("style");return r!==void 0&&l.setAttribute("media",r),l.appendChild(document.createTextNode(e)),document.head.appendChild(l),l},Bo=e=>Qe(e).sheet,Lo=(e,r,l)=>{e.insertRule(r+"{"+l+"}")},Pa=(e,r)=>{if(typeof e=="string"){Qe(e,r);return}let l=Bo(r);for(let a in e)Lo(l,a,La(e[a]))},Ra=async(e,r)=>{let l=await fetch(e,r),a,t;if(!l.ok)throw new Error("HTTP error: "+l.status);a=await l.text(),t=document.createElement("style"),t.appendChild(document.createTextNode(a)),document.body.appendChild(t)},Na=async(e,r)=>{let l=await fetch(e,r),a,t;if(!l.ok)throw new Error("HTTP error: "+l.status);a=await l.text(),t=document.createElement("script"),t.appendChild(document.createTextNode(a)),document.body.appendChild(t)},Va=async(e,r={},l=!1)=>{let a,t,o=()=>{},i;if(l!==!1&&(i=`html::key::${e}`,t=localStorage.getItem(i)),!t){if(a=await fetch(e,r),!a.ok)throw new Error("HTTP error: "+a.status);t=await a.text(),l!==!1&&localStorage.setItem(i,t)}return(0,eval)(`result = ${t}`),typeof o=="function"?o():o},Ha=e=>localStorage.removeItem(`html::key::${e}`),Ze={};Qs(Ze,{Abbr:()=>ti,Address:()=>ni,Anchor:()=>Fo,Area:()=>si,Article:()=>ei,Aside:()=>ri,AudioTag:()=>pi,Base:()=>Ga,Bdi:()=>di,Bdo:()=>mi,Blockquote:()=>fi,Body:()=>Wa,Bold:()=>ci,Br:()=>Za,Button:()=>ui,Canvas:()=>gi,Caption:()=>bi,Cite:()=>wi,Code:()=>yi,Col:()=>xi,Colgroup:()=>vi,Data:()=>kn,Dd:()=>zi,Details:()=>Ai,Dfn:()=>Si,Dialog:()=>yn,Div:()=>Ei,Dl:()=>Ci,Dt:()=>_i,Em:()=>Di,Embed:()=>ji,Fieldset:()=>Bi,FigCaption:()=>Pi,Figure:()=>Fi,Footer:()=>ii,Form:()=>Ri,Frame:()=>Vi,Frameset:()=>Ni,Head:()=>Ya,Header:()=>ai,Heading:()=>Ma,Hr:()=>Qa,Html:()=>Ua,IFrame:()=>Ui,Img:()=>Ka,Input:()=>Ja,Ins:()=>Yi,Ital:()=>Ro,Kbd:()=>Gi,Label:()=>qi,Legend:()=>Li,Link:()=>qa,List:()=>No,ListItem:()=>Wi,Main:()=>fn,Map:()=>li,Mark:()=>Xi,Meta:()=>un,Nav:()=>oi,NoEmbed:()=>Oi,NoFrames:()=>Hi,NoScript:()=>Ki,Option:()=>Qi,OptionGroup:()=>Zi,Output:()=>Mi,Paragraph:()=>$i,Picture:()=>wn,Pre:()=>tn,Quoted:()=>Vo,Rp:()=>vn,Rt:()=>xn,Ruby:()=>bn,Script:()=>en,Section:()=>$a,Select:()=>Ji,Slot:()=>Cn,Small:()=>on,Source:()=>rn,Span:()=>Xa,Strike:()=>Ho,Strong:()=>Ii,Sub:()=>an,Summary:()=>Ti,Sup:()=>nn,Table:()=>hi,TableCell:()=>Po,TableRow:()=>ki,TableSection:()=>Me,Template:()=>hn,Textarea:()=>ln,Time:()=>sn,Title:()=>gn,Track:()=>pn,Var:()=>cn,VideoTag:()=>dn,Wbr:()=>mn,a:()=>wp,abbr:()=>yp,address:()=>Sp,anchor:()=>kp,area:()=>Dp,article:()=>Cp,aside:()=>zp,audio:()=>Ip,b:()=>jp,base:()=>ip,bdi:()=>Op,bdo:()=>Bp,blockquote:()=>Lp,body:()=>lp,br:()=>dp,button:()=>Fp,canvas:()=>Pp,caption:()=>Np,cite:()=>Kp,code:()=>Jp,col:()=>Vp,colgroup:()=>Hp,data:()=>td,dd:()=>Mp,details:()=>$p,dfn:()=>ec,dialog:()=>od,div:()=>oc,dl:()=>Zp,dt:()=>Qp,em:()=>rc,embed:()=>lc,fieldset:()=>pc,figcaption:()=>mc,figure:()=>dc,footer:()=>Tp,form:()=>fc,frame:()=>gc,frameset:()=>uc,h1:()=>fp,h2:()=>up,h3:()=>gp,h4:()=>hp,h5:()=>bp,h6:()=>xp,head:()=>ap,header:()=>Ap,hr:()=>mp,html:()=>rp,i:()=>ic,iframe:()=>bc,img:()=>pp,input:()=>cp,ins:()=>xc,ital:()=>ac,kbd:()=>vc,label:()=>kc,legend:()=>cc,li:()=>Cc,link:()=>np,main:()=>Xc,map:()=>Ep,mark:()=>_c,meta:()=>Kc,nav:()=>_p,noembed:()=>sc,noframes:()=>hc,noscript:()=>zc,ol:()=>yc,optgroup:()=>Tc,option:()=>Sc,output:()=>Ec,p:()=>Dc,picture:()=>ed,pre:()=>Ic,q:()=>jc,quoted:()=>Oc,rp:()=>$c,rt:()=>Mc,ruby:()=>Qc,s:()=>Lc,script:()=>Fc,section:()=>vp,select:()=>Ac,slot:()=>rd,small:()=>Pc,source:()=>Rc,span:()=>sp,strike:()=>Bc,strong:()=>nc,sub:()=>Nc,summary:()=>tc,sup:()=>Vc,table:()=>Rp,tbody:()=>Up,td:()=>Xp,template:()=>Zc,textarea:()=>Hc,tfoot:()=>Gp,th:()=>Wp,thead:()=>Yp,time:()=>Uc,title:()=>Jc,tr:()=>qp,track:()=>Yc,ul:()=>wc,variable:()=>Gc,video:()=>qc,wbr:()=>Wc});var Ua=class extends E{tag="html";selfAttributes(){return["lang"]}},rp=(...e)=>new Ua(...e),Ya=class extends E{tag="head"},ap=(...e)=>new Ya(...e),Ga=class extends lt{tag="base";selfAttributes(){return["href","target"]}},ip=e=>new Ga(e),qa=class extends lt{tag="link";selfAttributes(){return["href","crossorigin","rel","media","integrity","hreflang","type","referrerpolicy","sizes","imagesrcset","imagesizes","as","blocking","color","disabled","fetchpriority"]}},np=e=>new qa(e),Wa=class extends E{tag="body"},lp=(...e)=>new Wa(...e),Xa=class extends E{tag="span"},sp=(...e)=>new Xa(...e),Ka=class extends lt{tag="img";selfAttributes(){return["align","alt","border","height","hspace","ismap","longdesc","lowsrc","src","vspace","width","usemap"]}},pp=(e="",r="",l={})=>new Ka({...l,src:e,alt:r}),Ja=class extends lt{tag="input";selfAttributes(){return["accept","align","alt","autocomplete","autofocus","border","checked","disabled","form","formaction","formenctype","formmethod","formnovalidate","formtarget","list","max","maxlength","min","multiple","name","pattern","placeholder","size","src","step","type","value"]}},cp=(e={})=>new Ja(e),Za=class extends lt{tag="br";selfAttributes(){return["clear"]}},dp=e=>new Za(e),Qa=class extends lt{tag="hr"},mp=e=>new Qa(e),Ma=class extends E{constructor(e="h1",...r){super(...r),this.tag=e}},ke=(e="h1",...r)=>new Ma(e,...r),fp=(...e)=>ke("h1",...e),up=(...e)=>ke("h2",...e),gp=(...e)=>ke("h3",...e),hp=(...e)=>ke("h4",...e),bp=(...e)=>ke("h5",...e),xp=(...e)=>ke("h6",...e),$a=class extends E{tag="section"},vp=(...e)=>new $a(...e),Fo=class extends E{tag="a";selfAttributes(){return["coords","download","hreflang","name","rel","rev","shape","target","type","href"]}},kp=(...e)=>new Fo(...e),wp=(...e)=>new Fo(...e),ti=class extends E{tag="abbr"},yp=(...e)=>new ti(...e),ei=class extends E{tag="article"},Cp=(...e)=>new ei(...e),oi=class extends E{tag="nav"},_p=(...e)=>new oi(...e),ri=class extends E{tag="aside"},zp=(...e)=>new ri(...e),ai=class extends E{tag="header"},Ap=(...e)=>new ai(...e),ii=class extends E{tag="footer"},Tp=(...e)=>new ii(...e),ni=class extends E{tag="address"},Sp=(...e)=>new ni(...e),li=class extends E{tag="map";selfAttributes(){return["name"]}},Ep=(...e)=>new li(...e),si=class extends lt{tag="area";selfAttributes(){return["alt","coords","hreflang","nohref","shape","target","type","href"]}},Dp=(e={})=>new si(e),pi=class extends E{tag="audio";selfAttributes(){return["autoplay","controls","loop","preload","src"]}},Ip=(...e)=>new pi(...e),ci=class extends E{tag="b"},jp=(...e)=>new ci(...e),di=class extends E{tag="bdi"},Op=(...e)=>new di(...e),mi=class extends E{tag="bdo"},Bp=(...e)=>new mi(...e),fi=class extends E{tag="blockquote";selfAttributes(){return["cite"]}},Lp=(...e)=>new fi(...e),ui=class extends E{tag="button";selfAttributes(){return["autofocus","form","formaction","formenctype","formmethod","formnovalidate","formtarget","name","type","value"]}},Fp=(...e)=>new ui(...e),gi=class extends E{tag="canvas";selfAttributes(){return["width","height"]}},Pp=(...e)=>new gi(...e),hi=class extends E{tag="table";selfAttributes(){return["align","background","bgcolor","border","bordercolor","cellpadding","cellspacing","cols","frame","height","rules","summary","width"]}},Rp=(...e)=>new hi(...e),bi=class extends E{tag="caption";selfAttributes(){return["align","valign"]}},Np=(...e)=>new bi(...e),xi=class extends lt{tag="col";selfAttributes(){return["align","valign","char","charoff","span","width"]}},Vp=e=>new xi(e),vi=class extends lt{tag="colgroup";selfAttributes(){return["align","valign","char","charoff","span","width"]}},Hp=e=>new vi(e),Me=class extends E{constructor(e="tbody",...r){super(...r),this.tag=e}selfAttributes(){return["align","valign","char","charoff","bgcolor"]}},Up=(...e)=>new Me("tbody",...e),Yp=(...e)=>new Me("thead",...e),Gp=(...e)=>new Me("tfoot",...e),ki=class extends E{tag="tr";selfAttributes(){return["align","bgcolor","bordercolor","char","charoff","valign"]}},qp=(...e)=>new ki(...e),Po=class extends E{constructor(e="td",...r){super(...r),this.tag=e}selfAttributes(){return["abbr","align","axis","background","bgcolor","bordercolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"]}},Wp=(...e)=>new Po("th",...e),Xp=(...e)=>new Po("td",...e),wi=class extends E{tag="cite"},Kp=(...e)=>new wi(...e),yi=class extends E{tag="code"},Jp=(...e)=>new yi(...e),Ci=class extends E{tag="dl"},_i=class extends E{tag="dt"},zi=class extends E{tag="dd"},Zp=(...e)=>new Ci(...e),Qp=(...e)=>new _i(...e),Mp=(...e)=>new zi(...e),Ai=class extends E{tag="details"},$p=(...e)=>new Ai(...e),Ti=class extends E{tag="summary"},tc=(...e)=>new Ti(...e),Si=class extends E{tag="dfn"},ec=(...e)=>new Si(...e),Ei=class extends E{tag="div";selfAttributes(){return["align","title"]}},oc=(...e)=>new Ei(...e),Di=class extends E{tag="em"},rc=(...e)=>new Di(...e),Ro=class extends E{tag="i"},ac=(...e)=>new Ro(...e),ic=(...e)=>new Ro(...e),Ii=class extends E{tag="strong"},nc=(...e)=>new Ii(...e),ji=class extends E{tag="embed";selfAttributes(){return["align","height","hspace","pluginspace","src","type","vspace","width"]}},lc=(...e)=>new ji(...e),Oi=class extends E{tag="noembed"},sc=(...e)=>new Oi(...e),Bi=class extends E{tag="fieldset";selfAttributes(){return["form","title"]}},pc=(...e)=>new Bi(...e),Li=class extends E{tag="legend";selfAttributes(){return["align","title"]}},cc=(...e)=>new Li(...e),Fi=class extends E{tag="figure"},dc=(...e)=>new Fi(...e),Pi=class extends E{tag="figcaption"},mc=(...e)=>new Pi(...e),Ri=class extends E{tag="form";selfAttributes(){return["accept-charset","action","autocomplete","enctype","method","name","novalidate","target"]}},fc=(...e)=>new Ri(...e),Ni=class extends E{tag="frameset";selfAttributes(){return["border","bordercolor","cols","frameborder","framespacing","rows"]}},uc=(...e)=>new Ni(...e),Vi=class extends lt{tag="frame";selfAttributes(){return["bordercolor","frameborder","noresize","name","src","scrolling"]}},gc=(e={})=>new Vi(e),Hi=class extends E{tag="noframes"},hc=(...e)=>new Hi(...e),Ui=class extends E{tag="iframe";selfAttributes(){return["align","allowtransparency","frameborder","height","hspace","marginheight","marginwidth","name","sandbox","scrolling","seamless","src","srcdoc","vspace","width"]}},bc=(...e)=>new Ui(...e),Yi=class extends E{tag="ins";selfAttributes(){return["cite","datetime"]}},xc=(...e)=>new Yi(...e),Gi=class extends E{tag="kbd"},vc=(...e)=>new Gi(...e),qi=class extends E{tag="label";selfAttributes(){return["for"]}},kc=(...e)=>new qi(...e),No=class extends E{constructor(e="ul",...r){super(...r),this.tag=e}selfAttributes(){return this.tag==="ul"?["type"]:["type","reserved","start"]}},Wi=class extends E{tag="li";selfAttributes(){return["type","value"]}},wc=(...e)=>new No("ul",...e),yc=(...e)=>new No("ol",...e),Cc=(...e)=>new Wi(...e),Xi=class extends E{tag="mark"},_c=(...e)=>new Xi(...e),Ki=class extends E{tag="noscript"},zc=(...e)=>new Ki(...e),Ji=class extends E{tag="select";selfAttributes(){return["autofocus","form","name","size"]}},Ac=(...e)=>new Ji(...e),Zi=class extends E{tag="optgroup";selfAttributes(){return["label"]}},Tc=(...e)=>new Zi(...e),Qi=class extends E{tag="option";selfAttributes(){return["label","value"]}},Sc=(...e)=>new Qi(...e),Mi=class extends E{tag="output";selfAttributes(){return["for","form","name"]}},Ec=(...e)=>new Mi(...e),$i=class extends E{tag="p";selfAttributes(){return["align"]}},Dc=(...e)=>new $i(...e),tn=class extends E{tag="pre"},Ic=(...e)=>new tn(...e),Vo=class extends E{tag="q";selfAttributes(){return["cite"]}},jc=(...e)=>new Vo(...e),Oc=(...e)=>new Vo(...e),Ho=class extends E{tag="strike"},Bc=(...e)=>new Ho(...e),Lc=(...e)=>new Ho(...e),en=class extends E{tag="script";selfAttributes(){return["async","defer","language","src","type"]}},Fc=(...e)=>new en(...e),on=class extends E{tag="small"},Pc=(...e)=>new on(...e),rn=class extends lt{tag="source";selfAttributes(){return["media","src","type"]}},Rc=(e={})=>new rn(e),an=class extends E{tag="sub"},Nc=(...e)=>new an(...e),nn=class extends E{tag="sup"},Vc=(...e)=>new nn(...e),ln=class extends E{tag="textarea";selfAttributes(){return["autofocus","cols","form","maxlength","name","placeholder","rows","wrap"]}},Hc=(...e)=>new ln(...e),sn=class extends E{tag="time";selfAttributes(){return["datetime","pubdate"]}},Uc=(...e)=>new sn(...e),pn=class extends lt{tag="track";selfAttributes(){return["kind","src","srclang","label"]}},Yc=(e={})=>new pn(e),cn=class extends E{tag="var"},Gc=(...e)=>new cn(...e),dn=class extends E{tag="video";selfAttributes(){return["autoplay","controls","height","loop","loop","poster","preload","src","width"]}},qc=(...e)=>new dn(...e),mn=class extends lt{tag="wbr"},Wc=e=>new mn(e),fn=class extends E{tag="main"},Xc=(...e)=>new fn(...e),un=class extends lt{tag="meta";selfAttributes(){return["content","name","http-equiv","charset"]}},Kc=e=>new un(e),gn=class extends E{tag="title"},Jc=e=>new gn(e),hn=class extends E{tag="template";selfAttributes(){return["shadowrootmode","shadowrootdelegatesfocus","shadowrootclonable","shadowrootserializable"]}},Zc=(...e)=>new hn(...e),bn=class extends E{tag="ruby"},xn=class extends lt{tag="rt"},vn=class extends lt{tag="rp"},Qc=(...e)=>new bn(...e),Mc=e=>new xn(e),$c=e=>new vn(e),kn=class extends E{tag="data"},td=(...e)=>new kn(...e),wn=class extends E{tag="picture"},ed=(...e)=>new wn(...e),yn=class extends E{tag="dialog";selfAttributes(){return["open"]}},od=(...e)=>new yn(...e),Cn=class extends E{tag="slot";selfAttributes(){return["name"]}},rd=(...e)=>new Cn(...e),jo={},ad="0.14.0",id="18.03.2025, 23:11:45",_n=()=>{console.info(`%c Html.js %c v${ad} %c ${id} `,"color: #ffffff; font-weight: bold; background: #708238","color: white; background: darkgreen","color: white; background: #0080fe;")},nd=(e=globalThis)=>{for(let r in Ze)globalThis[r]&&(jo[r]=globalThis[r]),e[r]=Ze[r]},ld=(e=globalThis)=>{for(let r in jo)e[r]=jo[r]},zn={...Ze,extract:nd,restore:ld};globalThis.HTML={addStyle:Pa,addCssRule:Lo,cssLoader:Ra,jsLoader:Na,viewLoader:Va,clearViewStorageHolder:Ha,createStyleElement:Qe,createStyleSheet:Bo,render:Fa,...zn,info:_n};var qo={};Xo(qo,{americanExpress:()=>Gm,array:()=>rm,base64:()=>Md,between:()=>Kd,bigint:()=>Ad,boolean:()=>om,bytes:()=>Zm,color:()=>Dm,compose:()=>hd,contains:()=>lf,creditCard:()=>Hm,date:()=>Sd,digits:()=>of,diners:()=>Wm,discover:()=>qm,domain:()=>xm,email:()=>Vd,endsWith:()=>wd,equal:()=>mf,finite:()=>Zd,float:()=>af,func:()=>Dd,great:()=>hf,greatOrEqual:()=>kf,hexColor:()=>Im,hslColor:()=>Om,imei:()=>nm,info:()=>zf,integer:()=>jd,ip:()=>fm,ipv4:()=>um,ipv6:()=>gm,jcb:()=>Xm,length:()=>lm,less:()=>xf,lessOrEqual:()=>yf,mastercard:()=>Ym,max:()=>Rd,maxLength:()=>pm,min:()=>Fd,minLength:()=>sm,notNull:()=>Mm,notNumber:()=>tm,number:()=>Gd,object:()=>Wd,parse:()=>Yo,pattern:()=>tf,pipe:()=>ud,required:()=>Ud,rgbColor:()=>jm,safeInteger:()=>Bd,safeParse:()=>md,similar:()=>uf,startsWith:()=>vd,string:()=>Uo,symbol:()=>_d,type:()=>cf,unionPay:()=>Km,unknown:()=>yd,url:()=>wm,visa:()=>Um});var sd=Object.defineProperty,An=Object.getOwnPropertySymbols,pd=Object.prototype.hasOwnProperty,cd=Object.prototype.propertyIsEnumerable,Tn=(e,r,l)=>r in e?sd(e,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[r]=l,dd=(e,r)=>{for(var l in r||(r={}))pd.call(r,l)&&Tn(e,l,r[l]);if(An)for(var l of An(r))cd.call(r,l)&&Tn(e,l,r[l]);return e},B=class extends Error{constructor(e="",r=null,l){super(e),this.message=e,this.name=r,this.value=l}},Yo=(e,r)=>{let l;if(!e)throw new Error("Schema object required for parse data!");if(typeof e=="function"){if(l=e.apply(null,[r]),l instanceof B)throw l}else for(let a in e){let t=r[a],o=e[a];if(!o)throw new B(`Guard not defined for field ${a} in input data!`,"general",r);if(!r.hasOwnProperty(a))throw new B(`Field ${a} doesn't exists in input data!`,"general",r);if(typeof o=="function"){if(console.log(o.name),l=o.apply(null,[t]),l instanceof B)throw l}else Yo(o,t)}return r},md=(e,r)=>{let l;if(!e)throw new Error("Schema object required for parse data!");if(typeof e=="function"){if(l=e.apply(null,[r]),l instanceof B)return{ok:!1,error:l}}else for(let a in e){let t=r[a],o=e[a];if(o)if(typeof o=="function"){if(l=o.apply(null,[r]),l instanceof B)return{ok:!1,error:l}}else Yo(o,t)}return{ok:!0,output:r}},fd=(...e)=>r=>e.reduce((l,a)=>a(l),r),ud=fd,gd=(...e)=>r=>e.reduceRight((l,a)=>a(l),r),hd=gd,bd="VAL must be a string",Uo=(e=bd)=>function(r){let l=e.replace(/VAL/g,r);return typeof r=="string"?r:new B(l,"string",r)},Mt=e=>typeof e<"u"&&e!==null,xd="VAL must starts with START_VAL",vd=(e,r=xd)=>{if(!Mt(e))throw new Error("START_VALUE not defined!");return function(l){let a=r.replace(/VAL/g,l).replace(/START_VAL/g,e);return typeof l=="string"&&l.startsWith(e)?l:new B(a,"startsWith",l)}},kd="VAL must end with END_VAL",wd=(e,r=kd)=>{if(!Mt(e))throw new Error("END_VALUE not defined!");return function(l){let a=r.replace(/VAL/g,l).replace(/END_VAL/g,e);return typeof l=="string"&&l.endsWith(e)?l:new B(a,"endsWith",l)}},yd=()=>function(e){return e},Cd="A symbol is required",_d=(e=Cd)=>function(r){return typeof r=="symbol"?r:new B(e,"symbol",r)},zd="VAL must be a bigint",Ad=(e=zd)=>function(r){let l=e.replace(/VAL/g,r);return typeof r=="bigint"?r:new B(l,"bigint",r)},Td="VAL must be valid date object or date string",Sd=(e=Td)=>function(r){let l=e.replace(/VAL/g,r);return typeof r=="object"&&r.getTime||typeof r=="string"&&!isNaN(Date.parse(r))?r:new B(l,"date",r)},Ed="The value must be a function",Dd=(e=Ed)=>function(r){return typeof r=="function"?r:new B(e,"function",r)},Id="VAL must be an integer",jd=(e=Id)=>function(r){let l=e.replace(/VAL/g,r);return Number.isInteger(r)?r:new B(l,"integer",r)},Od="VAL must be an safe integer",Bd=(e=Od)=>function(r){let l=e.replace(/VAL/g,r);return Number.isSafeInteger(r)?r:new B(l,"safeInteger",r)},Ld="VAL must be a great then MIN_VALUE",Fd=(e,r=Ld)=>{if(!Mt(e))throw new Error("MIN_VALUE not defined!");return function(l){let a=r.replace(/VAL/g,l).replace(/MIN_VALUE/g,e),t=+l;return!isNaN(t)&&t>=+e?l:new B(a,"minValue",l)}},Pd="VAL must be a less then MAX_VALUE",Rd=(e,r=Pd)=>{if(!Mt(e))throw new Error("MAX_VALUE not defined!");return function(l){let a=r.replace(/VAL/g,l).replace(/MAX_VALUE/g,e),t=+l;return!isNaN(t)&&t<=+e?l:new B(a,"maxValue",l)}},Nd="VAL must be a string in valid email format",Vd=(e=Nd)=>function(r){let l=e.replace(/VAL/g,r);return typeof r=="string"&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)?r:new B(l,"email",r)},Hd="Any value required",Ud=(e=Hd)=>function(r){let l=e.replace(/VAL/g,r);return typeof r<"u"&&r!==null&&r!==""?r:new B(l,"required",r)},Yd="VAL must be a number",Gd=(e=Yd)=>function(r){let l=e.replace(/VAL/g,r);return typeof r=="number"&&!isNaN(+r)?r:new B(l,"number",r)},qd="VAL must be an object",Wd=(e,r=qd)=>{if(typeof e!="object")throw new B(r.replace(/VAL/g,e),"object",e);return dd({},e)},Xd="VAL must be between MIN_VAL and MAX_VAL",Kd=(e,r,l=Xd)=>{if(!Mt(e))throw new Error("MIN_VALUE not defined!");if(!Mt(r))throw new Error("MAX_VALUE not defined!");return function(a){let t=l.replace(/VAL/g,a).replace(/MIN_VAL/g,e).replace(/MAX_VAL/g,r),o=+a;return!isNaN(o)&&a>=+e&&a<=+r?a:new B(t,"between",a)}},Jd="VAL must be a finite number",Zd=(e=Jd)=>function(r){let l=e.replace(/VAL/g,r);return Number.isFinite(r)?r:new B(l,"finite",r)},Qd="VAL must be a string in valid base 64 format",Md=(e=Qd)=>function(r){let l=e.replace(/VAL/g,r);return typeof r=="string"&&/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(r)?r:new B(l,"base64",r)},$d="VAL can`t be a number",tm=(e=$d)=>function(r){let l=e.replace(/VAL/g,r);return isNaN(r)?r:new B(l,"notNumber",r)},em="VAL must be a boolean",om=(e=em)=>function(r){let l=e.replace(/VAL/g,r);return typeof r=="boolean"?r:new B(l,"boolean",r)},Sn="VAL must be an array of TYPE",rm=(e,r=Sn)=>(!e&&!r&&(e=Uo(),r=Sn),typeof e=="string"&&(r=e,e=Uo()),function(l){let a=r.replace(/VAL/g,l).replace(/TYPE/g,e.name);if(!Array.isArray(l))return new B(a,"array",l);for(let t of l)if(e(t)instanceof B)return new B(a,"array",l);return l}),am="VAL must be a valid EMEI",im=e=>{let r=t=>{let o=0;for(;t>0;)o=o+t%10,t=parseInt(""+t/10,10);return o},l=(""+e).length;if(l!==15)return!1;let a=0;for(let t=l;t>=1;t--){let o=e%10;t%2===0&&(o=2*o),a+=r(o),e=parseInt(""+e/10,10)}return a%10===0},nm=(e=am)=>function(r){let l=e.replace(/VAL/g,r);return im(r)?r:new B(l,"emei",r)},Go="VAL must be a string or array with length N",lm=(e,r=Go)=>function(l){let a=r.replace(/VAL/g,l).replace(/N/g,e);return(typeof l=="string"||Array.isArray(l))&&l.length===+e?l:new B(a,"length",l)},sm=(e,r=Go)=>function(l){let a=r.replace(/VAL/g,l).replace(/N/g,e);return(typeof l=="string"||Array.isArray(l))&&l.length>=+e?l:new B(a,"minLength",l)},pm=(e,r=Go)=>function(l){let a=r.replace(/VAL/g,l).replace(/N/g,e);return(typeof l=="string"||Array.isArray(l))&&l.length<=+e?l:new B(a,"maxLength",l)},cm="VAL must be a valid ip address ipv4 or ipv6",dm="VAL must be a valid ipv4 address",mm="VAL must be a valid ipv6 address",En=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,Dn=/^[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}:[a-fA-F0-9]{1, 4}$/,fm=(e=cm)=>function(r){let l=e.replace(/VAL/g,r);return typeof r=="string"&&(En.test(r)||Dn.test(r))?r:new B(l,"ip",r)},um=(e=dm)=>function(r){let l=e.replace(/VAL/g,r);return typeof r=="string"&&En.test(r)?r:new B(l,"ipv4",r)},gm=(e=mm)=>function(r){let l=e.replace(/VAL/g,r);return typeof r=="string"&&Dn.test(r)?r:new B(l,"ipv6",r)},hm="VAL must be a valid domain name, xn--* for internationalized names",bm=/^((xn--)?[a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/,xm=(e=hm)=>function(r){let l=e.replace(/VAL/g,r);return typeof r=="string"&&bm.test(r)?r:new B(l,"domain",r)},vm="VAL must be a valid url",km=/^(?:(?:(?:https?|ftp|wss?):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i,wm=(e=vm)=>function(r){let l=e.replace(/VAL/g,r);return typeof r=="string"&&km.test(r)?r:new B(l,"url",r)},ym="VAL must be a valid color in HEX, RGB(A), or HSL(A) format",Cm="VAL must be a valid HEX color",_m="VAL must be a valid RGB(a) color",zm="VAL must be a valid HSL(A) color",Am=/^#(?:[\da-f]{3}){1,2}$|^#(?:[\da-f]{4}){1,2}$|^(rgb|hsl)a?\((\s*-?\d+%?\s*,){2}(\s*-?\d+%?\s*)\)$|^(rgb|hsl)a?\((\s*-?\d+%?\s*,){3}\s*(0|(0?\.\d+)|1)\)$/gmi,Tm=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,Sm=/^rgba?\((\s*-?\d+%?\s*,){2}(\s*-?\d+%?\s*)\)$|^rgba?\((\s*-?\d+%?\s*,){3}\s*(0|(0?\.\d+)|1)\)$/gmi,Em=/^hsla?\((\s*-?\d+%?\s*,){2}(\s*-?\d+%?\s*)\)$|^hsla?\((\s*-?\d+%?\s*,){3}\s*(0|(0?\.\d+)|1)\)$/gmi,Dm=(e=ym)=>function(r){let l=e.replace(/VAL/g,r);return typeof r=="string"&&Am.test(r)?r:new B(l,"color",r)},Im=(e=Cm)=>function(r){let l=e.replace(/VAL/g,r);return typeof r=="string"&&Tm.test(r)?r:new B(l,"hexColor",r)},jm=(e=_m)=>function(r){let l=e.replace(/VAL/g,r);return typeof r=="string"&&Sm.test(r)?r:new B(l,"rgbColor",r)},Om=(e=zm)=>function(r){let l=e.replace(/VAL/g,r);return typeof r=="string"&&Em.test(r)?r:new B(l,"hslColor",r)},In=/^4\d{12}(?:\d{3,6})?$/u,jn=/^5[1-5]\d{2}|(?:222\d|22[3-9]\d|2[3-6]\d{2}|27[01]\d|2720)\d{12}$/u,On=/^3[47]\d{13}$/u,Bn=/^6(?:011|5\d{2})\d{12,15}$/u,Ln=/^3(?:0[0-5]|[68]\d)\d{11,13}$/u,Fn=/^(?:2131|1800|35\d{3})\d{11}$/u,Pn=/^(?:6[27]\d{14,17}|81\d{14,17})$/u,Rn="VAL must be a valid CC number (visa, mastercard, american express, discover, diners club, jcb, or union pay)",Bm="VAL must be a valid Visa card number",Lm="VAL must be a valid Mastercard card number",Fm="VAL must be a valid American Express card number",Pm="VAL must be a valid DISCOVER card number",Rm="VAL must be a valid DINERS CLUB card number",Nm="VAL must be a valid JCB card number",Vm="VAL must be a valid Union Pay card number",Hm=(e=Rn)=>function(r){let l=e.replace(/VAL/g,r);return typeof r=="string"&&(In.test(r)||jn.test(r)||On.test(r)||Bn.test(r)||Ln.test(r)||Fn.test(r)||Pn.test(r))?r:new B(l,"creditCard",r)},$t=(e,r,l=Rn)=>function(a){let t=l.replace(/VAL/g,a);return typeof a=="string"&&r.test(a)?a:new B(t,e,a)},Um=(e=Bm)=>$t("visa",In,e),Ym=(e=Lm)=>$t("mastercard",jn,e),Gm=(e=Fm)=>$t("american express",On,e),qm=(e=Pm)=>$t("discover",Bn,e),Wm=(e=Rm)=>$t("diners club",Ln,e),Xm=(e=Nm)=>$t("jcb card",Fn,e),Km=(e=Vm)=>$t("union pay",Pn,e),Jm="The length of string must be VAL bytes",Zm=(e,r=Jm)=>function(l){let a=r.replace(/VAL/g,l);return typeof l=="string"&&new TextEncoder().encode(l).length===e?l:new B(a,"bytes",l)},Qm="VAL can`t be null or undefined.",Mm=(e=Qm)=>function(r){let l=e.replace(/VAL/g,r);return Mt(r)?r:new B(l,"notNull",r)},$m="The value must match the pattern",tf=(e,r=$m)=>function(l){let a=r.replace(/VAL/g,l);return(typeof e=="string"?new RegExp(e,"g"):e).test(""+l)?l:new B(a,"pattern",l)},ef="VAL must contains only digits",of=(e=ef)=>function(r){let l=e.replace(/VAL/g,r);return/^\d+$/g.test(""+r)?r:new B(l,"digits",r)},rf="VAL must be a float",af=(e=rf)=>function(r){let l=e.replace(/VAL/g,r);return!isNaN(r)&&+n%1!==0||/^\d*\.\d+$/.test(r)?r:new B(l,"float",r)},nf="VAL must must contains OBJ",lf=(e,r=nf)=>function(l){let a=r.replace(/VAL/g,l).replace(/OBJ/g,e);return l.includes(e)?l:new B(a,"contains",l)},sf="A VAL must have type TYPE";function pf(e){return Object.prototype.toString.call(e).replace(/^\[object (.+)]$/,"$1").toLowerCase()}var cf=(e="string",r=sf)=>function(l){let a=r.replace(/VAL/g,l).replace(/TYPE/g,e);return e===pf(l)?l:new B(a,"type",l)},df="VAL must be an equal to VALUE",mf=(e,r=df)=>function(l){let a=r.replace(/VAL/g,l).replace(/VALUE/g,e);return l===e?l:new B(a,"equal",l)},ff="VAL must be a similar to VALUE",uf=(e,r=ff)=>function(l){let a=r.replace(/VAL/g,l).replace(/VALUE/g,e);return l==e?l:new B(a,"similar",l)},gf="VAL must be a great then VALUE",hf=(e,r=gf)=>function(l){let a=r.replace(/VAL/g,l).replace(/VALUE/g,e);return l>e?l:new B(a,"great",l)},bf="VAL must be a less then VALUE",xf=(e,r=bf)=>function(l){let a=r.replace(/VAL/g,l).replace(/VALUE/g,e);return l<e?l:new B(a,"less",l)},vf="VAL must be a great or equal to VALUE",kf=(e,r=vf)=>function(l){let a=r.replace(/VAL/g,l).replace(/VALUE/g,e);return l>=e?l:new B(a,"greatOrEqual",l)},wf="VAL must be a less or equal to VALUE",yf=(e,r=wf)=>function(l){let a=r.replace(/VAL/g,l).replace(/VALUE/g,e);return l<=e?l:new B(a,"lessOrEqual",l)},Cf="0.7.1",_f="07.02.2025, 03:04:31",zf=()=>{console.info(`%c Guardian %c v${Cf} %c ${_f} `,"color: pink; font-weight: bold; background: #2b1700","color: white; background: darkgreen","color: white; background: #0080fe;")};globalThis.G=qo;var I=class ot{static DEBUG_LEVELS={NONE:0,ERROR:1,WARN:2,INFO:3,DEBUG:4,TRACE:5};static DEBUG_LEVEL=ot.DEBUG_LEVELS.NONE;static log(r,l,a){if(r>ot.DEBUG_LEVEL)return;let t={error:"color: #ff5555; font-weight: bold",warn:"color: #ffaa00; font-weight: bold",info:"color: #0080fe; font-weight: bold",debug:"color: #00aa00; font-weight: bold",trace:"color: #888888",data:"color: #555; font-style: italic"},o,i;switch(r){case ot.DEBUG_LEVELS.ERROR:o="error",i=console.error;break;case ot.DEBUG_LEVELS.WARN:o="warn",i=console.warn;break;case ot.DEBUG_LEVELS.INFO:o="info",i=console.info;break;case ot.DEBUG_LEVELS.DEBUG:o="debug",i=console.debug;break;case ot.DEBUG_LEVELS.TRACE:o="trace",i=console.log;break;default:return}console.group(`%c Model: ${l}`,t[o]),a!==void 0&&console.log("%c Data:",t.data,a),console.groupEnd()}static error(r,l){ot.log(ot.DEBUG_LEVELS.ERROR,r,l)}static warn(r,l){ot.log(ot.DEBUG_LEVELS.WARN,r,l)}static info(r,l){ot.log(ot.DEBUG_LEVELS.INFO,r,l)}static debug(r,l){ot.log(ot.DEBUG_LEVELS.DEBUG,r,l)}static trace(r,l){ot.log(ot.DEBUG_LEVELS.TRACE,r,l)}},Af="0.4.0",Tf="08.03.2025, 01:01:34",Nn=class{constructor(e={}){if(I.DEBUG_LEVEL=e.debug?4:0,I.debug("[Router] Init Router"),this.routes={},this.fallbackRoute=e.fallback||"/",this.maxRedirects=e.maxRedirects||5,this.redirectCount=0,this.basePath=e.base||"",this.middleware=[],this.beforeEachHooks=[],this.afterEachHooks=[],this.cache=new Map,this.cacheLimit=e.cacheLimit??50,this.touchStartX=0,this.enableSwipeNavigation=e.enableSwipeNavigation||!1,this.current=null,this.redirects={},this.useHash=e.useHash||!1,this.events={beforeNavigate:[],afterNavigate:[],routeNotFound:[],error:[]},this.plugins=[],this.enableSwipeNavigation&&this.initSwipeNavigation(),e.routes){I.debug("[Router] Registering routes");for(let[r,l]of Object.entries(e.routes))this.addRoute(r,l)}e.plugins&&Array.isArray(e.plugins)&&(I.debug("[Router] Registering plugins"),e.plugins.forEach(r=>{Array.isArray(r)?this.usePlugin(r[0],r[1]||{}):this.usePlugin(r)})),I.debug("[Router] Subscribing to unhandledrejection event"),window.addEventListener("unhandledrejection",this.handleError.bind(this)),I.debug("[Router] Router Initialized")}on(e,r){return I.debug(`[Router] Subscribing to event ${e}`),this.events[e]&&this.events[e].push(r),this}emit(e,...r){if(I.debug(`[Router] Emitting event ${e}`),this.events[e])for(let l of this.events[e]){let a=l(...r);if(e==="beforeNavigate"&&a===!1)return!1}return!0}initSwipeNavigation(){I.debug("[Router] Initializing swipe navigation"),I.debug("[Router] Adding touchstart event listener"),document.addEventListener("touchstart",e=>{this.touchStartX=e.touches[0].clientX},{passive:!0}),I.debug("[Router] Adding touchend event listener"),document.addEventListener("touchend",e=>{let r=e.changedTouches[0].clientX,l=this.touchStartX-r;Math.abs(l)>100&&(l>0?(I.debug("[Router] Swiping right (forward)"),window.history.forward()):(I.debug("[Router] Swiping left (backward)"),window.history.back()))},{passive:!0})}handleError(e){I.error("[Router] Error during navigation:",e),this.emit("error",e),this.routes["/error"]?this.navigateTo("/error",!0):this.navigateTo(this.fallbackRoute,!0)}sanitizePath(e){I.debug("[Router] Sanitizing path:",e);try{if(!e)return"/";let r=new URL(e,window.location.origin),l=decodeURIComponent(r.pathname);return l=l.replace(/[<>'"`;(){}]/g,"").replace(/[\u0000-\u001F\u007F-\u009F]/g,"").replace(/([^/])\/{2,}/g,"$1/").replace(/\/+/g,"/").replace(/(.+)\/$/,"$1").replace(/\.+/g,".").split("/").filter(a=>a!==".."&&a!==".").join("/"),l.startsWith("/")||(l="/"+l),this.isBlockedPath(l)?"/":(I.debug("[Router] Sanitized path:",l),l)}catch(r){return I.error("[Router] Error sanitizing path:",r),"/"}}isBlockedPath(e){return I.debug("[Router] Checking if path is blocked:",e),[/^\/(api|admin|wp-admin|wp-content|wp-includes)/i,/\.(php|asp|aspx|jsp|cgi|config|env|git|sql|htaccess)$/i,/\/(.+\/)*\.{2,}\//,/javascript:/i,/data:/i,/vbscript:/i,/file:/i].some(r=>r.test(e))}test(e){I.debug("[Router] Testing path:",e);let r=e,l=this.sanitizePath(e),a={original:r,sanitized:l,isBlocked:this.isBlockedPath(l),isModified:r!==l};return I.debug(`[Router] test result for path ${e}:`,a),a}beforeEach(e){return I.debug("[Router] Adding beforeEach hook"),this.beforeEachHooks.push(e),this}afterEach(e){return I.debug("[Router] Adding afterEach hook"),this.afterEachHooks.push(e),this}use(e){return I.debug("[Router] Adding middleware"),this.middleware.push(e),this}addRedirect(e,r){return I.debug("[Router] Adding redirect from",e,"to",r),this.redirects[e]?!1:(this.redirects[e]=r,this)}addRoute(e,r){return I.debug("[Router] Adding route",e),this.routes[e]=r,this}addNestedRoute(e,r,l){I.debug(`[Router] Adding nested route ${r} to ${e}`);let a=`${e}${r}`.replace(/\/\//g,"/");return this.addRoute(a,l),this}addLazyRoute(e,r){return I.debug("[Router] Adding lazy-loaded route",e),this.addRoute(e,async l=>{try{let a=await r();return(a.default||a)(l)}catch(a){throw a}}),this}addLazyNestedRoute(e,r,l){I.debug("[Router] Adding lazy-loaded nested route",r,"to",e);let a=`${e}${r}`.replace(/\/\//g,"/");return this.addLazyRoute(a,l),this}addFallbackRoute(e){return I.debug("[Router] Adding fallback route",e),this.fallbackRoute=e,this}add404Route(e){return I.debug("[Router] Adding 404 route",e),this.routes["/404"]=e,this}addErrorRoute(e){return I.debug("[Router] Adding error route",e),this.routes["/error"]=e,this}addProtectedRoute(e,r,l,a="/login"){return I.debug("[Router] Adding protected route",e),this.addRoute(e,async t=>{if(await l(t))return I.debug("[Router] Guard function passed, executing callback"),r(t);I.debug("[Router] Guard function failed, redirecting to",a),await this.navigateTo(a,!0)}),this}removeRoute(e){return I.debug("[Router] Removing route",e),this.routes[e]&&delete this.routes[e],this}updateRoute(e,r){return I.debug("[Router] Updating route",e),this.routes[e]&&(this.routes[e]=r),this}getRoutes(){return I.debug("[Router] Getting registered routes"),this.routes}async navigate(e){if(I.debug("[Router] Navigating to",e),this.redirectCount>this.maxRedirects){I.error("[Router] Maximum redirect limit reached, redirecting to",this.fallbackRoute),console.error("Maximum redirect limit reached"),this.redirectCount=0,this.emit("error",new Error("Maximum redirect limit reached")),await this.navigateTo("/error",!0);return}this.redirectCount++;let r=this.matchRoute(this.sanitizePath(e));if(r)try{if(I.debug("[Router] Route matched:",r),this.emit("beforeNavigate",r)===!1){I.debug("[Router] Navigation cancelled by beforeNavigate hook");return}if(this.redirects[r.path]){I.debug("[Router] Redirecting to",this.redirects[r.path]),await this.navigateTo(this.redirects[r.path],!0);return}this.redirectCount++;for(let l of this.middleware)I.debug("[Router] Executing middleware"),await l(r);for(let l of this.beforeEachHooks)I.debug("[Router] Executing beforeEach hook"),await l(r);I.debug("[Router] Executing route callback"),await r.callback(r.params);for(let l of this.afterEachHooks)I.debug("[Router] Executing afterEach hook"),await l(r);this.current=r,this.emit("afterNavigate",r),I.debug("[Router] Navigation completed")}catch(l){I.error("[Router] Error during navigation:",l),console.error("Navigation error:",l),this.emit("error",l),this.routes["/error"]&&this.routes["/error"](l)}else I.warn("[Router] Route not found:",e),this.redirectCount=0,this.emit("routeNotFound",e),this.routes["/404"]&&this.routes["/404"]()}async navigateTo(e,r=!1){I.debug(`[Router] Navigating to ${e} ${r?"with replace state":""}`),this.redirectCount=0;let l=new URL(e,window.location.origin);r?(I.debug("[Router] Replacing state with",l),window.history.replaceState({},"",l)):(I.debug("[Router] Pushing state with",l),window.history.pushState({},"",l)),I.debug("[Router] Navigating to",l),await this.navigate(l.pathname)}matchRoute(e){if(I.debug("[Router] Matching route for",e),this.cache.has(e))return this.cache.get(e);I.debug("[Router] Route not found in cache, performing match");let r=this._performMatch(e);if(this.cache.size>=this.cacheLimit){I.debug("[Router] Cache limit reached, removing oldest entry");let l=this.cache.keys().next().value;this.cache.delete(l)}return I.debug("[Router] Caching result for",e),this.cache.set(e,r),r}_performMatch(e){let[r,l]=e.split("?"),a=new URLSearchParams(l),t=Object.fromEntries(a);for(let o in this.routes){let i=[],p=o.replace(/:([^\/]+)/g,(d,m)=>(i.push(m),"([^/]+)")),c=e.match(new RegExp(`^${p}$`));if(c){let d=c.slice(1).reduce((m,f,u)=>(m[i[u]]=f,m),{});return{path:e,pattern:p,callback:this.routes[o],params:d,query:t}}}return null}clearCache(){I.debug("[Router] Clearing cache"),this.cache.clear()}resetRedirectCount(){I.debug("[Router] Resetting redirect count"),this.redirectCount=0}getFullPath(e){return I.debug("[Router] Getting full path for",e),this.useHash?`#${e}`:e}getPathFromLocation(){return I.debug("[Router] Getting path from location"),this.useHash?window.location.hash.slice(1)||"/":window.location.pathname}listen(){return I.debug("[Router] Starting to listen for navigation events"),this._handleNavigation=()=>{this.redirectCount=0,this.navigate(this.getPathFromLocation()).then(e=>{})},this._handleLinkClick=e=>{if(e.target.tagName==="A"){let r=e.target.getAttribute("href");if(r&&(this.useHash&&r.startsWith("#")||!this.useHash&&e.target.href.startsWith(window.location.origin))){e.preventDefault();let l=this.useHash?r.slice(1):e.target.pathname;this.redirectCount=0,this.navigateTo(l).then(a=>{})}}},I.debug("[Router] Listening for navigation events"),window.addEventListener(this.useHash?"hashchange":"popstate",this._handleNavigation),I.debug("[Router] Listening for link clicks"),document.addEventListener("click",this._handleLinkClick),this._initPlugins(),this.redirectCount=0,this.navigate(this.getPathFromLocation()).then(e=>{}),this}_initPlugins(){I.debug("[Router] Init plugins"),this.plugins.forEach(({plugin:e,options:r})=>{typeof e.onInit=="function"&&e.onInit(this,r)})}usePlugin(e,r={}){if(!e)return this;if(I.debug("[Router] Using plugin",e),typeof e=="object"&&typeof e.install=="function")I.debug("[Router] Installing plugin",e),e.install(this,r);else if(typeof e=="function")I.debug("[Router] Executing plugin",e),e(this,r);else return I.warn("Invalid plugin format. Plugin must be an object with install method or a function."),this;return I.debug("[Router] Add plugin to store",e),this.plugins.push({plugin:e,options:r}),I.debug("[Router] Plugin initialized"),this}destroy(){I.debug("[Router] Destroying router"),this.plugins.forEach(({plugin:e,options:r})=>{I.debug("[Router] Destroying plugin",e),typeof e.onDestroy=="function"&&e.onDestroy(this,r)}),I.debug("[Router] Removing event listeners"),window.removeEventListener(this.useHash?"hashchange":"popstate",this._handleNavigation),document.removeEventListener("click",this._handleLinkClick),window.removeEventListener("unhandledrejection",this.handleError),this._handleNavigation=null,this._handleLinkClick=null,this.routes={},this.plugins=[],this.cache.clear(),I.debug("[Router] Router destroyed")}};Nn.info=()=>{console.info(`%c Router %c v${Af} %c ${Tf} `,"color: #ffffff; font-weight: bold; background: #ed1cab","color: white; background: darkgreen","color: white; background: #0080fe;")};var Sf=Nn,Vn=Sf;globalThis.Router=Vn;var Ef=class{constructor(){this.events=new Map}on(e,r){return this.events.has(e)||this.events.set(e,new Set),this.events.get(e).add(r),()=>this.off(e,r)}off(e,r){this.events.has(e)&&this.events.get(e).delete(r)}emit(e,r){this.events.has(e)&&this.events.get(e).forEach(l=>{try{l(r)}catch(a){console.error(`Error when performing an event handler ${e}:`,a)}})}},Wo=Ef,Df=`
    <style>
        #model-devtools-panel  { 
            position: fixed;
            bottom: 0;
            right: 0;
            width: 300px;
            height: 400px;
            background: #242424;
            color: #fff;
            border: 1px solid #333;
            z-index: 9999;
            font-family: monospace;
            
            *::-webkit-scrollbar {
              width: 10px;
            }
            
            * {
              scrollbar-width: thin;
            }
            
            .devtools-section {
                padding: 8px;
                margin: 4px;
                border: 1px solid #444;
                cursor: pointer;
                hover: background-color: #333;
                font-size: 12px;
            }
            
            h3 {
                margin: 0;
                font-size: 14px;
                border-bottom: 1px solid #333;
                padding-bottom: 4px;
            }
        }
        
        #model-dev-tools-toggle-button {
            position: fixed;
            bottom: 10px;
            right: 10px;
            z-index: 9998;
            height: 36px;
            width: 36px;
            background: #444;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }        

        #model-devtools-time-travel-dialog {
            position: fixed;
            bottom: 0;
            right: 304px;
            background: #2a2a2a;
            border: 1px solid #444;
            border-radius: 4px;
            height: 400px;
            width: 300px;
            z-index: 10000;
            color: #fff;
            font-family: monospace;
            
            *::-webkit-scrollbar {
              width: 10px;
            }
            
            * {
              scrollbar-width: thin;
            }
            
            .time-travel-items {
                padding: 4px; 
                height: calc(100% - 35px); 
                overflow: auto;
                position: relative;
            }
            
            .time-travel-item {
                padding: 8px;
                margin: 4px;
                border: 1px solid #444;
                cursor: pointer;
                hover: background-color: #333;
                font-size: 12px;
                
                button {
                    margin-top: 8px;
                    background: dodgerblue;
                }
            }
        }
        
        #model-devtools-panel, #model-devtools-time-travel-dialog {
            button {
                height: 20px;
                display: inline-flex;
                align-items: center;
                justify-content: center;
                font-size: 12px;
                border-radius: 4px;
                border: 1px solid #444;
                background: #333;
                color: #fff;
                cursor: pointer;
                
                @media (hover: hover) {
                    &:hover {
                        background: #444;
                    }
                }

                @media (hover: none) {
                    &:hover {
                        background: #444;
                    }
                }
            }        
        }
        
        .dev-tools-header {
            padding: 8px; 
            border-bottom: 1px solid #333; 
            display: flex; 
            justify-content: space-between;
        }
    </style>
`,If=Df,jf=class{constructor(e,r={}){this.model=e,this.options={enabled:!0,timeTravel:!0,maxSnapshots:50,...r},this.history=[],this.currentIndex=-1,this.initializeDevTools()}initializeDevTools(){window.__MODEL_DEVTOOLS__=this,this.createDevToolsPanel(),this.setupModelListeners()}createDevToolsPanel(){let e=document.createElement("div");e.id="model-devtools-panel",e.style.cssText="display: none;";let r=document.createElement("div");r.innerHTML=`
            ${If}
            <div class="dev-tools-header">
                <span>\u{1F6E0} Model DevTools</span>
                <div>
                    <button id="devtools-time-travel" title="Time Travel">\u23F1</button>
                    <button id="devtools-close" title="Close">\xD7</button>
                </div>
            </div>
        `;let l=document.createElement("div");l.style.cssText=`
            padding: 8px;
            height: calc(100% - 35px);
            overflow: auto;
        `,l.id="model-devtools-content",e.appendChild(r),e.appendChild(l),document.body.appendChild(e),this.createToggleButton(),document.getElementById("devtools-close").onclick=()=>this.togglePanel(),document.getElementById("devtools-time-travel").onclick=()=>this.showTimeTravelDialog()}showTimeTravelDialog(){let e=document.getElementById("model-devtools-time-travel-dialog");e||(e=document.createElement("div"),e.id="model-devtools-time-travel-dialog");let r=[...this.history].reverse().map((l,a)=>`
            <div class="time-travel-item">
                <div>Time: ${new Date(l.timestamp).toLocaleTimeString()}</div>
                <div>Type: ${l.type}</div>
                <div>Property: ${l.property||l.event||l.path||""}</div>
                <div>Value: ${l.type==="computed-update"?l.newValue:typeof l.oldValue<"u"&&typeof l.newValue<"u"?`${JSON.stringify(l.oldValue)} -> ${JSON.stringify(l.newValue)}`:JSON.stringify(l.newValue||l.value||"")}</div>
                <button style="display: none" onclick="window.__MODEL_DEVTOOLS__.timeTravel(${this.history.length-1-a})">Apply this state</button>
            </div>
        `).join("");e.innerHTML=`
            <div class="dev-tools-header">
                <span>\u23F1 Time Travel</span>
                <div>
                    <button style="margin-left: auto;" onclick="window.__MODEL_DEVTOOLS__.clearTimeTravel()">CLear</button>
                    <button onclick="this.parentElement.parentElement.parentElement.remove()">\xD7</button>                
                </div>
            </div>
            <div class="time-travel-items">${r||"Nothing to show!"}</div>
        `,document.body.appendChild(e)}createToggleButton(){let e=document.createElement("button");e.id="model-dev-tools-toggle-button",e.textContent="\u{1F6E0}",e.title="Model DevTools",e.onclick=()=>this.togglePanel(),document.body.appendChild(e)}setupModelListeners(){this.model.store.on("change",e=>{this.logChange({type:"data-change",path:e.path,oldValue:e.oldValue,newValue:e.newValue,timestamp:Date.now()})}),this.model.store.on("*",(e,r)=>{e!=="change"&&e!=="compute"&&e!=="arrayChange"&&this.logChange({type:"store-event",event:e,data:r,timestamp:Date.now()})}),this.model.on("*",(e,r)=>{e!=="change"&&e!=="compute"&&this.logChange({type:"model-event",event:e,data:r,timestamp:Date.now()})}),this.model.store.on("compute",e=>{this.logChange({type:"computed-update",property:e.key,dependencies:Array.from(e.dependencies),newValue:e.value,timestamp:Date.now()})}),this.model.store.on("arrayChange",e=>{this.logChange({type:"array-operation",path:e.path,method:e.method,args:e.args,oldValue:e.oldValue,newValue:e.newValue,timestamp:Date.now()})})}logChange(e){this.options.enabled&&(this.options.timeTravel&&this.saveSnapshot(e),this.updateDisplay())}saveSnapshot(e){let r={...e,state:JSON.parse(JSON.stringify(this.model.data)),computed:this.getComputedValues()};this.history=this.history.slice(0,this.currentIndex+1),this.history.push(r),this.currentIndex++,this.history.length>this.options.maxSnapshots&&(this.history.shift(),this.currentIndex--)}updateDisplay(){let e=document.getElementById("model-devtools-content");if(!e)return;let r=i=>{if(i===void 0)return"undefined";if(i===null)return"null";try{return Array.isArray(i)?`Array(${i.length}) ${JSON.stringify(i,null,2)}`:JSON.stringify(i,null,2)}catch{return String(i)}},l=this.getRecentChanges(),a="";for(let i of l){let p;try{let c={...i,timestamp:new Date(i.timestamp).toLocaleTimeString()};p=JSON.stringify(c,null,2)}catch(c){p=`Error formatting change: ${c.message}`}a+=`
            <div style="border-bottom: 1px solid #444; padding-bottom: 8px; overflow-x: auto">
                <pre>${p}</pre>
            </div>
`}let t=this.getComputedValues();e.innerHTML=`
        <div class="devtools-section">
            <h3>Current State:</h3>
            <pre>${r(this.model.data)}</pre>
        </div>
        <div class="devtools-section">
            <h3>Computed Values:</h3>
            <pre>${r(t)}</pre>
        </div>
        <div class="devtools-section">
            <h3>DOM Dependencies:</h3>
            <pre>${this.formatDOMDependencies()}</pre>
        </div>
        <div class="devtools-section">
            <h3>Recent Changes:</h3>
            ${a}
        </div>
    `,document.getElementById("model-devtools-time-travel-dialog")&&this.showTimeTravelDialog()}formatDOMDependencies(){try{let e={};return this.model.dom.domDependencies.forEach((r,l)=>{e[l]=Array.from(r).map(a=>({type:a.type,element:a.element.tagName}))}),JSON.stringify(e,null,2)}catch(e){return`Error formatting DOM dependencies: ${e.message}`}}getComputedValues(){if(!this.model.computed)return{};if(typeof this.model.computed.all=="function")return this.model.computed.all();if(this.model.computed.keys&&Array.isArray(this.model.computed.keys)){let r={};for(let l of this.model.computed.keys)r[l]=this.model.computed.getValue(l);return r}let e={};for(let r in this.model.data)this.model.computed&&typeof this.model.computed[r]<"u"&&(e[r]=this.model.data[r]);return e}getRecentChanges(){return this.history.slice(-5).reverse()}togglePanel(){let e=document.getElementById("model-devtools-panel");e&&(e.style.display=e.style.display==="none"?"block":"none"),e.style.display==="none"&&document.getElementById("model-devtools-time-travel-dialog").remove()}inspect(e){return this.model.store.get(e)}timeTravel(e){this.options.timeTravel;return;try{let l=this.options.enabled;if(this.options.enabled=!1,this.model.store.setState(r.state),this.model.computed)if(typeof this.model.computed.recomputeAll=="function")this.model.computed.recomputeAll();else for(let a in r.computed)typeof this.model.computed.evaluate=="function"?this.model.computed.evaluate(a,!0):typeof this.model.computed.recompute=="function"&&this.model.computed.recompute(a);this.model.dom.updateAllDOM(),this.currentIndex=e,this.options.enabled=l}catch(l){console.error("Error during time travel:",l)}}clearTimeTravel(){this.history=[],this.currentIndex=-1,this.showTimeTravelDialog()}startPerfMonitoring(){this.perfMetrics={updates:0,computations:0,domUpdates:0,startTime:Date.now()},this.model.store.on("change",()=>{this.perfMetrics.updates++}),this.model.store.on("compute",()=>{this.perfMetrics.computations++})}getPerfReport(){let e=(Date.now()-this.perfMetrics.startTime)/1e3;return{totalUpdates:this.perfMetrics.updates,updatesPerSecond:this.perfMetrics.updates/e,computationsPerSecond:this.perfMetrics.computations/e,domUpdatesPerSecond:this.perfMetrics.domUpdates/e}}},Of=jf,Bf=class{constructor(){this.middlewares=[]}use(e){if(typeof e!="function"){console.error("MIDDLEWARE should be a function!");return}this.middlewares.push(e)}async process(e){let r=-1,l=async()=>{r++,r<this.middlewares.length&&await this.middlewares[r](e,l)};return await l(),e}},Lf=Bf,S=class rt{static DEBUG_LEVELS={NONE:0,ERROR:1,WARN:2,INFO:3,DEBUG:4,TRACE:5};static DEBUG_LEVEL=rt.DEBUG_LEVELS.NONE;static log(r,l,a){if(r>rt.DEBUG_LEVEL)return;let t={error:"color: #ff5555; font-weight: bold",warn:"color: #ffaa00; font-weight: bold",info:"color: #0080fe; font-weight: bold",debug:"color: #00aa00; font-weight: bold",trace:"color: #888888",data:"color: #555; font-style: italic"},o,i;switch(r){case rt.DEBUG_LEVELS.ERROR:o="error",i=console.error;break;case rt.DEBUG_LEVELS.WARN:o="warn",i=console.warn;break;case rt.DEBUG_LEVELS.INFO:o="info",i=console.info;break;case rt.DEBUG_LEVELS.DEBUG:o="debug",i=console.debug;break;case rt.DEBUG_LEVELS.TRACE:o="trace",i=console.log;break;default:return}console.group(`%c Model: ${l}`,t[o]),a!==void 0&&console.log("%c Data:",t.data,a),console.groupEnd()}static error(r,l){rt.log(rt.DEBUG_LEVELS.ERROR,r,l)}static warn(r,l){rt.log(rt.DEBUG_LEVELS.WARN,r,l)}static info(r,l){rt.log(rt.DEBUG_LEVELS.INFO,r,l)}static debug(r,l){rt.log(rt.DEBUG_LEVELS.DEBUG,r,l)}static trace(r,l){rt.log(rt.DEBUG_LEVELS.TRACE,r,l)}},Ff=class extends Wo{constructor(e={},r){S.DEBUG_LEVEL=r.options.debug?4:0,S.debug("Model: Init ReactiveStore"),super(),this.model=r,S.DEBUG_LEVEL=this.model.options.debug?4:0,S.debug("Model: Init ReactiveStore"),this.state=this.createReactiveProxy(e),this.watchers=new Map,this.previousState=JSON.parse(JSON.stringify(e)),S.debug("Model: Init MiddlewareManager"),this.middleware=new Lf,S.debug("Model: MiddlewareManager initialized"),S.debug("Model: ReactiveStore initialized")}use(e){S.debug("Model: Registering middleware:",e),this.middleware.use(e)}createReactiveProxy(e,r=""){return S.debug(`Model: Creating reactive object with path ${r} for`,e),Array.isArray(e)?this.createArrayProxy(e,r):new Proxy(e,{get:(l,a)=>{if(typeof a=="symbol")return l[a];let t=l[a],o=r?`${r}.${a}`:a;return t&&typeof t=="object"?this.createReactiveProxy(t,o):t},set:async(l,a,t)=>{if(typeof a=="symbol")return l[a]=t,!0;let o=r?`${r}.${a}`:a,i=l[a];if(i===t)return!0;if(this.validators?.has(`${o}`)&&!this.validators.get(`${o}`)(t))return!1;this.formatters?.has(`${o}`)&&(t=this.formatters.get(`${o}`)(t)),t&&typeof t=="object"&&(t=this.createReactiveProxy(t,o));let p={prop:a,oldValue:i,newValue:t,preventDefault:!1};return await this.middleware.process(p),p.preventDefault||(l[a]=t,this.emit("change",{path:o,oldValue:i,newValue:t}),this.watchers.has(o)&&this.watchers.get(o).forEach(c=>{c(t,i)})),!0},deleteProperty:(l,a)=>{if(typeof a=="symbol")return delete l[a];let t=r?`${r}.${a}`:a,o=l[a],i=delete l[a];return i&&(this.emit("delete",{path:t,oldValue:o}),this.watchers.has(t)&&this.watchers.get(t).forEach(p=>{p(void 0,o)})),i}})}createArrayProxy(e,r){return S.debug(`Model: Creating reactive array with path ${r} for`,e),new Proxy(e,{get:(l,a)=>{if(typeof a=="symbol")return l[a];let t=l[a];return typeof t=="function"&&["push","pop","shift","unshift","splice","sort","reverse"].includes(a)?(...o)=>{let i=[...l],p=l[a].apply(l,o),c={prop:r,oldValue:i,newValue:l,method:a,args:o,preventDefault:!1};return this.middleware.process(c).then(()=>{c.preventDefault||(this.emit("arrayChange",{path:r,method:a,args:o,oldValue:i,newValue:l}),this.emit("change",{path:r,oldValue:i,newValue:l,method:a,args:o}),this.watchers.has(r)&&this.watchers.get(r).forEach(d=>{d(l,i)}))}),p}:typeof a!="symbol"&&!isNaN(Number(a))&&t&&typeof t=="object"?this.createReactiveProxy(t,`${r}[${a}]`):t},set:async(l,a,t)=>{if(typeof a=="symbol")return l[a]=t,!0;let o=r?`${r}.${a}`:a,i=l[a];if(i===t)return!0;if(this.validators?.has(o)&&!this.validators.get(o)(t))return!1;this.formatters?.has(o)&&(t=this.formatters.get(o)(t)),l[a]=t,t&&typeof t=="object"&&(t=this.createReactiveProxy(t,`${r}[${a}]`));let p={prop:a,oldValue:i,newValue:t,preventDefault:!1};return await this.middleware.process(p),p.preventDefault||(l[a]=t,this.middleware.process(p).then(()=>{p.preventDefault||(this.emit("arrayChange",{path:o,method:null,args:null,oldValue:i,newValue:t}),this.emit("change",{path:o,oldValue:i,newValue:t,arrayIndex:Number(a)}),this.watchers.has(o)&&this.watchers.get(o).forEach(c=>{c(t,i)}))})),!0}})}applyArrayMethod(e,r,...l){S.debug(`Model: Applying array method ${r} to path ${e} with args`,l);let a=this.get(e);if(!Array.isArray(a))return console.error(`\u041F\u0443\u0442\u044C ${e} \u043D\u0435 \u044F\u0432\u043B\u044F\u0435\u0442\u0441\u044F \u043C\u0430\u0441\u0441\u0438\u0432\u043E\u043C!`),!1;let t=[...a],o=a[r].apply(a,l);return this.emit("arrayChange",{path:e,method:r,args:l,oldValue:t,newValue:[...a]}),this.emit("change",{path:e,oldValue:t,newValue:[...a]}),this.watchers.has(e)&&this.watchers.get(e).forEach(i=>{i([...a],t)}),o}applyArrayChanges(e,r){S.debug(`Model: Applying custom array changes to path ${e} with callback`,r);let l=this.get(e);if(!Array.isArray(l))return console.error(`The path ${e} is not an array!`),!1;let a=[...l],t=r(l);return this.emit("arrayChange",{path:e,method:"custom",args:null,oldValue:a,newValue:[...l]}),this.emit("change",{path:e,oldValue:a,newValue:[...l]}),this.watchers.has(e)&&this.watchers.get(e).forEach(o=>{o([...l],a)}),t}detectArrayChanges(e,r=[]){S.debug("Model: Detecting changes between arrays");let l={added:[],removed:[],moved:[]};for(let a=0;a<e.length;a++){let t=e[a],o=r.findIndex(i=>JSON.stringify(i)===JSON.stringify(t));o===-1?l.added.push({index:a,item:t}):o!==a&&l.moved.push({oldIndex:o,newIndex:a,item:t})}for(let a=0;a<r.length;a++){let t=r[a];e.findIndex(i=>JSON.stringify(i)===JSON.stringify(t))===-1&&l.removed.push({index:a,item:t})}return S.debug("Model: Detected changes:",l),l}watch(e,r){return S.debug(`Model: Watching path ${e} with callback`,r),this.watchers.has(e)||this.watchers.set(e,new Set),this.watchers.get(e).add(r),()=>{this.watchers.has(e)&&this.watchers.get(e).delete(r)}}get(e){if(S.debug(`Model: Getting value at path ${e}`),!e)return this.state;let r=e.split("."),l=this.state;for(let a of r){if(l==null)return;l=l[a]}return l}set(e,r){S.debug(`Model: Setting value at path ${e} to`,r);let l=e.split("."),a=this.state;for(let t=0;t<l.length-1;t++)a[l[t]]===void 0&&(a[l[t]]={}),a=a[l[t]];return a[l[l.length-1]]=r,r}batch(e){S.debug("Model: Batch updating state with",e),this.previousState=JSON.parse(JSON.stringify(this.state)),typeof e=="function"?e(this.state):typeof e=="object"&&Object.entries(e).forEach(([r,l])=>{this.set(r,l)}),this.emit("batchComplete",{previousState:this.previousState,currentState:this.state})}getState(){return S.debug("Model: Getting entire state"),this.state}getPreviousState(){return S.debug("Model: Getting previous state"),this.previousState}toJSON(){return S.debug("Model: Converting state to JSON"),JSON.stringify(this.state)}fromJSON(e){S.debug("Model: Restoring state from JSON",e);let r=JSON.parse(e);this.previousState=JSON.parse(JSON.stringify(this.state)),Object.keys(this.state).forEach(l=>{delete this.state[l]}),Object.entries(r).forEach(([l,a])=>{this.state[l]=a}),this.emit("restore",{previousState:this.previousState,currentState:this.state})}addValidator(e,r){S.debug(`Model: Adding validator for path ${e}`),this.validators||(this.validators=new Map),this.validators.set(e,r)}addFormatter(e,r){S.debug(`Model: Adding formatter for path ${e}`),this.formatters||(this.formatters=new Map),this.formatters.set(e,r)}isValidPath(e){S.debug(`Model: Validating path ${e}`);try{return this.get(e)!==void 0}catch(r){return S.error(`Model: Error validating path ${e}:`,r),!1}}destroy(){this.state=null,this.watchers.clear(),this.previousState=null,S.debug("Model: ReactiveStore destroyed")}},Pf=class{constructor(e,r){S.DEBUG_LEVEL=r.options.debug?4:0,S.debug("Model: Init LoopManager"),this.domManager=e,this.model=r,this.loops=new Map,this.loopsIn=[],S.debug("Model: LoopManager initialized")}parseLoops(e){S.debug("Parsing loops with data-for...");let r=e.querySelectorAll("[data-for]");S.debug("Found elements with data-for:",r.length),r.forEach(a=>{let t=a.getAttribute("data-for").trim(),o=t.match(/^\s*(\w+)(?:\s*,\s*(\w+))?\s+in\s+(\w+(?:\.\w+)*)\s*$/);if(!o){console.error("Invalid expression format data-for:",t);return}let[i,p,c,d]=o,m=this.model.store.get(d);if(!Array.isArray(m)){console.error(`The value in the ${d} path is not an array:`,m);return}let f=a.cloneNode(!0);this.loops.set(a,{template:f,itemName:p,indexName:c,arrayPath:d,parentNode:a.parentNode}),this.domManager.registerDomDependency(d,a,{type:"loop",arrayPath:d}),this.updateLoop(a)}),S.debug("Parsing loops with data-in...");let l=e.querySelectorAll("[data-in]");S.debug("Found elements with data-in:",l.length),l.forEach(a=>{let t=a.getAttribute("data-in"),o=t.match(/^\s*(\w+)\s+in\s+(\S+)\s*$/);if(!o){console.error(`Invalid data-in syntax: ${t}`);return}let[i,p,c]=o,d=a.innerHTML,m=a.parentNode,f=document.createComment(`data-in: ${t}`);a.style.display="none",m.insertBefore(f,a),this.loopsIn.push({type:"in",originalElement:a,template:d,placeholder:f,objectPath:c,keyVar:p,elements:[]});let u=this.model.store.get(c);u&&typeof u=="object"&&!Array.isArray(u)&&this.updateInLoop(this.loopsIn[this.loopsIn.length-1],u)})}updateInLoop(e,r){e.elements.forEach(l=>l.remove()),e.elements=[],!(!r||typeof r!="object"||Array.isArray(r))&&Object.keys(r).forEach(l=>{S.debug(`Updating loop for key: ${l}`);let a=e.originalElement.cloneNode(!0);a.removeAttribute("data-in"),a.style.display="";let t={[e.keyVar]:l};a.innerHTML=this.processTemplate(e.template,r,l,t),e.placeholder.parentNode.insertBefore(a,e.placeholder.nextSibling),e.elements.push(a),this.domManager.bindDOM(a)})}processTemplate(e,r,l,a){return S.debug("Processing template:",e),S.debug("	 With data:",r),S.debug(`	 For key: ${l}`),S.debug("	 With context:",a),e.replace(/\{\{\s*([^}]+)\s*\}\}/g,(t,o)=>{o=o.trim();let i=Object.keys(a)[0];if(o===i)return l;S.debug(`Template: Processing path: ${o}`);let p=new RegExp(`(\\w+)\\[${i}\\]`),c=o.match(p);if(c){let m=c[1],f=r;if(f&&typeof f=="object")return f[l]!==void 0?f[l]:""}let d=this.model.store.get(o);return d!==void 0?d:""})}updateLoops(e,r){S.debug("Updating data-for loops for ${path}",this.loops),this.loops.forEach((l,a)=>{l.arrayPath===e&&this.updateLoop(a)}),S.debug(`Updating data-in loops for ${e}`,this.loopsIn),this.loopsIn.forEach(l=>{if(l.type==="in"&&(l.objectPath===e||e.startsWith(l.objectPath+"."))){let a=this.model.store.get(l.objectPath);a&&typeof a=="object"&&this.updateInLoop(l,a)}})}updateLoop(e){S.debug("Updating loop for element:",e);let r=this.loops.get(e)||this.loopsIn.find(d=>d.originalElement===e)[0];if(!r){console.error("\u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F \u043E \u0446\u0438\u043A\u043B\u0435 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u0430 \u0434\u043B\u044F \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430");return}let{template:l,itemName:a,indexName:t,arrayPath:o,parentNode:i}=r,p=this.model.store.get(o);if(!Array.isArray(p)){console.error("\u0417\u043D\u0430\u0447\u0435\u043D\u0438\u0435 \u043D\u0435 \u044F\u0432\u043B\u044F\u0435\u0442\u0441\u044F \u043C\u0430\u0441\u0441\u0438\u0432\u043E\u043C:",p);return}i.querySelectorAll(`[data-generated-for="${o}"]`).forEach(d=>d.remove()),p.forEach((d,m)=>{let f=l.cloneNode(!0);f.style.display="",f.removeAttribute("data-for"),f.setAttribute("data-generated-for",o),f.setAttribute("data-item-index",""+m),S.debug(`Creating new loop element for ${o} at index ${m}`),this.domManager.processTemplateNode(f,{[a]:d,[t||"index"]:m}),S.debug("Insert new node",f),i.insertBefore(f,e)}),e.style.display="none"}updateLoopPart(e,r,l,a){let t=this.loops.get(e);if(!t)return;let{template:o,itemName:i,indexName:p,parentNode:c}=t,d=this.model.store.get(r);if(!Array.isArray(d))return;let m=Array.from(c.querySelectorAll(`[data-generated-for="${r}"]`));if(a===void 0||m.length!==d.length)return this.updateLoop(e);let f=m[a];if(f){let u=o.cloneNode(!0);for(this.domManager.processTemplateNode(u,{[i]:d[a],[p||"index"]:a});f.firstChild;)f.removeChild(f.firstChild);for(;u.firstChild;)f.appendChild(u.firstChild);Array.from(u.attributes).forEach(g=>{f.setAttribute(g.name,g.value)})}}getLoops(){return{for:this.loops,in:this.loopsIn}}destroy(){this.loops.clear(),this.loopsIn=[],S.debug("Model: LoopManager destroyed")}},Fe=class{static evaluateExpression(e,r){try{if(e.startsWith("{{")&&e.endsWith("}}")){let l=e.substring(2,e.length-2).trim();return this.getValueFromContext(r,l)}return this.parseExpression(e,r)}catch(l){return console.error("\u041E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0432\u044B\u0447\u0438\u0441\u043B\u0435\u043D\u0438\u0438 \u0432\u044B\u0440\u0430\u0436\u0435\u043D\u0438\u044F:",l),!1}}static getValueFromContext(e,r){return r?r.split(".").reduce((l,a)=>{let t=a.match(/^([^\[]+)(?:\[(\d+)\])?$/);if(t){let[o,i,p]=t,c=l?.[i];return p!==void 0&&Array.isArray(c)?c[parseInt(p,10)]:c}return l?.[a]},e):e}static parseExpression(e,r){e=e.trim();let l=e.match(/(.+?)\s*\?\s*(.+?)\s*:\s*(.+)/);if(l){let[t,o,i,p]=l;return this.parseExpression(o,r)?this.parseExpression(i,r):this.parseExpression(p,r)}if(e.includes("&&"))return e.split("&&").every(o=>this.parseExpression(o.trim(),r));if(e.includes("||"))return e.split("||").some(o=>this.parseExpression(o.trim(),r));let a=e.match(/(.+?)\s*(===|==|!==|!=|>=|<=|>|<)\s*(.+)/);if(a){let[t,o,i,p]=a,c=this.parseExpression(o.trim(),r),d=this.parseExpression(p.trim(),r);switch(i){case"==":return c==d;case"===":return c===d;case"!=":return c!=d;case"!==":return c!==d;case">":return c>d;case"<":return c<d;case">=":return c>=d;case"<=":return c<=d}}if(e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"'))return e.substring(1,e.length-1);if(/^-?\d+(\.\d+)?$/.test(e))return parseFloat(e);if(e==="true")return!0;if(e==="false")return!1;if(e==="null")return null;if(e!=="undefined")return this.getValueFromContext(r,e)}static extractVariables(e){let r=[],a=e.replace(/'[^']*'/g,"''").replace(/"[^"]*"/g,'""').match(/[a-zA-Z_][a-zA-Z0-9_]*(\.([a-zA-Z_][a-zA-Z0-9_]*))*(\[\d+\])*/g);return a&&a.forEach(t=>{let o=t.split(".")[0].split("[")[0].trim();["true","false","null","undefined"].includes(o)||r.includes(o)||r.push(o)}),r}},Rf=class{constructor(e,r){S.DEBUG_LEVEL=r.options.debug?4:0,S.debug("ConditionalManager: Init ConditionalManager"),this.dom=e,this.model=r,this.dependencies=new Map,this.conditionalGroups=[],this.subscribe(),S.debug("ConditionalManager: ConditionalManager initialized")}subscribe(){S.debug("ConditionalManager: Subscribe to store changes"),this.model.store.on("change",e=>{this.getGroupsByPath(e.path).forEach(l=>{this.updateConditionalGroup(l)})})}getGroupsByPath(e){if(!e)return[];let r=new Set;return this.conditionalGroups.forEach(l=>{l.some(t=>t.expression?t.expression.includes(e)||e.startsWith(this.extractBasePath(t.expression)):!1)&&r.add(l)}),Array.from(r)}extractBasePath(e){let r=e.match(/[a-zA-Z_][a-zA-Z0-9_]*/g);return r?r[0]:""}parseConditionals(e){S.debug("ConditionalManager: Parse conditionals (data-if, data-else-if, data-else)...");let r=e.querySelectorAll("[data-if],[data-else-if],[data-else]"),l=[],a=[];r.forEach(t=>{t.hasAttribute("data-if")?(S.debug("ConditionalManager: Found data-if in element:",t),l.length&&a.push(l),l=[{element:t,type:"if",expression:t.getAttribute("data-if")}]):t.hasAttribute("data-else-if")?(S.debug("ConditionalManager: Found data-else-if in element:",t),l.length&&this.isAdjacentNode(l[l.length-1].element,t)?l.push({element:t,type:"else-if",expression:t.getAttribute("data-else-if")}):(l.length&&a.push(l),l=[{element:t,type:"if",expression:t.getAttribute("data-else-if")}])):t.hasAttribute("data-else")&&(S.debug("ConditionalManager: Found data-else in element:",t),l.length&&this.isAdjacentNode(l[l.length-1].element,t)?(l.push({element:t,type:"else",expression:null}),a.push(l),l=[]):S.warn("data-else without previous data-if or data-else-if",t))}),l.length&&a.push(l),this.conditionalGroups=a,a.forEach(t=>this.updateConditionalGroup(t)),this.setupDependencies(r)}isAdjacentNode(e,r){let l=e.nextSibling;for(;l;){if(l===r)return!0;if(l.nodeType===1&&!this.isWhitespaceNode(l))return!1;l=l.nextSibling}return!1}isWhitespaceNode(e){return e.nodeType===3&&e.textContent.trim()===""}updateConditionalGroup(e){let r=this.model&&this.model.store?{...this.model.store.getState()}:this.model&&this.model.data?this.model.data:{},l=!1;for(let a of e)a.type==="if"||a.type==="else-if"?!l&&Fe.evaluateExpression(a.expression,r)?(a.element.style.display="",l=!0):a.element.style.display="none":a.type==="else"&&(a.element.style.display=l?"none":"")}updateConditional(e,r){let l=this.findGroupForElement(e);if(l)this.updateConditionalGroup(l);else{let a=this.model&&this.model.store?{...this.model.store.getState()}:this.model&&this.model.data?this.model.data:{},t=Fe.evaluateExpression(r,a);e.style.display=t?"":"none"}}findGroupForElement(e){for(let r of this.conditionalGroups||[])if(r.some(l=>l.element===e))return r;return null}setupDependencies(e){this.dependencies=new Map,e.forEach(r=>{let l;if(r.hasAttribute("data-if"))l=r.getAttribute("data-if");else if(r.hasAttribute("data-else-if"))l=r.getAttribute("data-else-if");else return;Fe.extractVariables(l).forEach(t=>{this.dependencies.has(t)||this.dependencies.set(t,[]),this.dependencies.get(t).push({element:r,expression:l,type:r.hasAttribute("data-if")?"if":"else-if"})})})}getDependenciesByPath(e){let r=[];return this.dependencies.forEach((l,a)=>{(a===e||e.startsWith(a+"."))&&r.push(...l)}),r}destroy(){this.dependencies.clear(),this.conditionalGroups=[],S.debug("ConditionalManager: Destroyed")}},Nf=class{constructor(e,r){this.domManager=e,this.model=r,S.DEBUG_LEVEL=this.model.options.debug?4:0,S.debug("AttributeManager: Init AttributeManager")}parseAttributesBind(e){S.debug("AttributeManager: Parsing attributes bind with data-bind...");let r=e.querySelectorAll("[data-bind]");S.debug("AttributeManager: Found elements with data-bind:",r.length),r.forEach(l=>{S.debug("AttributeManager: Parsing element with data-bind:",l);let a=l.getAttribute("data-bind");try{let t=JSON.parse(a.replace(/'/g,'"'));for(let[o,i]of Object.entries(t)){let p=Fe.extractVariables(i);S.debug(`AttributeManager: Found variables for ${o}:`,p),p.forEach(c=>{this.domManager.registerDomDependency(c,l,{type:"attribute",attribute:o,expression:i})}),this.updateAttributes(l,o,i)}}catch(t){console.error("An error of analysis of attachments:",t)}})}updateAttributes(e,r,l){let a={...this.model.store.getState()},t;if(l.startsWith("{{")&&l.endsWith("}}")){let i=l.substring(2,l.length-2).trim();t=this.model.store.get(i)}else t=Fe.evaluateExpression(l,a);let o=e.getAttribute(r);String(t)!==o&&(t===!1||t===null||t===void 0?e.removeAttribute(r):t===!0?e.setAttribute(r,""):e.setAttribute(r,String(t)),S.debug(`AttributeManager: Updated attribute ${r} with value:`,t))}parseAttributes(e){S.debug("AttributeManager: Parsing attributes with colon...");let r=e.querySelectorAll("*");for(let l of r){let a=l.attributes;for(let t=0;t<a.length;t++){let o=a[t];if(o.name.startsWith(":")){S.debug("AttributeManager: Found attribute:",o);let i=o.name.substring(1),p=o.value;this.updateElementAttribute(l,i,p),this.domManager.registerDomDependency(p,l,{type:"attribute",attribute:i,expression:p}),l.removeAttribute(o.name)}}}}updateElementAttribute(e,r,l){let a=""+this.model.store.get(l);a===void 0||a==="undefined"||(S.debug(`AttributeManager: Updating attribute ${r} with ${a}`),r==="class"?e.className=a:r==="disabled"||r==="checked"||r==="selected"||r==="readonly"?a?e.setAttribute(r,""):e.removeAttribute(r):e.setAttribute(r,a))}update(e,r,l){S.debug("AttributeManager: Updating element:",e),S.debug(`	 Attribute: ${r} for:`,l),this.updateAttributes(e,r,l),this.updateElementAttribute(e,r,l)}},Vf=class{constructor(e,r){S.DEBUG_LEVEL=r.options.debug?4:0,S.debug("EventManager: Init EventManager"),this.domManager=e,this.model=r,this.eventHandlers=new Map,S.debug("EventManager: EventManager initialized")}parseEvents(e){S.debug("EventManager: Parsing events with @...");let r=e.querySelectorAll("*");[e,...Array.from(r)].forEach(a=>{Array.from(a.attributes||[]).forEach(o=>{if(o.name.startsWith("@")){S.debug(`EventManager: Found attribute with "@" ${o.name} in`,a);let i=o.name.substring(1),p=o.value.trim();this.bindEventHandler(a,i,p),a.removeAttribute(o.name)}})})}bindEventHandler(e,r,l){S.debug(`EventManager: Binding event handler with expression ${l} for ${r} on`,e);let a=o=>{try{let i={$model:this.model,$event:o,$data:this.model.data,$dom:this.domManager},p=l.match(/(\w+)\((.*)\)/);if(p){let c=p[1],d=p[2],m=(u,g)=>u.split(".").reduce((h,b)=>h&&h[b]!==void 0?h[b]:void 0,g),f=m(c,this.model);if(f||(f=m(c,window)),typeof f=="function"){let u=[];d.trim()&&(u=d.split(",").map(g=>(g=g.trim(),g.startsWith('"')&&g.endsWith('"')||g.startsWith("'")&&g.endsWith("'")?g.slice(1,-1):isNaN(g)?g==="$event"?(S.debug("EventManager: Requested Event",o),o):g==="$model"?(S.debug("EventManager: Requested Model",this.model),this.model):g==="$data"?(S.debug("EventManager: Requested Model Context",this.model.data),this.model.data):g==="$dom"?(S.debug("EventManager: Requested DOMManager",this.domManager),this.domManager):this.model.store.get(g):Number(g)))),f.apply(i,u)}else console.warn(`EventManager: The method '${c}' not found in a model or global space!`)}else this.model.options.useSimpleExpressions?new Function(`return ${l}`).apply(this.model.data):console.warn(`EventManager: Unknown format of the event handler: '${l}'`)}catch(i){console.error(`EventManager: Error when performing an event processor '${r}': ${i.message}`)}};this.eventHandlers.has(e)||this.eventHandlers.set(e,new Map);let t=this.eventHandlers.get(e);t.has(r)&&e.removeEventListener(r,t.get(r)),t.set(r,a),e.addEventListener(r,a)}removeEventHandler(e,r){if(S.debug(`EventManager: Removing event handler for ${r} on`,e),this.eventHandlers.has(e)){let l=this.eventHandlers.get(e);if(l.has(r)){let a=l.get(r);e.removeEventListener(r,a),l.delete(r),l.size===0&&this.eventHandlers.delete(e)}}}updateEvents(e){S.debug("EventManager: Updating events for",e),Array.from(e.attributes||[]).forEach(r=>{if(r.name.startsWith("@")){let l=r.name.substring(1),a=r.value.trim();this.bindEventHandler(e,l,a),e.removeAttribute(r.name)}})}destroy(){S.debug("EventManager: Destroying EventManager"),this.eventHandlers.forEach((e,r)=>{e.forEach((l,a)=>{S.debug(`EventManager: Removing event handler for ${a} on`,r),r.removeEventListener(a,l)})}),this.eventHandlers.clear(),S.debug("EventManager: Destroyed")}},Hf=class{constructor(e){S.DEBUG_LEVEL=e.options.debug?4:0,S.debug("DOMManager: Init DOMManager"),this.model=e,this.elements=[],this.inputs=[],this.domDependencies=new Map,this.virtualDom=new Map,this.loopManager=new Pf(this,e),this.conditionalManager=new Rf(this,e),this.attributeManager=new Nf(this,e),this.eventManager=new Vf(this,e),S.debug("DOMManager: DOMManager initialized")}registerDomDependency(e,r,l){this.domDependencies.has(e)||this.domDependencies.set(e,new Set),this.domDependencies.get(e).add({element:r,...l})}processTemplateNode(e,r){if(S.debug("DOMManager: processTemplateNode",{node:e,context:r}),e.nodeType===Node.TEXT_NODE){let l=e.textContent,a=e.textContent.replace(/\{\{\s*([^}]+)\s*\}\}/g,(t,o)=>{o=o.trim();let p=r?((c,d)=>d.split(".").reduce((m,f)=>m?m[f]:void 0,c))(r,o):void 0;return p===void 0&&(p=this.model.store.get(o)),p!==void 0?p:""});l!==a&&(S.debug(`DOMManager: updated node text from ${l} to ${a}`),e.textContent=a)}else e.nodeType===Node.ELEMENT_NODE&&Array.from(e.childNodes).forEach(l=>{this.processTemplateNode(l,r)})}parse(e){S.debug("DOMManager: parse from",e);let r=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null),l,a=/\{\{\s*([^}]+)\s*\}\}/g;for(;l=r.nextNode();){let o,i=l.textContent,p=i;for(a.lastIndex=0;(o=a.exec(i))!==null;){S.debug(`DOMManager: parse match found for ${i}`,o);let c=o[1].trim();this.registerDomDependency(c,l,{type:"template",template:p}),this.elements.push({node:l,propName:c,template:p})}S.debug("DOMManager: update virtual DOM set",{node:l,text:l.textContent}),this.virtualDom.set(l,l.textContent)}S.debug("DOMManager: Find inputs with data-model directive...");let t=e.querySelectorAll("[data-model]");S.debug("DOMManager: Found inputs with data-model:",t.length),t.forEach(o=>{let i=o.getAttribute("data-model");S.debug("DOMManager: Register handler for:",{input:o,property:i});let p=c=>{let d=o.type==="checkbox"||o.type==="radio"?c.target.checked:c.target.value;this.model.store.set(i,d)};o.__modelInputHandler=p,o.addEventListener("input",p),this.inputs.push({element:o,property:i})})}setInputValue(e,r){e.type==="checkbox"||e.type==="radio"?e.checked=!!r:e.value=r}updateInputs(e,r){S.debug("DOMManager: updateInputs",{propName:e,value:r}),this.inputs.forEach(l=>{l.property===e&&(S.debug("DOMManager: update input",{item:l,value:r}),this.setInputValue(l.element,r))})}updateAllDOM(){S.debug("DOMManager: updateAllDOM"),this.elements.forEach(e=>{let r=e.template;r=r.replace(/\{\{\s*([^}]+)\s*\}\}/g,(l,a)=>(a=a.trim(),this.model.store.get(a))),e.node.textContent=r,S.debug("DOMManager: updated node",{element:e,newContent:r})}),S.debug("DOMManager: update inputs"),this.inputs.forEach(e=>{S.debug("DOMManager: update input",{item:e});let r=this.model.store.get(e.property);this.setInputValue(e.element,r),S.debug("DOMManager: updated input",{item:e,value:r})})}updateDOM(e,r){if(S.debug(`DOMManager: update DOM for ${e} with ${r}`),!e){console.warn("Path is undefined in updateDOM");return}let l=r&&typeof r=="object"&&"method"in r;l&&(e=r.path||e);let a=new Set;this.domDependencies.has(e)&&this.domDependencies.get(e).forEach(c=>a.add(c));let t=e.split("."),o="";for(let c=0;c<t.length;c++)o=o?`${o}.${t[c]}`:t[c],this.domDependencies.has(o)&&this.domDependencies.get(o).forEach(d=>a.add(d));if(this.conditionalManager.getDependenciesByPath(e).forEach(c=>{c.type==="if"&&this.conditionalManager.updateConditional(c.element,c.expression)}),this.domDependencies.forEach((c,d)=>{(d.startsWith(`${e}.`)||d.startsWith(`${e}[`))&&c.forEach(m=>a.add(m))}),(Array.isArray(r)||l||typeof r=="object")&&this.loopManager.updateLoops(e,r),a.size===0)return;let p={template:[],conditional:[],loop:[],attribute:[]};a.forEach(c=>{c&&c.type&&p[c.type].push(c)}),p.template.forEach(c=>this.updateTemplateNode(c.element,c.template)),p.conditional.forEach(c=>this.conditionalManager.updateConditional(c.element,c.expression)),p.attribute.forEach(c=>this.attributeManager.update(c.element,c.attribute,c.expression)),p.loop.forEach(c=>this.loopManager.updateLoopPart(c.element,c.arrayPath,r,c.index))}updateTemplateNode(e,r){let l=r.replace(/\{\{\s*([^}]+)\s*\}\}/g,(a,t)=>(t=t.trim(),this.model.store.get(t)));this.virtualDom.get(e)!==l&&(e.textContent=l,this.virtualDom.set(e,l))}isPathDependency(e,r){return r===e||r.startsWith(`${e}.`)||r.startsWith(`${e}[`)}getDependentPaths(e){let r=[];return this.domDependencies.forEach((l,a)=>{this.isPathDependency(e,a)&&r.push(a)}),r}bindDOM(e){S.debug("DOMManager: bind DOM from",e),this.loopManager.parseLoops(e),this.conditionalManager.parseConditionals(e),this.attributeManager.parseAttributesBind(e),this.attributeManager.parseAttributes(e),this.eventManager.parseEvents(e),this.parse(e),this.updateAllDOM(),S.debug("DOMManager: binding completed")}destroy(){this.inputs.forEach(({element:e})=>{e.__modelInputHandler&&(e.removeEventListener("input",e.__modelInputHandler),delete e.__modelInputHandler)}),this.elements=[],this.inputs=[],this.domDependencies.clear(),this.virtualDom.clear(),this.loopManager.destroy(),this.conditionalManager.destroy(),this.eventManager.destroy(),S.debug("DOMManager: destroyed")}},Uf=class{constructor(e,r={}){S.DEBUG_LEVEL=e.options.debug?4:0,S.debug("Model: Init ComputedProps:",r),this.model=e,this.computed=r,this.store=e.store,this.asyncCache=new Map,this.init().then(()=>{Object.getOwnPropertyNames(this.computed).forEach(l=>{if(typeof this.computed[l].getter=="function")try{let a=this.computed[l].getter.call(this.store.getState());S.debug(`Initializing computed property ${l}:`,a)}catch(a){console.error(`Error initializing computed property ${l}:`,a)}}),S.debug("Model: ComputedProps initialized")})}async init(){let e=[];for(let r in this.computed){let l=this.evaluate(r);e.push(l),Object.defineProperty(this.model.data,r,{get:()=>{let a=this.computed[r];return a.isAsync?this.asyncCache.get(r):a.value},enumerable:!0,configurable:!0})}await Promise.all(e);for(let r in this.computed){let l=this.computed[r].isAsync?this.asyncCache.get(r):this.computed[r].value;this.model.dom.updateDOM(r,l),this.model.dom.updateInputs(r,l)}return!0}async evaluate(e,r=!1){let l=this.computed[e],a=new Set,t=new Proxy(this.store.getState(),{get:(i,p)=>{a.add(p);let c=i[p];return c&&typeof c=="object"?new Proxy(c,{get:(d,m)=>(a.add(`${p}.${m}`),d[m])}):c}}),o=l.getter.constructor.name==="AsyncFunction";l.isAsync=o;try{let i=await l.getter.call(t);return l.dependencies=[...a],o?this.asyncCache.set(e,i):l.value=i,this.store.emit("compute",{key:e,value:i,dependencies:a,isAsync:o}),i}catch(i){throw console.error(`Error evaluating computed property "${e}":`,i),i}}async update(e){let r=[];for(let l in this.computed){let a=(async()=>{let t=await this.evaluate(l);this.model.dom.updateDOM(l,t),this.model.dom.updateInputs(l,t)})();r.push(a)}await Promise.all(r)}all(){return Object.fromEntries(Object.entries(this.computed).map(([e,r])=>[e,r.value]))}},Yf=class Le extends Wo{constructor(r,l={}){S.DEBUG_LEVEL=r.model.options.debug?4:0,S.debug("Model: Init StateManager:",l),super(),this.store=r,this.options=Object.assign({id:"model"},l),S.debug("Model: StateManager initialized")}static isStorageAvailable(){try{let r="__test__";return localStorage.setItem(r,r),localStorage.removeItem(r),!0}catch{return!1}}saveState(){if(!Le.isStorageAvailable())return console.warn("localStorage is not available"),null;let l={data:JSON.parse(JSON.stringify(this.store.getState())),timestamp:Date.now()};try{return localStorage.setItem(this.options.id,JSON.stringify(l)),this.emit("saveState",l),l}catch(a){return console.error("Error saving state:",a),this.emit("saveStateError",a),null}}restoreState(){if(!Le.isStorageAvailable())return console.warn("localStorage is not available"),null;try{let r=localStorage.getItem(this.options.id);if(r){let l=JSON.parse(r);return Object.assign(this.store.state,l.data),this.emit("restoreState",l),l}}catch(r){this.emit("restoreStateError",r)}}createSnapshot(){if(!Le.isStorageAvailable())return console.warn("localStorage is not available"),null;let l={data:JSON.parse(JSON.stringify(this.store.getState())),timestamp:Date.now()};return this.emit("createSnapshot",l),l}restoreSnapshot(r){return Le.isStorageAvailable()?r?(Object.assign(this.store.state,r.data),this.emit("restoreSnapshot",r),r):null:(console.warn("localStorage is not available"),null)}enableAutoSave(r=5e3){this.autoSaveInterval=setInterval(()=>{this.saveState()},r)}disableAutoSave(){clearInterval(this.autoSaveInterval)}},Gf={id:"model",useSimpleExpressions:!0,debug:!1},qf=class we extends Wo{static plugins=new Map;constructor(r={},l={}){super(),this.options=Object.assign({},Gf,l),S.DEBUG_LEVEL=this.options.debug?4:0,S.debug("Model: Creating a model with data:",r),S.debug("Model: Configuration options:",l),this.computed={};for(let a in r)typeof r[a]=="function"&&(S.debug(`Model: Registration calculated property "${a}"`),this.computed[a]={getter:r[a],value:null,dependencies:[]},delete r[a]);this.store=new Ff(r,this),this.data=this.store.state,this.dom=new Hf(this),this.computedProps=new Uf(this,this.computed),this.stateManager=new Yf(this.store),this.subscribe(),S.debug("Model: The model was created successfully!")}subscribe(){S.debug("Model: Subscribing to store changes"),this.store.on("change",r=>{this.dom.updateDOM(r.path,r.newValue),this.dom.updateInputs(r.path,r.newValue),this.computedProps.update(r.path).then(()=>{}),this.emit("change",r)}),this.store.on("compute",r=>this.emit("compute",r)),this.store.on("arrayChange",r=>this.emit("arrayChange",r)),this.store.on("batchComplete",r=>this.emit("batchComplete",r)),S.debug("Model: Subscribing to state manager events"),this.stateManager.on("saveState",r=>this.emit("saveState",r)),this.stateManager.on("saveStateError",r=>this.emit("saveStateError",r)),this.stateManager.on("restoreState",r=>this.emit("restoreState",r)),this.stateManager.on("restoreStateError",r=>this.emit("restoreStateError",r)),this.stateManager.on("createSnapshot",r=>this.emit("createSnapshot",r)),this.stateManager.on("restoreSnapshot",r=>this.emit("restoreSnapshot",r))}addValidator(r,l){this.store.addValidator(r,l)}addFormatter(r,l){this.store.addFormatter(r,l)}use(r){this.store.use(r)}watch(r,l){this.store.watch(r,l)}batch(r){return this.store.batch(r)}diffArrays(r,l){return this.store.detectArrayChanges(r,l)}diff(){}validate(){let r=[],l=[];for(let a in this.computed){let t=new Set,o=this._checkCyclicDependencies(a,t);o&&r.push({type:"CYCLIC_DEPENDENCY",property:a,message:`Cyclic dependence is found: ${o.join(" -> ")}`})}return this.dom.domDependencies.forEach((a,t)=>{this.store.isValidPath(t)||l.push({type:"INVALID_PATH",path:t,message:`Property ${t} used in the template, but does not exist in the model`})}),{errors:r,warnings:l}}_checkCyclicDependencies(r,l,a=[]){if(l.has(r))return[...a,r];l.add(r),a.push(r);let t=this.computed[r];if(!t||!t.dependencies)return null;for(let o of t.dependencies)if(o in this.computed){let i=this._checkCyclicDependencies(o,new Set(l),[...a]);if(i)return i}return null}validatePath(r){return this.store.isValidPath(r)}init(r){S.debug("Model: Initializing DOM bindings");let l=typeof r=="string"?document.querySelector(r):r;return l||(l=document.body),S.debug(`Model: Model initialized in ${r??"body"}`),S.debug("Model: Binding DOM"),this.dom.bindDOM(l),this.emit("init"),S.debug("Model: Initialization complete!"),this}runDevTools(r={}){return new Of(this,r)}save(){return this.stateManager.saveState()}restore(){return this.stateManager.restoreState()}snapshot(r){return r?this.stateManager.restoreSnapshot(s):this.stateManager.createSnapshot()}autoSave(r){r?this.stateManager.enableAutoSave(r):this.stateManager.disableAutoSave()}static registerPlugin(r,l){if(we.plugins.has(r))throw new Error(`Plugin ${r} already registered`);we.plugins.set(r,l),this.emit("pluginRegistered",r)}usePlugin(r,l={}){let a=we.plugins.get(r);return a||console.error(`Plugin ${r} not found`),new a(this,l),this}static removePlugin(r){we.plugins.has(r)&&(we.plugins.delete(r),this.emit("pluginUnregistered",r))}destroy(){this.dom.destroy(),this.store.destroy(),this.emit("destroy")}},Hn=qf,Wf="0.17.0",Xf="06.03.2025, 13:09:45";Hn.info=()=>{console.info(`%c Model %c v${Wf} %c ${Xf} `,"color: white; font-weight: bold; background: #0080fe","color: white; background: darkgreen","color: white; background: #0080fe;")};var Un=Hn;globalThis.Model=Un;(function(e){"use strict";globalThis.__version__="5.1.0",globalThis.__build_time__="18.03.2025, 23:15:59";let r=e.meta("metro:init").attr("content"),l=e.meta("metro:locale").attr("content"),a=e.meta("metro:week_start").attr("content"),t=e.meta("metro:date_format").attr("content"),o=e.meta("metro:date_format_input").attr("content"),i=e.meta("metro:animation_duration").attr("content"),p=e.meta("metro:callback_timeout").attr("content"),c=e.meta("metro:timeout").attr("content"),d=e.meta("metro:scroll_multiple").attr("content"),m=e.meta("metro:cloak").attr("content"),f=e.meta("metro:cloak_duration").attr("content"),u=e.meta("metro:global_common").attr("content"),g=e.meta("metro:blur_image").attr("content"),h=e.meta("metro:smooth_scroll").attr("content"),b=e.meta("metro:theme").attr("content");b!==void 0&&e("html").addClass(b==="auto"?e.dark?"dark-side":"":b==="dark"?"dark-side":"light-side"),globalThis.METRO_BLUR_IMAGE===void 0&&(globalThis.METRO_BLUR_IMAGE=g!==void 0?JSON.parse(u):!1),globalThis.METRO_GLOBAL_COMMON===void 0&&(globalThis.METRO_GLOBAL_COMMON=u!==void 0?JSON.parse(u):!1);let v=e.meta("metro:jquery").attr("content");globalThis.jquery_present=typeof globalThis.jQuery<"u",globalThis.METRO_JQUERY===void 0&&(globalThis.METRO_JQUERY=v!==void 0?JSON.parse(v):!0),globalThis.useJQuery=globalThis.jquery_present&&globalThis.METRO_JQUERY;let k=e.meta("metro:info").attr("content");globalThis.METRO_SHOW_INFO===void 0&&(globalThis.METRO_SHOW_INFO=k!==void 0?JSON.parse(k):!0);let w=e.meta("metro:compile").attr("content");globalThis.METRO_SHOW_COMPILE_TIME===void 0&&(globalThis.METRO_SHOW_COMPILE_TIME=w!==void 0?JSON.parse(w):!0),globalThis.METRO_INIT===void 0&&(globalThis.METRO_INIT=r!==void 0?JSON.parse(r):!0),globalThis.METRO_DEBUG===void 0&&(globalThis.METRO_DEBUG=!0),globalThis.METRO_WEEK_START===void 0&&(globalThis.METRO_WEEK_START=a!==void 0?parseInt(a):0),globalThis.METRO_DATE_FORMAT===void 0&&(globalThis.METRO_DATE_FORMAT=t!==void 0?t:"YYYY-MM-DD"),globalThis.METRO_DATE_FORMAT_INPUT===void 0&&(globalThis.METRO_DATE_FORMAT_INPUT=o!==void 0?o:"YYYY-MM-DD"),globalThis.METRO_LOCALE===void 0&&(globalThis.METRO_LOCALE=l!==void 0?l:"en-US"),globalThis.METRO_ANIMATION_DURATION===void 0&&(globalThis.METRO_ANIMATION_DURATION=i!==void 0?parseInt(i):100),globalThis.METRO_CALLBACK_TIMEOUT===void 0&&(globalThis.METRO_CALLBACK_TIMEOUT=p!==void 0?parseInt(p):500),globalThis.METRO_TIMEOUT===void 0&&(globalThis.METRO_TIMEOUT=c!==void 0?parseInt(c):2e3),globalThis.METRO_SCROLL_MULTIPLE===void 0&&(globalThis.METRO_SCROLL_MULTIPLE=d!==void 0?parseInt(d):20),globalThis.METRO_CLOAK_REMOVE===void 0&&(globalThis.METRO_CLOAK_REMOVE=m!==void 0?(""+m).toLowerCase():"fade"),globalThis.METRO_CLOAK_DURATION===void 0&&(globalThis.METRO_CLOAK_DURATION=f!==void 0?parseInt(f):300),globalThis.METRO_SMOOTH_SCROLL===void 0&&(globalThis.METRO_SMOOTH_SCROLL=h!==void 0?JSON.parse(h):!0),globalThis.METRO_HOTKEYS_FILTER_CONTENT_EDITABLE===void 0&&(globalThis.METRO_HOTKEYS_FILTER_CONTENT_EDITABLE=!0),globalThis.METRO_HOTKEYS_FILTER_INPUT_ACCEPTING_ELEMENTS===void 0&&(globalThis.METRO_HOTKEYS_FILTER_INPUT_ACCEPTING_ELEMENTS=!0),globalThis.METRO_HOTKEYS_FILTER_TEXT_INPUTS===void 0&&(globalThis.METRO_HOTKEYS_FILTER_TEXT_INPUTS=!0),globalThis.METRO_HOTKEYS_BUBBLE_UP===void 0&&(globalThis.METRO_HOTKEYS_BUBBLE_UP=!1),globalThis.METRO_THROWS===void 0&&(globalThis.METRO_THROWS=!0),globalThis.METRO_MEDIA=[]})(Dom);var $e="ontouchstart"in window,Yn={controlsPosition:{INSIDE:"inside",OUTSIDE:"outside"},groupMode:{ONE:"one",MULTI:"multi"},aspectRatio:{HD:"hd",SD:"sd",CINEMA:"cinema"},fullScreenMode:{WINDOW:"window",DESKTOP:"desktop"},position:{TOP:"top",BOTTOM:"bottom",LEFT:"left",RIGHT:"right",TOP_RIGHT:"top-right",TOP_LEFT:"top-left",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",LEFT_BOTTOM:"left-bottom",LEFT_TOP:"left-top",RIGHT_TOP:"right-top",RIGHT_BOTTOM:"right-bottom"},popoverEvents:{CLICK:"click",HOVER:"hover",FOCUS:"focus"},stepperView:{SQUARE:"square",CYCLE:"cycle",DIAMOND:"diamond"},listView:{LIST:"list",CONTENT:"content",ICONS:"icons",ICONS_MEDIUM:"icons-medium",ICONS_LARGE:"icons-large",TILES:"tiles",TABLE:"table"},events:{click:"click",start:$e?"touchstart":"mousedown",stop:$e?"touchend":"mouseup",move:$e?"touchmove":"mousemove",enter:$e?"touchstart":"mouseenter",startAll:"mousedown touchstart",stopAll:"mouseup touchend",moveAll:"mousemove touchmove",leave:"mouseleave",focus:"focus",blur:"blur",resize:"resize",keyup:"keyup",keydown:"keydown",keypress:"keypress",dblclick:"dblclick",input:"input",change:"change",cut:"cut",paste:"paste",scroll:"scroll",mousewheel:"mousewheel",inputchange:"change input propertychange cut paste copy drop",dragstart:"dragstart",dragend:"dragend",dragenter:"dragenter",dragover:"dragover",dragleave:"dragleave",drop:"drop",drag:"drag"},keyCode:{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,BREAK:19,CAPS:20,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,COMMA:188},media_queries:{FS:"(min-width: 0px)",XS:"(min-width: 360px)",SM:"(min-width: 576px)",LD:"(min-width: 640px)",MD:"(min-width: 768px)",LG:"(min-width: 992px)",XL:"(min-width: 1200px)",XXL:"(min-width: 1452px)",XXXL:"(min-width: 2000px)"},media_sizes:{FS:0,XS:360,SM:576,LD:640,MD:768,LG:992,XL:1200,XXL:1452,XXXL:2e3},media_mode:{FS:"fs",XS:"xs",SM:"sm",LD:"ld",MD:"md",LG:"lg",XL:"xl",XXL:"xxl",XXXL:"xxxl"},media_modes:["fs","xs","sm","ld","md","lg","xl","xxl","xxxl"],actions:{NONE:0,REMOVE:1,HIDE:2,MINIMIZE:3,MAXIMIZE:4,CLOSE:5,RESTORE:6,SHOW:7},theme:{LIGHT:"light",DARK:"dark"}};(()=>{"use strict";let e=Dom;if(typeof Dom>"u")throw new Error("Metro UI requires Dom helper!");if(!("MutationObserver"in window))throw new Error("Metro UI requires MutationObserver!");let r="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,l=t=>typeof t!="string"?void 0:t.replace(/-/g,"").toLowerCase(),a={version:"5.1.0",build_time:"18.03.2025, 23:15:59",buildNumber:0,isTouchable:r,fullScreenEnabled:document.fullscreenEnabled,sheet:null,hotkeys:{},locales:{},utils:{},colors:{},dialog:null,pagination:null,md5:null,storage:null,export:null,animations:null,cookie:null,template:null,defaults:{},info:()=>{typeof globalThis.METRO_LIB_INFO<"u"&&a.welcome()},welcome:()=>{console.info(`%c METRO UI %c v${a.version} %c ${a.build_time} `,"color: pink; font-weight: bold; background: #800000","color: white; background: darkgreen","color: white; background: #0080fe;"),globalThis.$&&e.info&&e.info(),globalThis.Hooks&&Hooks.info&&Hooks.info(),globalThis.HTML&&HTML.info&&HTML.info(),globalThis.Farbe&&Farbe.info&&Farbe.info(),globalThis.Datetime&&Datetime.info&&Datetime.info(),globalThis.Str&&Str.info&&Str.info(),globalThis.G&&G.info&&G.info(),globalThis.Router&&Router.info&&Router.info(),globalThis.Model&&Model.info&&Model.info()},aboutDlg:()=>{alert("Metro UI - v"+a.version)},observe:()=>{let t,o,i={childList:!0,attributes:!0,subtree:!0};o=p=>{p.map(c=>{if(c.type==="attributes"&&c.attributeName!=="data-role")if(c.attributeName==="data-hotkey")a.initHotkeys([c.target],!0);else{let d=e(c.target),m=d.data("metroComponent"),f=c.attributeName,u=d.attr(f),g=c.oldValue;m!==void 0&&(d.fire("attr-change",{attr:f,newValue:u,oldValue:g,__this:d[0]}),e.each(m,function(){let h=a.getPlugin(d,this);h&&typeof h.changeAttribute=="function"&&h.changeAttribute(f,u,g)}))}else if(c.type==="childList"&&c.addedNodes.length>0){let d=[],m=[],f,u,g=c.addedNodes;if(g.length){for(let h of e(g).find("[data-hotkey]"))m.push(e(h));for(let h=0;h<g.length;h++)u=g[h],f=e(u),f.attr("data-role")!==void 0&&d.push(u),e.each(f.find("[data-role]"),function(){d.indexOf(this)===-1&&d.push(this)});d.length&&a.initWidgets(d,"observe"),m.length&&a.initHotkeys(m)}}})},t=new MutationObserver(o),t.observe(e("html")[0],i)},init:()=>{let t=e("[data-role]"),o=e("[data-hotkey]"),i=e("html");if(a.i18n.load(i.attr("lang")),globalThis.METRO_SHOW_INFO&&a.info(!0),r===!0&&i.addClass("touchable-device"),a.sheet=a.utils.newCssSheet(),a.utils.addCssRule(a.sheet,"*, *::before, *::after","box-sizing: border-box;"),globalThis.METRO_MEDIA=[],e.each(a.media_queries,(p,c)=>{a.utils.media(c)&&globalThis.METRO_MEDIA.push(a.media_mode[p])}),a.observe(),a.initHotkeys(o),a.initWidgets(t,"init"),globalThis.METRO_CLOAK_REMOVE!=="fade"?(e(".m4-cloak").removeClass("m4-cloak"),e(".cloak").removeClass("cloak"),e(globalThis).fire("metro-initiated")):e(".m4-cloak, .cloak").animate({draw:{opacity:[0,1]},dur:300,onDone:()=>{e(".m4-cloak").removeClass("m4-cloak"),e(".cloak").removeClass("cloak"),e(globalThis).fire("metro-initiated")}}),e(document).on("click","[data-copy-to-clipboard]",function(){let p=e(this).attr("data-copy-to-clipboard");a.utils.copy2clipboard(p),a.toast&&a.toast.create("Data copied to clipboard!")}),METRO_SMOOTH_SCROLL){let p=document.querySelectorAll('a.smooth-scroll[href^="#"]');for(let c of p)c.addEventListener("click",d=>{d.preventDefault();let m=c.getAttribute("href");document.querySelector(m).scrollIntoView({behavior:"smooth",block:"start"})})}},initHotkeys:(t,o)=>{e.each(t,function(){let i=e(this),p=i.attr("data-hotkey")?i.attr("data-hotkey").toLowerCase():!1,c=i.attr("data-hotkey-func")?i.attr("data-hotkey-func"):!1;p!==!1&&(i.data("hotKeyBonded")===!0&&o!==!0||(a.hotkeys[p]=[this,c],i.data("hotKeyBonded",!0),i.fire("hot-key-bonded",{__this:i[0],hotkey:p,fn:c})))})},initWidgets:t=>{e.each(t,function(){let o=e(this),i;this.hasAttribute("data-role")&&(i=o.attr("data-role").split(/\s*,\s*/),i.map(p=>{let c=a.utils.$(),d=l(p);if(c.fn[d]!==void 0&&o.attr("data-role-"+d)===void 0)try{c.fn[d].call(o),o.attr("data-role-"+d,!0);let m=o.data("metroComponent");m===void 0?m=[d]:m.push(d),o.data("metroComponent",m),o.fire("create",{__this:o[0],name:d}),e(document).fire("component-create",{element:o[0],name:d})}catch(m){throw console.error("Error creating component "+p+" for ",o[0]),m}}))}),a.i18n.updateUI()},plugin:(t,o)=>{let i=l(t),p=c=>{c.fn[i]=function(d){return this.each(function(){c.data(this,i,Object.create(o).init(d,this))})}};p(Dom),globalThis.useJQuery&&p(globalThis.jQuery)},pluginExists:t=>typeof(globalThis.useJQuery?globalThis.jQuery:Dom).fn[l(t)]=="function",destroyPlugin:(t,o)=>{let i,p,c=e(t),d=l(o);if(i=a.getPlugin(c,d),typeof i>"u"){console.warn("Component "+o+" can not be destroyed: the element is not a Metro UI component.");return}if(typeof i.destroy!="function"){console.warn("Component "+o+" can not be destroyed: method destroy not found.");return}i.destroy(),p=c.data("metroComponent"),a.utils.arrayDelete(p,d),c.data("metroComponent",p),e.removeData(c[0],d),c.removeAttr("data-role-"+d)},destroyPluginAll:t=>{let o=e(t),i=o.data("metroComponent");i!==void 0&&i.length>0&&e.each(i,function(){a.destroyPlugin(o[0],this)})},noop:()=>{},noop_true:()=>!0,noop_false:()=>!1,noop_arg:t=>t,requestFullScreen:t=>{t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.msRequestFullscreen?t.msRequestFullscreen():t.requestFullscreen().catch(o=>{console.warn("Error attempting to enable full-screen mode: "+o.message+" "+o.name)})},exitFullScreen:()=>{document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():document.exitFullscreen().catch(t=>{console.warn("Error attempting to disable full-screen mode: "+t.message+" "+t.name)})},inFullScreen:()=>(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)!==void 0,$:()=>globalThis.useJQuery?globalThis.jQuery:Dom,get$el:t=>a.$()(e(t)[0]),get$elements:t=>a.$()(e(t)),getPlugin:(t,o)=>{let i=l(o),p=a.get$el(t);return p.length?p.data(i):void 0},makePlugin:(t,o,i)=>{let p=l(o),c=a.get$elements(t);return c.length&&typeof c[p]=="function"?c[p](i):void 0},Component:(t,o)=>{let i=l(t),p=a.utils,c=e.extend({name:i},{_super:function(d,m,f,u){this.elem=d,this.element=e(d),this.options=e.extend({},f,m),this.component=this.elem,this.locale="en",this.strings={},this._setOptionsFromDOM(),this._runtime(),this._setLocale(),u&&typeof u=="object"&&e.each(u,(g,h)=>{this[g]=h}),this._createExec()},_setOptionsFromDOM:function(){let d=this.element,m=this.options;e.each(d.data(),(f,u)=>{if(f in m)try{m[f]=JSON.parse(u)}catch{m[f]=u}})},_runtime:function(){let d=this.element,m,f=(d.attr("data-role")||"").toArray(",").map(u=>l(u)).filter(u=>u.trim()!=="");d.attr("data-role-"+this.name)||(d.attr("data-role-"+this.name,!0),f.indexOf(this.name)===-1&&(f.push(this.name),d.attr("data-role",f.join(","))),m=d.data("metroComponent"),m===void 0?m=[this.name]:m.push(this.name),d.data("metroComponent",m))},_createExec:function(){let d=this.options[this.name+"Deferred"];d?setTimeout(()=>{this._create()},d):this._create()},_fireEvent:function(d,m,f,u,g=null){let h=this.element,b=this.options,v,k=str(d).camelCase().capitalize(!1).value;return m=e.extend({},m,{__this:h[0]}),v=m?Object.values(m):{},f&&(console.warn(f),console.warn("Event: on"+k),console.warn("Data: ",m),console.warn("Element: ",h[0])),u!==!0&&h.fire(k.toLowerCase(),m),p.exec(b["on"+k],v,g||h[0])},_fireEvents:function(d,m,f,u,g){let h=this,b;if(arguments.length!==0){if(arguments.length===1)return e.each(d,function(){h._fireEvent(this.name,this.data,this.log,this.noFire,g)}),p.objectLength(d);!Array.isArray(d)&&typeof d!="string"||(b=Array.isArray(d)?d:d.toArray(","),e.each(b,function(){h._fireEvent(this,m,f,u,g)}))}},_setLocale:function(){let d=this.element.closest("[lang]");d.length>0?this.locale=d.attr("lang"):this.locale=e("html").attr("lang")||"en",this.strings=e.extend({},a.locales.en,a.locales[this.locale])},getComponent:function(){return this.component},getComponentName:function(){return this.name}},o);return a.plugin(i,c),c},fetch:{status:t=>t.ok?Promise.resolve(t):Promise.reject(new Error(t.statusText)),json:t=>t.json(),text:t=>t.text(),form:t=>t.formData(),blob:t=>t.blob(),buffer:t=>t.arrayBuffer()},i18n:{language:"en",load(t="en"){a.i18n.language=a.locales[t]?t:"en",a.locale=a.locales[a.i18n.language]},add(t,o){a.locales[t]=o},get(t,o){return a.locales[o][t]||""},updateUI(t=document,o){o||(o=e.html().attr("lang")||"en"),a.locales[o]&&(a.i18n.load(o),e.html().attr("lang",o),t.querySelectorAll("[data-i18n]").forEach(i=>{let p=i.getAttribute("data-i18n");i.innerHTML=a.i18n.get(p,o)}))},extend(t){e.each(t,(o,i)=>{a.locales[o]=Object.assign({},a.locales[o],i)})}}};return Object.assign(a,Yn),e(globalThis).on(a.events.resize,()=>{globalThis.METRO_MEDIA=[],e.each(a.media_queries,(t,o)=>{a.utils.media(o)&&globalThis.METRO_MEDIA.push(a.media_mode[t])})}),globalThis.Metro=a,globalThis.METRO_INIT===!0&&e(()=>{a.init()}),a})();(function(){Metro.i18n.add("en",{weekStart:0,january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December",january_short:"Jan",february_short:"Feb",march_short:"Mar",april_short:"Apr",may_short:"May",june_short:"Jun",july_short:"Jul",august_short:"Aug",september_short:"Sep",october_short:"Oct",november_short:"Nov",december_short:"Dec",sunday:"Sunday",monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday_short:"Sun",monday_short:"Mon",tuesday_short:"Tue",wednesday_short:"Wed",thursday_short:"Thu",friday_short:"Fri",saturday_short:"Sat",sunday_short_2:"Su",monday_short_2:"Mo",tuesday_short_2:"Tu",wednesday_short_2:"We",thursday_short_2:"Th",friday_short_2:"Fr",saturday_short_2:"Sa",label_ok:"OK",label_cancel:"Cancel",label_done:"Done",label_today:"Today",label_now:"Now",label_clear:"Clear",label_help:"Help",label_yes:"Yes",label_no:"No",label_random:"Random",label_save:"Save",label_reset:"Reset",label_submit:"Submit",label_add_user_color:"Add to swatches",label_send:"Send",label_accept:"Accept",label_cookies_title:"This site uses cookies",label_cookies_text:"This website uses cookies to ensure you get the best experience on our website.",label_choose_file:"Choose file(s)",label_drop_file:"Click or drop file(s) here",label_files_selected:"{n} file(s) selected",label_days:"days",label_hours:"hours",label_minutes:"min",label_seconds:"sec",label_month:"mon",label_months:"mon's",label_day:"day",label_year:"year",label_years:"years",label_rows_count:"Show:",label_search:"Search:",label_table_info:"Showing $1 to $2 of $3 entries",label_prev:"Prev",label_next:"Next",label_all:"All",label_inspector:"Inspector",label_goto_page:"Goto",label_enter_page:"Enter page...",label_empty:"Nothing to show",label_user_colors:"User Colors",label_tiles:"Tiles",label_list:"List",label_load_more:"Load more",label_buy:"Buy",label_buy_now:"Buy now",label_buy_today:"Buy today",label_download:"Download",label_search_results:"Search results",label_add:"Add",label_edit:"Edit",label_delete:"Delete",label_new:"New",label_sell:"Sell",label_details:"Details",label_sorting:"Sorting",label_on:"on",label_off:"off",label_rename_tab:"Rename tab",label_close_tab:"Close tab",label_close_other_tabs:"Close other tabs",label_close_tabs_left:"Close tabs left",label_close_tabs_right:"Close tabs right",label_close_all_tabs:"Close all tabs",label_close_inactive_tabs:"Close inactive tabs",label_clear_input:"Clear input",label_reveal_password:"Reveal password",label_hide_password:"Hide password",label_generate_random:"Generate random value",label_search_input:"Search for the entered value",label_note:"Note",label_tip:"Tip",label_info:"Info",label_warning:"Warning",label_question:"Question",label_error:"Error",label_success:"Success",label_caution:"Caution",label_alert:"Alert",label_bug:"Bug",label_fuck:"Fuck",label_important:"Important",label_shit:"Shit",label_air:"Air",label_select_all:"Select all",label_select_more:"Select...",label_select:"Select",label_filter:"Filter",label_collapse:"Collapse"})})();(function(){Metro.i18n.add("ua",{weekStart:1,january:"\u0421\u0456\u0447\u0435\u043D\u044C",february:"\u041B\u044E\u0442\u0438\u0439",march:"\u0411\u0435\u0440\u0435\u0437\u0435\u043D\u044C",april:"\u041A\u0432\u0456\u0442\u0435\u043D\u044C",may:"\u0422\u0440\u0430\u0432\u0435\u043D\u044C",june:"\u0427\u0435\u0440\u0432\u0435\u043D\u044C",july:"\u041B\u0438\u043F\u0435\u043D\u044C",august:"\u0421\u0435\u0440\u043F\u0435\u043D\u044C",september:"\u0412\u0435\u0440\u0435\u0441\u0435\u043D\u044C",october:"\u0416\u043E\u0432\u0442\u0435\u043D\u044C",november:"\u041B\u0438\u0441\u0442\u043E\u043F\u0430\u0434",december:"\u0413\u0440\u0443\u0434\u0435\u043D\u044C",january_short:"\u0421\u0456\u0447",february_short:"\u041B\u044E\u0442",march_short:"\u0411\u0435\u0440",april_short:"\u041A\u0432\u0456",may_short:"\u0422\u0440\u0430",june_short:"\u0427\u0435\u0440",july_short:"\u041B\u0438\u043F",august_short:"\u0421\u0435\u0440",september_short:"\u0412\u0435\u0440",october_short:"\u0416\u043E\u0432",november_short:"\u041B\u0438\u0441",december_short:"\u0413\u0440\u0443",sunday:"\u041D\u0435\u0434\u0456\u043B\u044F",monday:"\u041F\u043E\u043D\u0435\u0434\u0456\u043B\u043E\u043A",tuesday:"\u0412\u0456\u0432\u0442\u043E\u0440\u043E\u043A",wednesday:"\u0421\u0435\u0440\u0435\u0434\u0430",thursday:"\u0427\u0435\u0442\u0432\u0435\u0440",friday:"\u041F'\u044F\u0442\u043D\u0438\u0446\u044F",saturday:"\u0421\u0443\u0431\u043E\u0442\u0430",sunday_short:"\u041D\u0435\u0434",monday_short:"\u041F\u043E\u043D",tuesday_short:"\u0412\u0456\u0432",wednesday_short:"\u0421\u0435\u0440",thursday_short:"\u0427\u0435\u0442",friday_short:"\u041F\u0442\u043D",saturday_short:"\u0421\u0443\u0431",sunday_short_2:"\u041D\u0434",monday_short_2:"\u041F\u043D",tuesday_short_2:"\u0412\u0442",wednesday_short_2:"\u0421\u0440",thursday_short_2:"\u0427\u0442",friday_short_2:"\u041F\u0442",saturday_short_2:"\u0421\u0431",label_ok:"OK",label_cancel:"\u0412\u0456\u0434\u043C\u0456\u043D\u0430",label_done:"\u0412\u0438\u043A\u043E\u043D\u0430\u043D\u043E",label_today:"\u0421\u044C\u043E\u0433\u043E\u0434\u043D\u0456",label_now:"\u0417\u0430\u0440\u0430\u0437",label_clear:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u0438",label_help:"\u0414\u043E\u043F\u043E\u043C\u043E\u0433\u0430",label_yes:"\u0422\u0430\u043A",label_no:"\u041D\u0456",label_random:"\u0412\u0438\u043F\u0430\u0434\u043A\u043E\u0432\u043E",label_save:"\u0417\u0431\u0435\u0440\u0456\u0433\u0442\u0438",label_reset:"\u0421\u043A\u0438\u043D\u0443\u0442\u0438",label_submit:"\u0412\u0456\u0434\u043F\u0440\u0430\u0432\u0438\u0442\u0438",label_add_user_color:"\u0414\u043E\u0434\u0430\u0442\u0438 \u0434\u043E \u0437\u0440\u0430\u0437\u043A\u0456\u0432",label_send:"\u0412\u0456\u0434\u043F\u0440\u0430\u0432\u0438\u0442\u0438",label_accept:"\u041F\u0440\u0438\u0439\u043D\u044F\u0442\u0438",label_cookies_title:"\u0426\u0435\u0439 \u0441\u0430\u0439\u0442 \u0432\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0454 \u0444\u0430\u0439\u043B\u0438 cookie",label_cookies_text:"\u0426\u0435\u0439 \u0432\u0435\u0431-\u0441\u0430\u0439\u0442 \u0432\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0454 \u0444\u0430\u0439\u043B\u0438 cookie, \u0449\u043E\u0431 \u0437\u0430\u0431\u0435\u0437\u043F\u0435\u0447\u0438\u0442\u0438 \u0432\u0430\u043C \u043D\u0430\u0439\u043A\u0440\u0430\u0449\u0438\u0439 \u0434\u043E\u0441\u0432\u0456\u0434 \u0432\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u0430\u043D\u043D\u044F \u043D\u0430\u0448\u043E\u0433\u043E \u0432\u0435\u0431-\u0441\u0430\u0439\u0442\u0443.",label_choose_file:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044C \u0444\u0430\u0439\u043B(\u0438)",label_drop_file:"\u041D\u0430\u0442\u0438\u0441\u043D\u0456\u0442\u044C \u0430\u0431\u043E \u043F\u0435\u0440\u0435\u0442\u044F\u0433\u043D\u0456\u0442\u044C \u0444\u0430\u0439\u043B(\u0438) \u0441\u044E\u0434\u0438",label_files_selected:"\u0412\u0438\u0431\u0440\u0430\u043D\u043E {n} \u0444\u0430\u0439\u043B(\u0456\u0432)",label_days:"\u0434\u043D\u0456",label_hours:"\u0433\u043E\u0434",label_minutes:"\u0445\u0432\u0438\u043B",label_seconds:"\u0441\u0435\u043A",label_month:"\u043C\u0456\u0441",label_months:"\u043C\u0456\u0441\u044F\u0446\u0456",label_day:"\u0434\u0435\u043D\u044C",label_year:"\u0440\u0456\u043A",label_years:"\u0440\u043E\u043A\u0456\u0432",label_rows_count:"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u0438:",label_search:"\u041F\u043E\u0448\u0443\u043A:",label_table_info:"\u0412\u0456\u0434\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u043E \u0437 $1 \u043F\u043E $2 \u0456\u0437 $3 \u0437\u0430\u043F\u0438\u0441\u0456\u0432",label_prev:"\u041F\u043E\u043F\u0435\u0440",label_next:"\u041D\u0430\u0441\u0442",label_all:"\u0423\u0441\u0456",label_inspector:"\u0406\u043D\u0441\u043F\u0435\u043A\u0442\u043E\u0440",label_goto_page:"\u041F\u0435\u0440\u0435\u0439\u0442\u0438",label_enter_page:"\u0412\u0432\u0435\u0434\u0456\u0442\u044C \u0441\u0442\u043E\u0440\u0456\u043D\u043A\u0443...",label_empty:"\u041D\u0456\u0447\u043E\u0433\u043E \u043F\u043E\u043A\u0430\u0437\u0430\u0442\u0438",label_user_colors:"\u041A\u043E\u043B\u044C\u043E\u0440\u0438 \u043A\u043E\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430",label_tiles:"\u041F\u043B\u0438\u0442\u043A\u0430",label_list:"\u0421\u043F\u0438\u0441\u043E\u043A",label_load_more:"\u041F\u043E\u043A\u0430\u0437\u0430\u0442\u0438 \u0449\u0435",label_buy:"\u041A\u0443\u043F\u0438\u0442\u0438",label_buy_now:"\u041A\u0443\u043F\u0438\u0442\u0438 \u0437\u0430\u0440\u0430\u0437",label_buy_today:"\u041A\u0443\u043F\u0438\u0442\u0438 \u0441\u044C\u043E\u0433\u043E\u0434\u043D\u0456",label_download:"\u0417\u0430\u0432\u0430\u043D\u0442\u0430\u0436\u0438\u0442\u0438",label_search_results:"\u0420\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u0438 \u043F\u043E\u0448\u0443\u043A\u0443",label_add:"\u0414\u043E\u0434\u0430\u0442\u0438",label_edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",label_delete:"\u0412\u0438\u0434\u0430\u043B\u0438\u0442\u0438",label_new:"\u041D\u043E\u0432\u0435",label_sell:"\u041F\u0440\u043E\u0434\u0430\u0442\u0438",label_details:"\u041F\u043E\u0434\u0440\u043E\u0431\u0438\u0446\u0456",label_sorting:"\u0421\u043E\u0440\u0442\u0443\u0432\u0430\u043D\u043D\u044F",label_on:"\u0443\u0432\u043C",label_off:"\u0432\u0438\u043C",label_rename_tab:"\u041F\u0435\u0440\u0435\u0439\u043C\u0435\u043D\u0443\u0432\u0430\u0442\u0438 \u0432\u043A\u043B\u0430\u0434\u043A\u0443",label_close_tab:"\u0417\u0430\u043A\u0440\u0438\u0442\u0438 \u0432\u043A\u043B\u0430\u0434\u043A\u0443",label_close_other_tabs:"\u0417\u0430\u043A\u0440\u0438\u0442\u0438 \u0456\u043D\u0448\u0456 \u0432\u043A\u043B\u0430\u0434\u043A\u0438",label_close_tabs_left:"\u0417\u0430\u043A\u0440\u0438\u0442\u0438 \u0432\u043A\u043B\u0430\u0434\u043A\u0438 \u043B\u0456\u0432\u043E\u0440\u0443\u0447",label_close_tabs_right:"\u0417\u0430\u043A\u0440\u0438\u0442\u0438 \u0432\u043A\u043B\u0430\u0434\u043A\u0438 \u043F\u0440\u0430\u0432\u043E\u0440\u0443\u0447",label_close_all_tabs:"\u0417\u0430\u043A\u0440\u0438\u0439\u0442\u0435 \u0432\u0441\u0456 \u0432\u043A\u043B\u0430\u0434\u043A\u0438",label_close_inactive_tabs:"\u0417\u0430\u043A\u0440\u0438\u0442\u0438 \u043D\u0435\u0430\u043A\u0442\u0438\u0432\u043D\u0456 \u0432\u043A\u043B\u0430\u0434\u043A\u0438",label_clear_input:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u0438 \u0432\u0432\u0435\u0434\u0435\u043D\u043D\u044F",label_reveal_password:"\u0412\u0456\u0434\u043A\u0440\u0438\u0442\u0438 \u043F\u0430\u0440\u043E\u043B\u044C",label_hide_password:"\u041F\u0440\u0438\u0445\u043E\u0432\u0430\u0442\u0438 \u043F\u0430\u0440\u043E\u043B\u044C",label_generate_random:"\u0413\u0435\u043D\u0435\u0440\u0443\u0432\u0430\u0442\u0438 \u0432\u0438\u043F\u0430\u0434\u043A\u043E\u0432e \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F",label_search_input:"\u0428\u0443\u043A\u0430\u0442\u0438 \u0432\u0432\u0435\u0434\u0435\u043D\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u043D\u044F",label_note:"\u041F\u0440\u0438\u043C\u0456\u0442\u043A\u0430",label_tip:"\u041F\u0456\u0434\u043A\u0430\u0437\u043A\u0430",label_info:"\u0406\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0456\u044F",label_warning:"\u0423\u0432\u0430\u0433\u0430",label_question:"\u041F\u0438\u0442\u0430\u043D\u043D\u044F",label_error:"\u041F\u043E\u043C\u0438\u043B\u043A\u0430",label_success:"\u0423\u0441\u043F\u0456\u0445",label_caution:"\u041E\u0431\u0435\u0440\u0435\u0436\u043D\u043E",label_alert:"\u041F\u043E\u043F\u0435\u0440\u0435\u0434\u0436\u0435\u043D\u043D\u044F",label_bug:"\u041F\u043E\u043C\u0438\u043B\u043A\u0430",label_fuck:"\u0411\u043B\u044F",label_important:"\u0412\u0430\u0436\u043B\u0438\u0432\u043E",label_shit:"\u041E\u0442 \u043B\u0430\u0439\u043D\u043E",label_air:"\u041F\u0443\u0444\u0444\u0444...",label_select_all:"\u0412\u0438\u0431\u0440\u0430\u0442\u0438 \u0443\u0441\u0456",label_select_more:"\u0412\u0438\u0431\u0435\u0440\u0456\u0442\u044C...",label_select:"\u0412\u0438\u0431\u0440\u0430\u0442\u0438",label_filter:"\u0424\u0456\u043B\u044C\u0442\u0440",label_collapse:"\u0417\u0433\u043E\u0440\u043D\u0443\u0442\u0438"})})();(function(){Metro.i18n.add("pt-BR",{weekStart:0,january:"Janeiro",february:"Fevereiro",march:"Mar\xE7o",april:"Abril",may:"Maio",june:"Junho",july:"Julho",august:"Agosto",september:"Setembro",october:"Outubro",november:"Novembro",december:"Dezembro",january_short:"Jan",february_short:"Fev",march_short:"Mar",april_short:"Abr",may_short:"Mai",june_short:"Jun",july_short:"Jul",august_short:"Ago",september_short:"Set",october_short:"Out",november_short:"Nov",december_short:"Dez",sunday:"Domingo",monday:"Segunda",tuesday:"Ter\xE7a",wednesday:"Quarta",thursday:"Quinta",friday:"Sexta",saturday:"S\xE1bado",sunday_short:"Dom",monday_short:"Seg",tuesday_short:"Ter",wednesday_short:"Qua",thursday_short:"Qui",friday_short:"Sex",saturday_short:"S\xE1b",sunday_short_2:"D",monday_short_2:"S",tuesday_short_2:"T",wednesday_short_2:"Q",thursday_short_2:"Q",friday_short_2:"S",saturday_short_2:"S",label_ok:"OK",label_cancel:"Cancelar",label_done:"Pronto",label_today:"Hoje",label_now:"Agora",label_clear:"Limpar",label_help:"Ajuda",label_yes:"Sim",label_no:"N\xE3o",label_random:"Aleat\xF3rio",label_save:"Salvar",label_reset:"Resetar",label_submit:"Enviar",label_add_user_color:"Adicionar \xE0s amostras",label_send:"Enviar",label_accept:"Aceitar",label_cookies_title:"Este site usa cookis",label_cookies_text:"Este site utiliza cookies para garantir que voc\xEA tenha a melhor experi\xEAncia.",label_choose_file:"Escolher arquivo(s)",label_drop_file:"Clique ou solte arquivo(s) aqui",label_files_selected:"{n} arquivo(s) selecionado(s)",label_days:"dias",label_hours:"horas",label_minutes:"min",label_seconds:"seg",label_month:"m\xEAs",label_months:"meses",label_day:"dia",label_year:"ano",label_years:"anos",label_rows_count:"Exibir:",label_search:"Pesquisar:",label_table_info:"Exibindo de $1 at\xE9 $2 de um total de $3 registros",label_prev:"Anterior",label_next:"Pr\xF3ximo",label_all:"Todos",label_inspector:"Inspetor",label_goto_page:"Ir para",label_enter_page:"Digite a p\xE1gina...",label_empty:"Nada para exibir",label_user_colors:"Cores do usu\xE1rio",label_tiles:"Blocos",label_list:"Lista",label_load_more:"Carregar mais",label_buy:"Comprar",label_buy_now:"Comprar agora",label_buy_today:"Comprar hoje",label_download:"Download",label_search_results:"Pesquisar resultados",label_add:"Adicionar",label_edit:"Editar",label_delete:"Excluir",label_new:"Novo",label_sell:"Vender",label_details:"Detalhes",label_sorting:"Ordenar",label_on:"lig",label_off:"deslig",label_rename_tab:"Renomear aba",label_close_tab:"Fechar aba",label_close_other_tabs:"Fechar outras abas",label_close_tabs_left:"Fechar abas a esquerda",label_close_tabs_right:"Fechar abas a direita",label_close_all_tabs:"Fechar todas as abas",label_close_inactive_tabs:"Fechar abas inativas",label_clear_input:"Limpar",label_reveal_password:"Mostrar senha",label_hide_password:"Ocultar senha",label_generate_random:"Gerar valor aleat\xF3rio",label_search_input:"Pesquisar pelo valor",label_note:"Nota",label_tip:"Dica",label_info:"Informa\xE7\xE3o",label_warning:"Aviso",label_question:"Quest\xE3o",label_error:"Erro",label_success:"Sucesso",label_caution:"Cuidado",label_alert:"Alerta",label_bug:"Bug",label_fuck:"Falha catastr\xF3tico",label_important:"Importante",label_shit:"Shit",label_air:"Air",label_select_all:"Select all",label_select_more:"Select...",label_select:"Select",label_filter:"Filter",label_collapse:"Collapse"})})();(function(){Metro.i18n.add("es-ES",{weekStart:0,january:"Enero",february:"Febrero",march:"Marzo",april:"Abril",may:"Mayo",june:"Junio",july:"Julio",august:"Agosto",september:"Septiembre",october:"Octubre",november:"Noviembre",december:"Diciembre",january_short:"Ene",february_short:"Feb",march_short:"Mar",april_short:"Abr",may_short:"May",june_short:"Jun",july_short:"Jul",august_short:"Ago",september_short:"Sep",october_short:"Oct",november_short:"Nov",december_short:"Dic",sunday:"Domingo",monday:"Lunes",tuesday:"Martes",wednesday:"Mi\xE9rcoles",thursday:"Jueves",friday:"Viernes",saturday:"S\xE1bado",sunday_short:"Dom",monday_short:"Lun",tuesday_short:"Mar",wednesday_short:"Mi\xE9",thursday_short:"Jue",friday_short:"Vie",saturday_short:"S\xE1b",sunday_short_2:"D",monday_short_2:"L",tuesday_short_2:"M",wednesday_short_2:"M",thursday_short_2:"J",friday_short_2:"V",saturday_short_2:"S",label_ok:"OK",label_cancel:"Cancelar",label_done:"Listo",label_today:"Hoy",label_now:"Ahora",label_clear:"Limpiar",label_help:"Ayuda",label_yes:"S\xED",label_no:"No",label_random:"Aleatorio",label_save:"Guardar",label_reset:"Restablecer",label_submit:"Enviar",label_add_user_color:"Agregar a la paleta",label_send:"Enviar",label_accept:"Aceptar",label_cookies_title:"Este sitio usa cookies",label_cookies_text:"Este sitio utiliza cookies para garantizar que tengas la mejor experiencia.",label_choose_file:"Elegir archivo(s)",label_drop_file:"Haz clic o suelta archivo(s) aqu\xED",label_files_selected:"{n} archivo(s) seleccionado(s)",label_days:"d\xEDas",label_hours:"horas",label_minutes:"min",label_seconds:"seg",label_month:"mes",label_months:"meses",label_day:"d\xEDa",label_year:"a\xF1o",label_years:"a\xF1os",label_rows_count:"Mostrar:",label_search:"Buscar:",label_table_info:"Mostrando de $1 a $2 de un total de $3 registros",label_prev:"Anterior",label_next:"Siguiente",label_all:"Todos",label_inspector:"Inspector",label_goto_page:"Ir a la p\xE1gina",label_enter_page:"Escribe la p\xE1gina...",label_empty:"Nada para mostrar",label_user_colors:"Colores del usuario",label_tiles:"Cuadr\xEDculas",label_list:"Lista",label_load_more:"Cargar m\xE1s",label_buy:"Comprar",label_buy_now:"Comprar ahora",label_buy_today:"Comprar hoy",label_download:"Descargar",label_search_results:"Buscar resultados",label_add:"Agregar",label_edit:"Editar",label_delete:"Eliminar",label_new:"Nuevo",label_sell:"Vender",label_details:"Detalles",label_sorting:"Ordenar",label_on:"encendido",label_off:"apagado",label_rename_tab:"Renombrar pesta\xF1a",label_close_tab:"Cerrar pesta\xF1a",label_close_other_tabs:"Cerrar otras pesta\xF1as",label_close_tabs_left:"Cerrar pesta\xF1as a la izquierda",label_close_tabs_right:"Cerrar pesta\xF1as a la derecha",label_close_all_tabs:"Cerrar todas las pesta\xF1as",label_close_inactive_tabs:"Cerrar pesta\xF1as inactivas",label_clear_input:"Limpiar",label_reveal_password:"Mostrar contrase\xF1a",label_hide_password:"Ocultar contrase\xF1a",label_generate_random:"Generar valor aleatorio",label_search_input:"Buscar por valor",label_note:"Nota",label_tip:"Consejo",label_info:"Informaci\xF3n",label_warning:"Advertencia",label_question:"Pregunta",label_error:"Error",label_success:"\xC9xito",label_caution:"Precauci\xF3n",label_alert:"Alerta",label_bug:"Bug",label_fuck:"Falla catastr\xF3fica",label_important:"Importante",label_shit:"Shit",label_air:"Air",label_select_all:"Select all",label_select_more:"Select...",label_select:"Select",label_filter:"Filter",label_collapse:"Collapse"})})();(function(){"use strict";typeof Array.prototype.shuffle!="function"&&(Array.prototype.shuffle=function(){for(var e=this.length,r,l;e!==0;)l=Math.floor(Math.random()*e),e-=1,r=this[e],this[e]=this[l],this[l]=r;return this}),typeof Array.prototype.clone!="function"&&(Array.prototype.clone=function(){return this.slice(0)}),typeof Array.prototype.unique!="function"&&(Array.prototype.unique=function(){for(var e=this.concat(),r=0;r<e.length;++r)for(var l=r+1;l<e.length;++l)e[r]===e[l]&&e.splice(l--,1);return e}),typeof Array.prototype.pack!="function"&&(Array.prototype.pack=function(){return this.map(e=>e.trim()).filter(Boolean)})})();(function(){"use strict";Number.prototype.format=function(e,r,l,a){var t="\\d(?=(\\d{"+(r||3)+"})+"+(e>0?"\\D":"$")+")",o=this.toFixed(Math.max(0,~~e));return(a?o.replace(".",a):o).replace(new RegExp(t,"g"),"$&"+(l||","))}})();(function(){"use strict";String.prototype.toArray=function(e=",",r="string",l,a){var t=this,o;return l=l??!1,o=(""+t).split(e),o.map(function(i){var p;switch(r){case"int":case"integer":p=isNaN(i)?i.trim():parseInt(i);break;case"number":case"float":p=isNaN(i)?i:parseFloat(i);break;case"date":p=l?Datetime.from(i,l,a||"en-US"):datetime(i);break;default:p=i.trim()}return p})},String.prototype.capitalize=function(){var e=this;return e.substr(0,1).toUpperCase()+e.substr(1)}})();(function(e,r){"use strict";e.utils={nothing:function(){},noop:function(){},elementId:function(l){return l+"-"+new Date().getTime()+r.random(1,1e3)},secondsToTime:function(l){let a=Math.floor(l%31536e3/86400),t=Math.floor(l%31536e3%86400/3600),o=Math.floor(l%31536e3%86400%3600/60),i=Math.round(l%31536e3%86400%3600%60);return{d:a,h:t,m:o,s:i}},secondsToFormattedString:function(l){let a=parseInt(l,10),t=Math.floor(a/3600),o=Math.floor((a-t*3600)/60),i=a-t*3600-o*60;return[Str.lpad(t,"0",2),Str.lpad(o,"0",2),Str.lpad(i,"0",2)].join(":")},func:function(l){return new Function("a",l)},exec:function(l,a,t){let o;if(l==null)return!1;let i=this.isFunc(l);i===!1&&(i=this.func(l));try{o=i.apply(t,a)}catch(p){if(o=null,globalThis.METRO_THROWS===!0)throw p}return o},embedUrl:function(l){return l.indexOf("youtu.be")!==-1&&(l="https://www.youtube.com/embed/"+l.split("/").pop()),"<div class='embed-container'><iframe src='"+l+"'></iframe></div>"},isVisible:function(l){let a=r(l)[0];return this.getStyleOne(a,"display")!=="none"&&this.getStyleOne(a,"visibility")!=="hidden"&&a.offsetParent!==null},isUrl:function(l){return/^(\.\/|\.\.\/|ftp|http|https):\/\/(\w+:?\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@\-\/]))?/.test(l)},isTag:function(l){return/^<\/?[\w\s="\/.':;#-\/?]+>/gi.test(l)},isEmbedObject:function(l){let a=["iframe","object","embed","video"],t=!1;return r.each(a,function(){(typeof l=="string"&&l.toLowerCase()===this||l.nodeType!==void 0&&l.tagName.toLowerCase()===this)&&(t=!0)}),t},isVideoUrl:function(l){return/youtu\.be|youtube|twitch|vimeo/gi.test(l)},isDate:function(l,a,t="en-US"){let o;if(this.isDateObject(l))return!0;try{return o=a?Datetime.from(l,a,t):datetime(l),Datetime.isDatetime(o)}catch{return!1}},isDateObject:function(l){return typeof l=="object"&&l.getMonth!==void 0},isInt:function(l){return!isNaN(l)&&+l%1===0},isFloat:function(l){return!isNaN(l)&&+l%1!==0||/^\d*\.\d+$/.test(l)},isFunc:function(l){return this.isType(l,"function")},isObject:function(l){return this.isType(l,"object")},isObject2:function(l){return typeof l=="object"&&!Array.isArray(l)},isType:function(l,a){if(!this.isValue(l))return!1;if(typeof l===a||(""+a).toLowerCase()==="tag"&&this.isTag(l)||(""+a).toLowerCase()==="url"&&this.isUrl(l)||(""+a).toLowerCase()==="array"&&Array.isArray(l))return l;if(a!=="string"&&this.isTag(l)||this.isUrl(l))return!1;if(typeof window[l]===a)return window[l];if(typeof l=="string"&&l.indexOf(".")===-1||typeof l=="string"&&/[/\s([]+/gm.test(l)||typeof l=="number"&&a.toLowerCase()!=="number")return!1;let t=l.split("."),o,i=window;for(o=0;o<t.length;o++)i=i[t[o]];return typeof i===a?i:!1},$:function(){return globalThis.useJQuery?globalThis.jQuery:Dom},isMetroObject:function(l,a){let t=r(l),o=e.getPlugin(l,a);return t.length===0?(console.warn(a+" "+l+" not found!"),!1):o===void 0?(console.warn("Element not contain role "+a+'! Please add attribute data-role="'+a+'" to element '+l),!1):!0},isJQuery:function(l){return typeof globalThis.jQuery<"u"&&l instanceof globalThis.jQuery},isDom:function(l){return typeof Dom<"u"&&l instanceof Dom},isQ:function(l){return this.isJQuery(l)||this.isDom(l)},isOutsider:function(l){let a=r(l),t,o=a.clone();return o.removeAttr("data-role").css({visibility:"hidden",position:"absolute",display:"block"}),a.parent().append(o),t=this.inViewport(o[0]),o.remove(),!t},inViewport:function(l){let a=this.rect(l);return a.top>=0&&a.left>=0&&a.bottom<=(globalThis.innerHeight||document.documentElement.clientHeight)&&a.right<=(globalThis.innerWidth||document.documentElement.clientWidth)},viewportOutByWidth:function(l){let a=this.rect(l),t=globalThis.innerWidth||document.documentElement.clientWidth;return a.right>t},viewportOutByHeight:function(l){let a=this.rect(l),t=globalThis.innerHeight||document.documentElement.clientHeight;return a.bottom>t},viewportOut:function(l){return this.viewportOutByWidth(l)||this.viewportOutByHeight(l)},rect:function(l){return l.getBoundingClientRect()},getCursorPosition:function(l,a){let t=this.rect(l);return{x:this.pageXY(a).x-t.left-globalThis.scrollX,y:this.pageXY(a).y-t.top-globalThis.scrollY}},getCursorPositionX:function(l,a){return this.getCursorPosition(l,a).x},getCursorPositionY:function(l,a){return this.getCursorPosition(l,a).y},objectLength:function(l){return Object.keys(l).length},percent:function(l,a,t){if(l===0)return 0;let o=a*100/l;return t===!0?Math.round(o):Math.round(o*100)/100},objectShift:function(l){let a=0;return r.each(l,function(t){(a===0||a>t)&&(a=t)}),delete l[a],l},objectDelete:function(l,a){a in l&&delete l[a]},arrayDeleteByMultipleKeys:function(l,a){return a.forEach(function(t){delete l[t]}),l.filter(function(t){return t!==void 0})},arrayDelete:function(l,a){let t=l.indexOf(a);t>-1&&l.splice(t,1)},arrayDeleteByKey:function(l,a){l.splice(a,1)},nvl:function(l,a){return l??a},objectClone:function(l){let a={};for(let t in l)r.hasProp(l,t)&&(a[t]=l[t]);return a},github:async function(l,a){let t=await fetch(`https://api.github.com/repos/${l}`);if(!t.ok)return;let o=await t.json();this.exec(a,[o])},pageHeight:function(){let l=document.body,a=document.documentElement;return Math.max(l.scrollHeight,l.offsetHeight,a.clientHeight,a.scrollHeight,a.offsetHeight)},cleanPreCode:function(l){Array.prototype.slice.call(document.querySelectorAll(l),0).forEach(function(t){let o=t.textContent.replace(/^[\r\n]+/,"").replace(/\s+$/g,"");if(/^\S/gm.test(o)){t.textContent=o;return}let i,p,c=/^[\t ]+/gm,d,m=1e3;for(;i=c.exec(o);)d=i[0].length,d<m&&(m=d,p=i[0]);m!==1e3&&(t.textContent=o.replace(new RegExp("^"+p,"gm"),"").trim())})},coords:function(l){let t=r(l)[0].getBoundingClientRect();return{top:t.top+globalThis.pageYOffset,left:t.left+globalThis.pageXOffset}},positionXY:function(l,a,t){switch(a){case"client":return this.clientXY(l,t);case"screen":return this.screenXY(l,t);case"page":return this.pageXY(l,t);default:return{x:0,y:0}}},clientXY:function(l,a="touches"){return{x:l[a]?l[a][0].clientX:l.clientX,y:l[a]?l[a][0].clientY:l.clientY}},screenXY:function(l,a="touches"){return{x:l[a]?l[a][0].screenX:l.screenX,y:l[a]?l[a][0].screenY:l.screenY}},pageXY:function(l,a="touches"){return{x:l[a]?l[a][0].pageX:l.pageX,y:l[a]?l[a][0].pageY:l.pageY}},isRightMouse:function(l){return"which"in l?l.which===3:"button"in l?l.button===2:void 0},hiddenElementSize:function(l,a){let t,o,i=r(l).clone(!0);return i.removeAttr("data-role").css({visibility:"hidden",position:"absolute",display:"block"}),r("body").append(i),this.isValue(a)||(a=!1),t=i.outerWidth(a),o=i.outerHeight(a),i.remove(),{width:t,height:o}},getStyle:function(l){let a=r(l)[0];return globalThis.getComputedStyle(a)},getStyleOne:function(l,a){return this.getStyle(l).getPropertyValue(a)},getInlineStyles:function(l){let a,t,o={},i=r(l)[0];for(a=0,t=i.style.length;a<t;a++){let p=i.style[a];o[p]=i.style[p]}return o},encodeURI:function(l){return encodeURI(l).replace(/%5B/g,"[").replace(/%5D/g,"]")},updateURIParameter:function(l,a,t){let o=new RegExp("([?&])"+a+"=.*?(&|$)","i"),i=l.indexOf("?")!==-1?"&":"?";return l.match(o)?l.replace(o,"$1"+a+"="+t+"$2"):l+i+a+"="+t},getURIParameter:function(l,a){l||(l=globalThis.location.href),a=a.replace(/[\[\]]/g,"\\$&");let t=new RegExp("[?&]"+a+"(=([^&#]*)|&|#|$)"),o=t.exec(l);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null},getLocales:function(){return Object.keys(e.locales)},addLocale:function(l){e.locales=r.extend({},e.locales,l)},aspectRatioH:function(l,a){if(a==="16/9")return l*9/16;if(a==="21/9")return l*9/21;if(a==="4/3")return l*3/4},aspectRatioW:function(l,a){if(a==="16/9")return l*16/9;if(a==="21/9")return l*21/9;if(a==="4/3")return l*4/3},valueInObject:function(l,a){return Object.values(l).indexOf(a)>-1},keyInObject:function(l,a){return Object.keys(l).indexOf(a)>-1},inObject:function(l,a,t){return l[a]!==void 0&&l[a]===t},newCssSheet:function(l){let a=document.createElement("style");return l!==void 0&&a.setAttribute("media",l),a.appendChild(document.createTextNode("")),document.head.appendChild(a),a.sheet},addCssRule:function(l,a,t,o){l.insertRule(a+"{"+t+"}",o)},media:function(l){return globalThis.matchMedia(l).matches},mediaModes:function(){return globalThis.METRO_MEDIA},mediaExist:function(l){return globalThis.METRO_MEDIA.indexOf(l)>-1},inMedia:function(l){return globalThis.METRO_MEDIA.indexOf(l)>-1&&globalThis.METRO_MEDIA.indexOf(l)===globalThis.METRO_MEDIA.length-1},isValue:function(l){return l!=null&&l!==""},isNull:function(l){return l==null},isNegative:function(l){return parseFloat(l)<0},isPositive:function(l){return parseFloat(l)>0},isZero:function(l){return parseFloat(l.toFixed(2))===0},between:function(l,a,t,o){return o===!0?l>=a&&l<=t:l>a&&l<t},parseMoney:function(l){return Number(parseFloat(l.replace(/[^0-9-.]/g,"")))},parseCard:function(l){return l.replace(/[^0-9]/g,"")},parsePhone:function(l){return this.parseCard(l)},parseNumber:function(l,a,t){return l.replace(new RegExp("\\"+a,"g"),"").replace(new RegExp("\\"+t,"g"),".")},nearest:function(l,a,t){return l/=a,l=Math[t===!0?"floor":"ceil"](l)*a,l},bool:function(l){switch(l){case!0:case"true":case 1:case"1":case"on":case"yes":return!0;default:return!1}},decCount:function(l){return l%1===0?0:l.toString().split(".")[1].length},classNames:function(){let l=Array.prototype.slice.call(arguments,0),a=[];for(let t of l)if(t)if(typeof t=="string")a.push(t);else if(e.utils.isObject(t))for(let o in t)t[o]&&a.push(o);else e.utils.nothing();return a.join(" ")},join:function(){let l=Array.prototype.slice.call(arguments,0),a=l.pop(),t=[];for(let o of l)o&&t.push(e.utils.isObject(o)?Object.values(o)[0]:o);return t.join(a)},copy2clipboard:function(l,a){navigator.clipboard.writeText(l).then(function(){e.utils.exec(a,[l])})},getCssVar:function(l){let a=document.documentElement;return getComputedStyle(a).getPropertyValue(l)},scrollTo:function(l,a){(typeof l=="string"?r(l)[0]:l).scrollIntoView({...a,behavior:"smooth",block:"start"})}},globalThis.METRO_GLOBAL_COMMON===!0&&(globalThis.Utils=e.utils)})(Metro,Dom);(function(e,r){"use strict";let l={duration:METRO_ANIMATION_DURATION,ease:"linear"};e.Effects={switchIn:function(a){r(a).hide().css({left:0,top:0}).show()},switchOut:function(a){r(a).hide()},switch:function(a,t){this.switchOut(a),this.switchIn(t)},slideUpIn:function(a,t){let o,i=r(a),p=i.parent().outerHeight(!0);o=r.extend({},l,t),i.css({top:p,left:0,zIndex:2}).animate({draw:{top:0,opacity:1},dur:o.duration,ease:o.ease})},slideUpOut:function(a,t){let o,i=r(a),p=i.parent().outerHeight(!0);o=r.extend({},l,t),i.css({zIndex:1}).animate({draw:{top:-p,opacity:0},dur:o.duration,ease:o.ease})},slideUp:function(a,t,o){this.slideUpOut(a,o),this.slideUpIn(t,o)},slideDownIn:function(a,t){let o,i=r(a),p=i.parent().outerHeight(!0);o=r.extend({},l,t),i.css({left:0,top:-p,zIndex:2}).animate({draw:{top:0,opacity:1},dur:o.duration,ease:o.ease})},slideDownOut:function(a,t){let o,i=r(a),p=i.parent().outerHeight(!0);o=r.extend({},l,t),i.css({zIndex:1}).animate({draw:{top:p,opacity:0},dur:o.duration,ease:o.ease})},slideDown:function(a,t,o){this.slideDownOut(a,o),this.slideDownIn(t,o)},slideLeftIn:function(a,t){let o,i=r(a),p=i.parent().outerWidth(!0);o=r.extend({},l,t),i.css({left:p,zIndex:2}).animate({draw:{left:0,opacity:1},dur:o.duration,ease:o.ease})},slideLeftOut:function(a,t){let o,i=r(a),p=i.parent().outerWidth(!0);o=r.extend({},l,t),i.css({zIndex:1}).animate({draw:{left:-p,opacity:0},dur:o.duration,ease:o.ease})},slideLeft:function(a,t,o){this.slideLeftOut(a,o),this.slideLeftIn(t,o)},slideRightIn:function(a,t){let o,i=r(a),p=i.parent().outerWidth(!0);o=r.extend({},l,t),i.css({left:-p,zIndex:2}).animate({draw:{left:0,opacity:1},dur:o.duration,ease:o.ease})},slideRightOut:function(a,t){let o,i=r(a),p=i.parent().outerWidth(!0);o=r.extend({},l,t),i.css({zIndex:1}).animate({draw:{left:p,opacity:0},dur:o.duration,ease:o.ease})},slideRight:function(a,t,o){this.slideRightOut(a,o),this.slideRightIn(t,o)},fadeIn:function(a,t){let o=r.extend({},l,t);r(a).css({top:0,left:0,opacity:0}).animate({draw:{opacity:1},dur:o.duration,ease:o.ease})},fadeOut:function(a,t){let o=r.extend({},l,t);r(a).animate({draw:{opacity:0},dur:o.duration,ease:o.ease})},fade:function(a,t,o){this.fadeOut(a,o),this.fadeIn(t,o)},zoomIn:function(a,t){let o=r.extend({},l,t);r(a).css({top:0,left:0,opacity:0,transform:"scale(3)",zIndex:2}).animate({draw:{scale:1,opacity:1},dur:o.duration,ease:o.ease})},zoomOut:function(a,t){let o=r.extend({},l,t);r(a).css({zIndex:1}).animate({draw:{scale:3,opacity:0},dur:o.duration,ease:o.ease})},zoom:function(a,t,o){this.zoomOut(a,o),this.zoomIn(t,o)},swirlIn:function(a,t){let o=r.extend({},l,t);r(a).css({top:0,left:0,opacity:0,transform:"scale(3) rotate(180deg)",zIndex:2}).animate({draw:{scale:1,rotate:0,opacity:1},dur:o.duration,ease:o.ease})},swirlOut:function(a,t){let o=r.extend({},l,t);r(a).css({zIndex:1}).animate({draw:{scale:3,rotate:"180deg",opacity:0},dur:o.duration,ease:o.ease})},swirl:function(a,t,o){this.swirlOut(a,o),this.swirlIn(t,o)}}})(Metro,Dom);(function(e,r){"use strict";let l={accordionDeferred:0,showMarker:!0,material:!1,duration:METRO_ANIMATION_DURATION,oneFrame:!0,showActive:!0,clsFrame:"",clsHeading:"",clsContent:"",clsAccordion:"",clsActiveFrame:"",clsActiveFrameHeading:"",clsActiveFrameContent:"",onFrameOpen:e.noop,onFrameBeforeOpen:e.noop_true,onFrameClose:e.noop,onFrameBeforeClose:e.noop_true,onAccordionCreate:e.noop};e.accordionSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroAccordionSetup!==void 0&&e.accordionSetup(globalThis.metroAccordionSetup),e.Component("accordion",{init:function(a,t){return this._super(t,a,l),this},_create:function(){let a=this.element;this._createStructure(),this._createEvents(),this._fireEvent("accordionCreate",{element:a})},_createStructure:function(){let a=this,t=this.element,o=this.options,i=t.children(".frame"),p=t.children(".frame.active"),c;t.addClass("accordion").addClass(o.clsAccordion),i.addClass(o.clsFrame).each(function(){let d=r(this);d.children(".heading").addClass(o.clsHeading),d.children(".content").addClass(o.clsContent)}),o.showMarker===!0&&t.addClass("marker-on"),o.material===!0&&t.addClass("material"),p.length===0?c=i[0]:c=p[0],this._hideAll(),o.showActive===!0&&(o.oneFrame===!0?this._openFrame(c):r.each(p,function(){a._openFrame(this)}))},_createEvents:function(){let a=this,t=this.element,o=this.options,i=t.children(".frame.active");t.on(e.events.click,".heading",function(){let p=r(this),c=p.parent();if(p.closest(".accordion")[0]!==t[0])return!1;c.hasClass("active")?i.length===1&&o.oneFrame||a._closeFrame(c):a._openFrame(c)})},_openFrame:function(a){let t=this.element,o=this.options,i=r(a);if(e.utils.exec(o.onFrameBeforeOpen,[i[0]],t[0])===!1)return!1;o.oneFrame===!0&&this._closeAll(i[0]),i.addClass("active").addClass(o.clsActiveFrame),i.children(".heading").addClass(o.clsActiveFrameHeading),i.children(".content").addClass(o.clsActiveFrameContent).slideDown(o.duration),this._fireEvent("frameOpen",{frame:i[0]})},_closeFrame:function(a){let t=this.element,o=this.options,i=r(a);i.hasClass("active")&&e.utils.exec(o.onFrameBeforeClose,[i[0]],t[0])!==!1&&(i.removeClass("active").removeClass(o.clsActiveFrame),i.children(".heading").removeClass(o.clsActiveFrameHeading),i.children(".content").removeClass(o.clsActiveFrameContent).slideUp(o.duration),this._fireEvent("frameClose",{frame:i[0]}))},_closeAll:function(a){let t=this,i=this.element.children(".frame");r.each(i,function(){a!==this&&t._closeFrame(this)})},_hideAll:function(){let t=this.element.children(".frame");r.each(t,function(){r(this).children(".content").hide()})},_openAll:function(){let a=this,o=this.element.children(".frame");r.each(o,function(){a._openFrame(this)})},open:function(a){let t=this.element.children(".frame").eq(a);this._openFrame(t)},changeAttribute:function(a,t){},destroy:function(){let a=this.element;return a.off(e.events.click,".heading"),a}})})(Metro,Dom);(function(e,r){"use strict";let l={onClick:e.noop,onActionClick:e.noop,onActionButtonCreate:e.noop};e.actionButtonSetup=function(a){l=r.extend({},l,a)},typeof window.metroActionButtonSetup!==void 0&&e.actionButtonSetup(window.metroActionButtonSetup),e.Component("action-button",{init:function(a,t){return this._super(t,a,l,{}),this},_create:function(){let a=this,t=this.element,o=this.options;this._createStructure(),this._createEvents(),this._fireEvent("action-button-create")},_createStructure:function(){let a=this,t=this.element,o=this.options,i=t.find(".actions li, .actions button");t.addClass("action-button"),t.cssVar("num-actions",i.length),i.length>8&&t.cssVar("action-shift",60+(i.length-8)*6+"px"),i.each(function(p){r(this).cssVar("action-index",p).addClass("sub-action")}),t.children("button").addClass("main-action")},_createEvents:function(){let a=this,t=this.element,o=this.options;t.on(e.events.click,".actions li, .actions button",function(i){a._fireEvent("action-click",{action:this})}),t.on(e.events.click,".main-action",function(i){i.preventDefault(),i.stopPropagation(),r(this).toggleClass("active")})},changeAttribute:function(a,t){},destroy:function(){this.element.remove()}}),r(document).on("click",function(a){r("[data-role-actionbutton]").each((t,o)=>{r(o).children("button").removeClass("active")})})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={dialogDeferred:0,closeButton:!1,leaveOverlayOnClose:!1,toTop:!1,toBottom:!1,title:"",content:"",customButtons:null,actionsAlign:"right",defaultActions:!0,defaultActionButtons:"ok, cancel, help",overlay:!0,overlayColor:"#000000",overlayAlpha:.5,overlayClickClose:!1,width:"auto",height:"auto",closeAction:!0,clsDialog:"",clsTitle:"",clsContent:"",clsAction:"",clsDefaultAction:"",clsOverlay:"",autoHide:0,removeOnClose:!1,show:!1,_runtime:!1,onOk:e.noop,onCancel:e.noop,onHelp:e.noop,onShow:e.noop,onHide:e.noop,onOpen:e.noop,onClose:e.noop,onDialogCreate:e.noop};e.dialogSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroDialogSetup!==void 0&&e.dialogSetup(globalThis.metroDialogSetup),e.Component("dialog",{_counter:0,init:function(t,o){return this._super(o,t,a,{interval:null,overlay:null,id:l.elementId("dialog")}),this},_create:function(){this._build()},_build:function(){var t=this,o=this.element,i=this.options,p=this.strings,c=r("body"),d;if(o.addClass("dialog"),i.title!==""&&this.setTitle(i.title),i.content!==""&&this.setContent(i.content),i.defaultActions===!0||i.customButtons){var m=o.find(".dialog-actions"),f;if(m.length===0&&(m=r("<div>").addClass("dialog-actions").addClass("text-"+i.actionsAlign).appendTo(o)),i.defaultActions===!0&&o.find(".dialog-actions > *").length===0)for(let h of i.defaultActionButtons.toArray(","))f=r("<button>").addClass(h!=="help"?".js-dialog-close":"").addClass(i.clsDefaultAction).html(p[`label_${h}`]),f.appendTo(m),h==="ok"&&f.on(e.events.click,function(){l.exec(i.onOk,[o])}),h==="help"&&f.on(e.events.click,function(){l.exec(i.onHelp,[o])}),h==="cancel"&&f.on(e.events.click,function(){l.exec(i.onCancel,[o])});let g=l.isObject(i.customButtons);Array.isArray(g)&&r.each(g,function(){var h=this;f=r("<button>").addClass("button").addClass(h.cls).html(h.text),h.onclick!==void 0&&f.on(e.events.click,function(){l.exec(h.onclick,[o])}),f.appendTo(m)})}i.overlay===!0&&(d=this._overlay(),this.overlay=d),i.closeAction===!0&&o.on(e.events.click,".js-dialog-close",function(){t.close()});var u=o.find("closer");u.length===0&&(u=r("<span>").addClass("closer js-dialog-close"),u.appendTo(o)),i.closeButton!==!0&&u.hide(),o.css({height:i.height,visibility:"hidden",top:"100%"}),i.width!=="auto"&&o.css({width:i.width}),o.addClass(i.clsDialog),o.find(".dialog-title").addClass(i.clsTitle),o.find(".dialog-content").addClass(i.clsContent),o.find(".dialog-actions").addClass(i.clsAction),o.appendTo(c),i.show&&this.open(),r(globalThis).on(e.events.resize,function(){t.setPosition()},{ns:this.id}),this._fireEvent("dialog-create",{element:o})},_overlay:function(){var t=this.options,o=r("<div>");return o.addClass("overlay").addClass(t.clsOverlay),t.overlayColor==="transparent"?o.addClass("transparent"):o.css({background:Farbe.Routines.toRGBA(Farbe.Routines.parse(t.overlayColor),t.overlayAlpha)}),o},hide:function(t){var o=this.element,i=this.options,p=0;i.onHide!==e.noop&&(p=500,this._fireEvent("hide")),setTimeout(function(){l.exec(t,null,o[0]),o.css({visibility:"hidden",top:"100%"})},p)},show:function(t){var o=this.element;this.setPosition(),o.css({visibility:"visible"}),this._fireEvent("show"),l.exec(t,null,o[0])},setPosition:function(){var t=this.element,o=this.options,i,p;o.toTop!==!0&&o.toBottom!==!0?(i=(r(globalThis).height()-t.outerHeight())/2,i<0&&(i=0),p="auto"):(o.toTop===!0&&(i=0,p="auto"),o.toTop!==!0&&o.toBottom===!0&&(p=0,i="auto")),t.css({top:i,bottom:p,left:(r(globalThis).width()-t.outerWidth())/2})},setContent:function(t){var o=this.element,i=o.find(".dialog-content");i.length===0&&(i=r("<div>").addClass("dialog-content"),i.appendTo(o)),!l.isQ(t)&&l.isFunc(t)&&(t=l.exec(t)),l.isQ(t)?t.appendTo(i):i.html(t)},setTitle:function(t){var o=this.element,i=o.find(".dialog-title");i.length===0&&(i=r("<div>").addClass("dialog-title"),i.appendTo(o)),i.html(t)},close:function(){var t=this,o=this.element,i=this.options;l.bool(i.leaveOverlayOnClose)||r("body").find(".overlay").remove(),this.hide(function(){o.data("open",!1),t._fireEvent("close"),i.removeOnClose===!0&&o.remove()})},open:function(){var t=this,o=this.element,i=this.options;i.overlay===!0&&r(".overlay").length===0&&(this.overlay.appendTo(r("body")),i.overlayClickClose===!0&&this.overlay.on(e.events.click,function(){t.close()})),this.show(function(){t._fireEvent("open"),o.data("open",!0),parseInt(i.autoHide)>0&&setTimeout(function(){t.close()},parseInt(i.autoHide))})},toggle:function(){var t=this.element;t.data("open")?this.close():this.open()},isOpen:function(){return this.element.data("open")===!0},changeAttribute:function(t){},destroy:function(){var t=this.element;return t.off(e.events.click,".js-dialog-close"),t.find(".button").off(e.events.click),r(globalThis).off(e.events.resize,{ns:this.id}),t}}),e.dialog={isDialog:function(t){return l.isMetroObject(t,"dialog")},open:function(t,o,i){if(!this.isDialog(t))return!1;var p=e.getPlugin(t,"dialog");i!==void 0&&p.setTitle(i),o!==void 0&&p.setContent(o),p.open()},close:function(t){if(!this.isDialog(t))return!1;e.getPlugin(r(t)[0],"dialog").close()},toggle:function(t){if(!this.isDialog(t))return!1;e.getPlugin(r(t)[0],"dialog").toggle()},isOpen:function(t){if(!this.isDialog(t))return!1;e.getPlugin(r(t)[0],"dialog").isOpen()},remove:function(t){if(!this.isDialog(t))return!1;var o=e.getPlugin(r(t)[0],"dialog");o.options.removeOnClose=!0,o.close()},create:function(t){var o;o=r("<div>").appendTo(r("body"));var i=r.extend({},{show:!0,closeAction:!0,removeOnClose:!0},t!==void 0?t:{});return i._runtime=!0,e.makePlugin(o,"dialog",i)}}})(Metro,Dom);(function(e,r){"use strict";var l={activityDeferred:0,type:"ring",style:"",size:64,radius:20,onActivityCreate:e.noop};e.activitySetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroActivitySetup!==void 0&&e.activitySetup(globalThis.metroActivitySetup),e.Component("activity",{init:function(a,t){return this._super(t,a,l),this},_create:function(){var a=this.element,t=this.options,o,i;a.html("").addClass(t.style==="dark"?"dark-side":t.style==="color"?"color-style":"").addClass("activity-"+t.type);function p(){for(o=0;o<5;o++)r("<div/>").addClass("circle").appendTo(a)}function c(){for(o=0;o<4;o++)r("<div/>").addClass("square").appendTo(a)}function d(){r("<div/>").addClass("cycle").appendTo(a)}function m(){for(o=0;o<5;o++)i=r("<div/>").addClass("wrap").appendTo(a),r("<div/>").addClass("circle").appendTo(i)}function f(){r('<svg class="circular"><circle class="path" cx="'+t.size/2+'" cy="'+t.size/2+'" r="'+t.radius+'" fill="none" stroke-width="2" stroke-miterlimit="10"/></svg>').appendTo(a)}function u(){for(o=0;o<3;o++)r("<span/>").addClass("electron").appendTo(a)}function g(){for(o=0;o<6;o++)r("<span/>").addClass("bar").appendTo(a)}switch(t.type){case"metro":p();break;case"square":c();break;case"cycle":d();break;case"simple":f();break;case"atom":u();break;case"bars":g();break;default:m()}this._fireEvent("activity-create",{element:a})},changeAttribute:function(a){},destroy:function(){return this.element}}),e.activity={open:function(a){var t=a||{},o='<div data-role="activity" data-type="'+(t.type?t.type:"cycle")+'" data-style="'+(t.style?t.style:"color")+'"></div>',i=t.text?'<div class="text-center">'+t.text+"</div>":"";return e.dialog.create({content:o+i,defaultActions:!1,clsContent:"d-flex flex-column flex-center bg-transparent no-shadow w-auto",clsDialog:"no-border no-shadow bg-transparent global-dialog",autoHide:t.autoHide?t.autoHide:0,overlayClickClose:t.overlayClickClose===!0,overlayColor:t.overlayColor?t.overlayColor:"#000000",overlayAlpha:t.overlayAlpha?t.overlayAlpha:.5,clsOverlay:"global-overlay"})},close:function(a){e.dialog.close(a)}}})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={adblockDeferred:0,checkInterval:1e3,fireOnce:!0,checkStop:10,localhost:!1,onAlert:e.noop,onFishingStart:e.noop,onFishingDone:e.noop};e.adblockSetup=function(o){a=r.extend({},a,o)},typeof globalThis.metroAdblockSetup!==void 0&&e.adblockSetup(globalThis.metroAdblockSetup);var t={bite:function(){var o="adblock-bite adsense google-adsense dblclick advert topad top_ads topAds textads sponsoredtextlink_container show_ads right-banner rekl mpu module-ad mid_ad mediaget horizontal_ad headerAd contentAd brand-link bottombanner bottom_ad_block block_ad bannertop banner-right banner-body b-banner b-article-aside__banner b-advert adwrapper adverts advertisment advertisement:not(body) advertise advert_list adtable adsense adpic adlist adleft adinfo adi adholder adframe addiv ad_text ad_space ad_right ad_links ad_body ad_block ad_Right adTitle adText";r("<div>").addClass(o.split(" ").shuffle().join(" ")).css({position:"fixed",height:1,width:1,overflow:"hidden",visibility:"visible",top:0,left:0}).append(r("<a href='https://dblclick.net'>").html("dblclick.net")).appendTo("body"),t.options.adblockDeferred?setTimeout(function(){t.fishing()},t.options.adblockDeferred):this.fishing()},fishing:function(){var o=t.options,i=typeof o.fireOnce=="number"?o.fireOnce:0,p=o.checkStop,c=!1,d=function(){var m=r(".adsense.google-adsense.dblclick.advert.adblock-bite"),f=m.find("a"),u=function(){clearInterval(c),l.exec(o.onFishingDone),r(globalThis).fire("fishing-done"),m.remove()};if(!o.localhost&&r.localhost){u();return}!m.length||!f.length||m.css("display").indexOf("none")>-1||f.css("display").indexOf("none")>-1?(l.exec(t.options.onAlert),r(globalThis).fire("adblock-alert"),t.options.fireOnce===!0?u():(i--,i===0&&u())):p!==!1&&(p--,p===0&&u())};l.exec(o.onFishingStart),r(globalThis).fire("fishing-start"),c=setInterval(function(){d()},t.options.checkInterval),d()}};e.Adblock=t,r(function(){t.options=r.extend({},a),r(globalThis).on("metro-initiated",function(){t.bite()})})})(Metro,Dom);(function(e,r){"use strict";var l={icon:null,showNumbers:!1,showMoon:!0,showDay:!0,showDigitalClock:!0,timeFormat:24,onAnalogClockCreate:e.noop};e.analogClockSetup=function(a){l=r.extend({},l,a)},typeof window.metroAnalogClockSetup!==void 0&&e.analogClockSetup(window.metroAnalogClockSetup),e.Component("analog-clock",{init:function(a,t){return this._super(t,a,l,{}),this},_create:function(){var a=this,t=this.element,o=this.options;this._createStructure(),this._createEvents(),this._fireEvent("analog-clock-create")},_createStructure:function(){var a=this,t=this.element,o=this.options;let i=datetime();t.addClass("analog-clock"),o.showNumbers&&t.addClass("show-numbers");for(let p=1;p<=12;p++)t.append(`<label class="dash" style="--i: ${p}"><span>${o.showNumbers?p:"|"}</span></label>`);for(let p=1;p<=90;p++)p%5!==0&&t.append(`<label class="secondary-dash" style="--i2: ${p}"><span>|</span></label>`);t.append(`
                <div class="hands">
                    <div class="hour"></div>                
                    <div class="minute"></div>                
                    <div class="second"></div>                
                </div>
                  
            `),t.append(`
                <div class="day-month">
                    <div class="day-month-inner">
                        <div class="day">${i.format("DD",this.locale)}</div>
                        <div class="month">${i.format("MMM",this.locale)}</div>                    
                    </div>
                    <div class="week-day">${i.format("dddd",this.locale)}</div>
                </div>
            `),o.showDay===!1&&t.find(".day-month").hide(),t.append(`
                <div class="digital-clock">
                    <div class="dc-hour">${i.format(o.timeFormat===24?"HH":"hh",this.locale)}</div>
                    <div class="dc-minute">${i.format("mm",this.locale)}</div>
                    <div class="dc-second">${i.format("ss",this.locale)}</div>
                </div>
            `),o.showDigitalClock===!1&&t.find(".digital-clock").hide(),o.icon&&t.append(`<div class="icon">${o.icon}</div>`),o.showMoon===!0&&t.append('<div class="moon"></div>'),this._updateTime(),setInterval(()=>{t.toggleClass("tick")},500)},_createEvents:function(){var a=this,t=this.element,o=this.options},_updateTime:function(){let a=this.element,t=this.options,o=a.find(".second"),i=a.find(".minute"),p=a.find(".hour"),c=a.find(".dc-second"),d=a.find(".dc-minute"),m=a.find(".dc-hour"),f=a.find(".day"),u=a.find(".month"),g=a.find(".moon"),h=()=>{let b=datetime(),v=b.second()/60*360,k=b.minute()/60*360,w=b.hour12()/12*360,T=b.format("DD",this.locale),_=b.format("MMM",this.locale),y=b.moon();o[0].style.transform=`rotate(${v}deg)`,i[0].style.transform=`rotate(${k}deg)`,p[0].style.transform=`rotate(${w}deg)`,f.html(T),u.html(_),g.removeClass("").addClass(`${y.name}`),m[0].innerHTML=b.format(t.timeFormat===24?"HH":"hh",this.locale),d[0].innerHTML=b.format("mm",this.locale),c[0].innerHTML=b.format("ss",this.locale)};h(),setInterval(h,1e3)},changeAttribute:function(a,t){},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={appbarDeferred:0,expand:!1,expandPoint:null,duration:100,onMenuOpen:e.noop,onMenuClose:e.noop,onBeforeMenuOpen:e.noop,onBeforeMenuClose:e.noop,onMenuCollapse:e.noop,onMenuExpand:e.noop,onAppBarCreate:e.noop};e.appBarSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroAppBarSetup!==void 0&&e.appBarSetup(globalThis.metroAppBarSetup),e.Component("app-bar",{init:function(t,o){return this._super(o,t,a,{id:l.elementId("app-bar")}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("app-bar-create",{element:t})},_createStructure:function(){var t=this.element,o=this.options,i,p,c=l.getStyleOne(t,"background-color");if(t.addClass("app-bar"),i=t.find(".hamburger"),i.length===0){i=r("<button>").attr("type","button").addClass("hamburger menu-down");for(var d=0;d<3;d++)r("<span>").addClass("line").appendTo(i)}t.prepend(i),p=t.find(".app-bar-menu"),p.length===0?i.css("display","none"):l.addCssRule(e.sheet,".app-bar-menu li","list-style: none!important;"),i.css("display")==="block"?(p.hide().addClass("collapsed"),i.removeClass("hidden")):i.addClass("hidden"),(o.expand===!0||l.isValue(o.expandPoint)&&l.mediaExist(o.expandPoint))&&(t.addClass("app-bar-expand"),i.addClass("hidden"))},_createEvents:function(){var t=this,o=this.element,i=this.options,p=o.find(".app-bar-menu"),c=o.find(".hamburger");o.on(e.events.click,".hamburger",function(){if(p.length!==0){var d=p.hasClass("collapsed");d?t.open():t.close()}}),r(globalThis).on(e.events.resize,function(){if(i.expand!==!0&&(l.isValue(i.expandPoint)&&l.mediaExist(i.expandPoint)?(o.addClass("app-bar-expand"),t._fireEvent("menu-expand")):(o.removeClass("app-bar-expand"),t._fireEvent("menu-collapse"))),p.length===0){c.addClass("hidden");return}p.removeClass("opened").removeClass("collapsed"),c.css("display")!=="block"?(c.addClass("hidden"),p.show()):(c.removeClass("hidden"),c.hasClass("active")?p.removeClass("collapsed").addClass("opened"):p.addClass("collapsed").removeClass("opened"))},{ns:this.id})},close:function(){var t=this,o=this.element,i=this.options,p=o.find(".app-bar-menu"),c=o.find(".hamburger");t._fireEvent("before-menu-close",{menu:p[0]}),p.slideUp(i.duration,function(){p.addClass("collapsed").removeClass("opened"),c.removeClass("active"),t._fireEvent("menu-close",{menu:p[0]})})},open:function(){var t=this,o=this.element,i=this.options,p=o.find(".app-bar-menu"),c=o.find(".hamburger");t._fireEvent("before-menu-open",{menu:p[0]}),p.slideDown(i.duration,function(){p.removeClass("collapsed").addClass("opened"),c.addClass("active"),t._fireEvent("menu-open",{menu:p[0]})})},changeAttribute:function(t){},destroy:function(){var t=this.element;return t.off(e.events.click,".hamburger"),r(globalThis).off(e.events.resize,{ns:this.id}),t}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={audioVolume:.5,audioSrc:"",onAudioStart:e.noop,onAudioEnd:e.noop,onAudioButtonCreate:e.noop};e.audioButtonSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroAudioButtonSetup!==void 0&&e.audioButtonSetup(globalThis.metroAudioButtonSetup),e.Component("audio-button",{init:function(t,o){return this._super(o,t,a,{audio:null,canPlay:null,id:l.elementId("audioButton")}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("audioButtonCreate",{element:t})},_createStructure:function(){var t=this.options;this.audio=new Audio(t.audioSrc),this.audio.volume=t.audioVolume},_createEvents:function(){var t=this,o=this.element,i=this.options,p=this.audio;p.addEventListener("loadeddata",function(){t.canPlay=!0}),p.addEventListener("ended",function(){t._fireEvent("audioEnd",{src:i.audioSrc,audio:p})}),o.on(e.events.click,function(){t.play()},{ns:this.id})},play:function(t){var o=this.element,i=this.options,p=this.audio;i.audioSrc!==""&&this.audio.duration&&this.canPlay&&(this._fireEvent("audioStart",{src:i.audioSrc,audio:p}),p.pause(),p.currentTime=0,p.play(),l.exec(t,[p],o[0]))},stop:function(t){var o=this.element,i=this.options,p=this.audio;p.pause(),p.currentTime=0,this._fireEvent("audioEnd",{src:i.audioSrc,audio:p}),l.exec(t,[p],o[0])},changeAttribute:function(t){var o=this.element,i=this.options,p=this.audio,c=function(){var m=o.attr("data-audio-src");m&&m.trim()!==""&&(i.audioSrc=m,p.src=m)},d=function(){var m=parseFloat(o.attr("data-audio-volume"));isNaN(m)||(i.audioVolume=m,p.volume=m)};t==="data-audio-src"&&c(),t==="data-audio-volume"&&d()},destroy:function(){var t=this.element;t.off(e.events.click,{ns:this.id})}}),e.playSound=function(t){var o,i=typeof t=="string"?t:t.audioSrc,p=t&&t.audioVolume?t.audioVolume:.5;i&&(o=new Audio(i),o.volume=parseFloat(p),o.addEventListener("loadeddata",function(){t&&t.onAudioStart&&l.exec(t.onAudioStart,[i],this),this.play()}),o.addEventListener("ended",function(){t&&t.onAudioEnd&&l.exec(t.onAudioEnd,[null],this)}))}})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={sliderDeferred:0,roundValue:!0,min:0,max:100,accuracy:0,showMinMax:!1,minMaxPosition:e.position.TOP,value:0,buffer:0,hint:!1,hintAlways:!1,hintPosition:e.position.TOP,hintMask:"$1",vertical:!1,target:null,returnType:"value",size:0,label:null,clsSlider:"",clsBackside:"",clsComplete:"",clsBuffer:"",clsMarker:"",clsHint:"",clsMinMax:"",clsMin:"",clsMax:"",onStart:e.noop,onStop:e.noop,onMove:e.noop,onSliderClick:e.noop,onChange:e.noop,onChangeValue:e.noop,onChangeBuffer:e.noop,onFocus:e.noop,onBlur:e.noop,onSliderCreate:e.noop};e.sliderSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroSliderSetup!==void 0&&e.sliderSetup(globalThis.metroSliderSetup),e.Component("slider",{init:function(t,o){return this._super(o,t,a,{slider:null,value:0,percent:0,pixel:0,buffer:0,keyInterval:!1,id:l.elementId("slider")}),this},_create:function(){var t=this.element,o=this.options;this._createSlider(),this._createEvents(),this.buff(o.buffer),this.val(o.value),this._fireEvent("slider-create",{element:t})},_createSlider:function(){var t=this.element,o=this.options,i=r("<div>").addClass("backside").addClass(o.clsBackside),p=r("<div>").addClass("complete").addClass(o.clsComplete),c=r("<div>").addClass("buffer").addClass(o.clsBuffer),d=r("<button>").attr("type","button").addClass("marker").addClass(o.clsMarker),m=r("<div>").addClass("hint").addClass(o.hintPosition+"-side").addClass(o.clsHint),f,u=t.wrap("<div>").addClass("slider").addClass(t[0].className).addClass(o.clsSlider);if(o.size>0&&(o.vertical===!0?u.outerHeight(o.size):u.outerWidth(o.size)),o.vertical===!0&&u.addClass("vertical-slider"),o.hintAlways===!0&&m.css({display:"block"}).addClass("permanent-hint"),o.label){let h=r("<label>").addClass("label-for-input").addClass(o.clsLabel).html(o.label).insertBefore(u);if(t.id())h.attr("for",t.id());else{let b=Hooks.useId(t[0]);h.attr("for",b),t.attr("id",b)}}if(i.appendTo(u),p.appendTo(u),c.appendTo(u),d.appendTo(u),m.appendTo(d),o.showMinMax===!0){var g=r("<div>").addClass("slider-min-max").addClass(o.clsMinMax);r("<span>").addClass("slider-text-min").addClass(o.clsMin).html(o.min).appendTo(g),r("<span>").addClass("slider-text-max").addClass(o.clsMax).html(o.max).appendTo(g),o.minMaxPosition===e.position.TOP?g.insertBefore(u):g.insertAfter(u)}if(t[0].className="",o.copyInlineStyles===!0)for(f=0;f<t[0].style.length;f++)u.css(t[0].style[f],t.css(t[0].style[f]));t.is(":disabled")?this.disable():this.enable(),this.slider=u},_createEvents:function(){var t=this,o=this.slider,i=this.options,p=o.find(".marker"),c=o.find(".hint");p.on(e.events.startAll,function(){i.hint===!0&&i.hintAlways!==!0&&c.fadeIn(300),r(document).on(e.events.moveAll,function(d){d.cancelable&&d.preventDefault(),t._move(d),t._fireEvent("move",{val:t.value,percent:t.percent})},{ns:t.id,passive:!1}),r(document).on(e.events.stopAll,function(){r(document).off(e.events.moveAll,{ns:t.id}),r(document).off(e.events.stopAll,{ns:t.id}),i.hintAlways!==!0&&c.fadeOut(300),t._fireEvent("stop",{val:t.value,percent:t.percent})},{ns:t.id}),t._fireEvent("start",{val:t.value,percent:t.percent})}),p.on(e.events.focus,function(){t._fireEvent("focus",{val:t.value,percent:t.percent})}),p.on(e.events.blur,function(){t._fireEvent("blur",{val:t.value,percent:t.percent})}),p.on(e.events.keydown,function(d){var m=d.keyCode?d.keyCode:d.which;if([37,38,39,40].indexOf(m)!==-1){var f=i.accuracy===0?1:i.accuracy;t.keyInterval||(t.keyInterval=setInterval(function(){var u=t.value;(d.keyCode===37||d.keyCode===40)&&(u-f<i.min?u=i.min:u-=f),(d.keyCode===38||d.keyCode===39)&&(u+f>i.max?u=i.max:u+=f),t.value=t._correct(u),t.percent=t._convert(t.value,"val2prc"),t.pixel=t._convert(t.percent,"prc2pix"),t._redraw()},100),d.preventDefault())}}),p.on(e.events.keyup,function(){clearInterval(t.keyInterval),t.keyInterval=!1}),o.on(e.events.click,function(d){t._move(d),t._fireEvent("slider-click",{val:t.value,percent:t.percent}),t._fireEvent("stop",{val:t.value,percent:t.percent})}),r(globalThis).on(e.events.resize,function(){t.val(t.value),t.buff(t.buffer)},{ns:t.id})},_convert:function(t,o){var i=this.slider,p=this.options,c=(p.vertical===!0?i.outerHeight():i.outerWidth())-i.find(".marker").outerWidth();switch(o){case"pix2prc":return t*100/c;case"pix2val":return this._convert(t,"pix2prc")*((p.max-p.min)/100)+p.min;case"val2prc":return(t-p.min)/((p.max-p.min)/100);case"prc2pix":return t/(100/c);case"val2pix":return this._convert(this._convert(t,"val2prc"),"prc2pix")}return 0},_correct:function(t){var o=t,i=this.options.accuracy,p=this.options.min,c=this.options.max;return i===0||isNaN(i)?o:(o=Math.round(t/i)*i,o<p&&(o=p),o>c&&(o=c),o.toFixed(l.decCount(i)))},_move:function(t){var o=this.slider,i=this.options,p=o.offset(),c=o.find(".marker").outerWidth(),d=i.vertical===!0?o.outerHeight():o.outerWidth(),m,f,u=0,g=d-c;m=i.vertical===!0?l.pageXY(t).y-p.top:l.pageXY(t).x-p.left,f=i.vertical===!0?d-m-c/2:m-c/2,!(f<u||f>g)&&(this.value=this._correct(this._convert(f,"pix2val")),this.percent=this._convert(this.value,"val2prc"),this.pixel=this._convert(this.percent,"prc2pix"),this._redraw())},_hint:function(){var t=this.options,o=this.slider,i=o.find(".hint"),p=+this.value||0,c=+this.percent||0;t.roundValue&&(p=(l.isValue(p)?+p:0).toFixed(l.decCount(t.accuracy)),c=(l.isValue(c)?+c:0).toFixed(l.decCount(t.accuracy))),i.text(t.hintMask.replace("$1",p).replace("$2",c))},_value:function(){var t=this.element,o=this.options,i=o.returnType==="value"?this.value:this.percent,p=this.percent,c=this.buffer;if(o.roundValue&&(i=(l.isValue(i)?+i:0).toFixed(l.decCount(o.accuracy)),p=(l.isValue(p)?+p:0).toFixed(l.decCount(o.accuracy)),c=(l.isValue(c)?+c:0).toFixed(l.decCount(o.accuracy))),t[0].tagName==="INPUT"&&t.val(i),o.target!==null){var d=r(o.target);d.length!==0&&r.each(d,function(){var m=r(this);this.tagName==="INPUT"?m.val(i):m.text(i),m.trigger("change")})}this._fireEvent("change-value",{val:i}),this._fireEvent("change",{val:i,percent:p,buffer:c})},_marker:function(){var t=this.slider,o=this.options,i=t.find(".marker"),p=t.find(".complete"),c=o.vertical===!0?t.outerHeight():t.outerWidth(),d=parseInt(l.getStyleOne(i,"width")),m=l.isVisible(t);m&&i.css({"margin-top":0,"margin-left":0}),o.vertical===!0?(m?i.css("top",c-this.pixel):(i.css("top",100-this.percent+"%"),i.css("margin-top",d/2)),p.css("height",this.percent+"%")):(m?i.css("left",this.pixel):(i.css("left",this.percent+"%"),i.css("margin-left",this.percent===0?0:-1*d/2)),p.css("width",this.percent+"%"))},_redraw:function(){this._marker(),this._value(),this._hint()},_buffer:function(){var t=this.element,o=this.options,i=this.slider.find(".buffer");o.vertical===!0?i.css("height",this.buffer+"%"):i.css("width",this.buffer+"%"),this._fireEvent("change-buffer",{val:this.buffer}),this._fireEvent("change",{val:t.val(),percent:this.percent,buffer:this.buffer})},val:function(t){var o=this.options;if(t===void 0||isNaN(t))return this.value;t<o.min&&(t=o.min),t>o.max&&(t=o.max),this.value=this._correct(t),this.percent=this._convert(this.value,"val2prc"),this.pixel=this._convert(this.percent,"prc2pix"),this._redraw()},buff:function(t){var o=this.slider,i=o.find(".buffer");if(t===void 0||isNaN(t))return this.buffer;if(i.length===0)return!1;t=parseInt(t),t>100&&(t=100),t<0&&(t=0),this.buffer=t,this._buffer()},changeValue:function(){var t=this.element,o=this.options,i=t.attr("data-value");i<o.min&&(i=o.min),i>o.max&&(i=o.max),this.val(i)},changeBuffer:function(){var t=this.element,o=parseInt(t.attr("data-buffer"));o<0&&(o=0),o>100&&(o=100),this.buff(o)},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(t){switch(t){case"data-value":this.changeValue();break;case"data-buffer":this.changeBuffer();break;case"disabled":this.toggleState();break}},destroy:function(){let t=this.element,o=this.options,i=this.slider,p=i.find(".marker");p.off(e.events.startAll),p.off(e.events.focus),p.off(e.events.blur),p.off(e.events.keydown),p.off(e.events.keyup),i.off(e.events.click),r(globalThis).off(e.events.resize,{ns:this.id}),o.label&&i.prev("label").remove(),i.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={audioDeferred:0,playlist:null,src:null,volume:.5,loop:!1,autoplay:!1,showLoop:!0,showPlay:!0,showStop:!0,showMute:!0,showFull:!0,showStream:!0,showVolume:!0,showInfo:!0,showPlaylist:!0,showNext:!0,showPrev:!0,showFirst:!0,showLast:!0,showForward:!0,showBackward:!0,showShuffle:!0,showRandom:!0,loopIcon:"\u{1F501}",stopIcon:"\u23F9",playIcon:"\u25B6",pauseIcon:"\u23F8",muteIcon:"\u{1F507}",volumeLowIcon:"\u{1F508}",volumeMediumIcon:"\u{1F509}",volumeHighIcon:"\u{1F50A}",playlistIcon:"\u{1F4C3}",nextIcon:"\u2192",prevIcon:"\u2190",firstIcon:"\u21E4",lastIcon:"\u21E5",forwardIcon:"\u21C9",backwardIcon:"\u21C7",shuffleIcon:"\u{1F500}",randomIcon:"\u{1F3B2}",onPlay:e.noop,onPause:e.noop,onStop:e.noop,onEnd:e.noop,onMetadata:e.noop,onTime:e.noop,onAudioPlayerCreate:e.noop};e.audioPlayerSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroAudioPlayerSetup!==void 0&&e.audioPlayerSetup(globalThis.metroAudioPlayerSetup),e.Component("audio-player",{init:function(t,o){return this._super(o,t,a,{preloader:null,player:null,audio:o,stream:null,volume:null,volumeBackup:0,muted:!1}),this},_create:function(){var t=this.element,o=this.options;this._createPlayer(),this._createEvents(),o.autoplay===!0&&this.play(),this._fireEvent("audio-player-create",{element:t,player:this.player})},_createPlayer:function(){var t=this.element,o=this.options,i=this.audio;let p=t.wrap("<div>").addClass("media-player audio-player "+t[0].className);r.each(["muted","autoplay","controls","height","width","loop","poster","preload"],function(){t.removeAttr(this)}),t.attr("preload","auto"),i.volume=o.volume,o.src!==null&&this._setSource(o.src),t[0].className="",this.player=p,this._createControls()},_setSource:function(t){var o=this.element;o.find("source").remove(),o.removeAttr("src"),Array.isArray(t)?r.each(t,function(){var i=this;i.src!==void 0&&r("<source>").attr("src",i.src).attr("type",i.type!==void 0?i.type:"").appendTo(o)}):o.attr("src",t)},_createControls:function(){var t=this,o=this.element,i=this.options,p=this.elem,c=r("<div>").addClass("controls").addClass(i.clsControls).insertAfter(o),d=r("<div>").addClass("stream").appendTo(c),m=r("<input>").addClass("stream-slider ultra-thin cycle-marker").appendTo(d),f=r("<div>").addClass("load-audio").appendTo(d),u=r("<div>").addClass("volume").appendTo(c),g=r("<input>").addClass("volume-slider ultra-thin cycle-marker").appendTo(u),h=r("<div>").addClass("info-box").appendTo(c);i.showInfo!==!0&&h.hide(),f.activity({type:"metro",style:"color"}),f.hide(0),this.preloader=f,e.makePlugin(m,"slider",{clsMarker:"bg-red",clsHint:"bg-cyan fg-white",clsComplete:"bg-cyan",hint:!0,onStart:function(){p.paused||p.pause()},onStop:function(v){p.seekable.length>0&&(p.currentTime=(t.duration*v/100).toFixed(0)),p.paused&&p.currentTime>0&&p.play()}}),this.stream=m,i.showStream!==!0&&d.hide(),e.makePlugin(g,"slider",{clsMarker:"bg-red",clsHint:"bg-cyan fg-white",hint:!0,value:i.volume*100,onChangeValue:function(v){p.volume=v/100}}),this.volume=g,i.showVolume!==!0&&u.hide();var b;i.showLoop===!0&&(b=r("<button>").attr("type","button").addClass("button square loop").html(i.loopIcon).appendTo(c)),i.showPlay===!0&&r("<button>").attr("type","button").addClass("button square play").html(i.playIcon).appendTo(c),i.showStop===!0&&r("<button>").attr("type","button").addClass("button square stop").html(i.stopIcon).appendTo(c),i.showMute===!0&&r("<button>").attr("type","button").addClass("button square mute").html(i.muteIcon).appendTo(c),i.loop===!0&&(b.addClass("active"),o.attr("loop","loop")),this._setVolume(),i.muted&&(t.volumeBackup=p.volume,e.getPlugin(t.volume,"slider").val(0),p.volume=0),h.html("00:00 / 00:00")},_createEvents:function(){var t=this,o=this.element,i=this.options,p=this.elem,c=this.player;o.on("loadstart",function(){t.preloader.fadeIn()}),o.on("loadedmetadata",function(){t.duration=p.duration.toFixed(0),t._setInfo(0,t.duration),l.exec(i.onMetadata,[p,c],o[0])}),o.on("canplay",function(){t._setBuffer(),t.preloader.fadeOut()}),o.on("progress",function(){t._setBuffer()}),o.on("timeupdate",function(){var d=Math.round(p.currentTime*100/t.duration);t._setInfo(p.currentTime,t.duration),e.getPlugin(t.stream,"slider").val(d),l.exec(i.onTime,[p.currentTime,t.duration,p,c],o[0])}),o.on("waiting",function(){t.preloader.fadeIn()}),o.on("loadeddata",function(){}),o.on("play",function(){c.find(".play").html(i.pauseIcon),l.exec(i.onPlay,[p,c],o[0])}),o.on("pause",function(){c.find(".play").html(i.playIcon),l.exec(i.onPause,[p,c],o[0])}),o.on("stop",function(){e.getPlugin(t.stream,"slider").val(0),l.exec(i.onStop,[p,c],o[0])}),o.on("ended",function(){e.getPlugin(t.stream,"slider").val(0),l.exec(i.onEnd,[p,c],o[0])}),o.on("volumechange",function(){t._setVolume()}),c.on(e.events.click,".play",function(){p.paused?t.play():t.pause()}),c.on(e.events.click,".stop",function(){t.stop()}),c.on(e.events.click,".mute",function(){t._toggleMute()}),c.on(e.events.click,".loop",function(){t._toggleLoop()})},_toggleLoop:function(){var t=this.player.find(".loop");t.length!==0&&(t.toggleClass("active"),t.hasClass("active")?this.element.attr("loop","loop"):this.element.removeAttr("loop"))},_toggleMute:function(){this.muted=!this.muted,this.muted===!1?this.audio.volume=this.volumeBackup:(this.volumeBackup=this.audio.volume,this.audio.volume=0),e.getPlugin(this.volume,"slider").val(this.muted===!1?this.volumeBackup*100:0)},_setInfo:function(t,o){this.player.find(".info-box").html(l.secondsToFormattedString(Math.round(t))+" / "+l.secondsToFormattedString(Math.round(o)))},_setBuffer:function(){var t=this.audio.buffered.length?Math.round(Math.floor(this.audio.buffered.end(0))/Math.floor(this.audio.duration)*100):0;e.getPlugin(this.stream,"slider").buff(t)},_setVolume:function(){var t=this.audio,o=this.player,i=this.options,p=o.find(".mute"),c=t.volume*100;c>1&&c<30?p.html(i.volumeLowIcon):c>=30&&c<60?p.html(i.volumeMediumIcon):c>=60&&c<=100?p.html(i.volumeHighIcon):p.html(i.muteIcon)},play:function(t){t!==void 0&&this._setSource(t),!(this.element.attr("src")===void 0&&this.element.find("source").length===0)&&this.audio.play()},pause:function(){this.audio.pause()},resume:function(){this.audio.paused&&this.play()},stop:function(){this.audio.pause(),this.audio.currentTime=0,e.getPlugin(this.stream,"slider").val(0)},setVolume:function(t){if(t===void 0)return this.audio.volume;t>1&&(t/=100),this.audio.volume=t,e.getPlugin(this.volume,"slider").val(t*100)},loop:function(){this._toggleLoop()},mute:function(){this._toggleMute()},changeSource:function(){var t=JSON.parse(this.element.attr("data-src"));this.play(t)},changeVolume:function(){var t=this.element.attr("data-volume");this.setVolume(t)},changeAttribute:function(t){switch(t){case"data-src":this.changeSource();break;case"data-volume":this.changeVolume();break}},destroy:function(){var t=this.element,o=this.player;return t.off("all"),o.off("all"),e.getPlugin(this.stream,"slider").destroy(),e.getPlugin(this.volume,"slider").destroy(),t}})})(Metro,Dom);(function(e,r){"use strict";let l={type:"success",size:16,onBullCreate:e.noop};e.bullSetup=function(a){l=r.extend({},l,a)},typeof window.metroBullSetup!==void 0&&e.bullSetup(window.metroBullSetup),e.Component("bull",{init:function(a,t){return this._super(t,a,l,{}),this},_create:function(){this._createStructure(),this._fireEvent("bull-create")},_createStructure:function(){let a=this.element,t=this.options,o;switch(t.type.toLowerCase()){case"default":o=`<svg width="${t.size}" height="${t.size}" aria-label="completed successfully" viewBox="0 0 16 16" role="img" xmlns="http://www.w3.org/2000/svg"><path fill="#57ab5a" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16Zm3.78-9.72a.751.751 0 0 0-.018-1.042.751.751 0 0 0-1.042-.018L6.75 9.19 5.28 7.72a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042l2 2a.75.75 0 0 0 1.06 0Z"></path></svg>`;break;case"success":o=`<svg width="${t.size}" height="${t.size}" aria-label="completed successfully" viewBox="0 0 16 16" role="img" xmlns="http://www.w3.org/2000/svg"><path fill="#57ab5a" d="M8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16Zm3.78-9.72a.751.751 0 0 0-.018-1.042.751.751 0 0 0-1.042-.018L6.75 9.19 5.28 7.72a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042l2 2a.75.75 0 0 0 1.06 0Z"></path></svg>`;break;case"pending":o=`<svg width="${t.size}" height="${t.size}" aria-label="currently running" fill="none" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" class="ani-spin"><path fill="none" stroke="#DBAB0A" stroke-width="2" d="M3.05 3.05a7 7 0 1 1 9.9 9.9 7 7 0 0 1-9.9-9.9Z" opacity=".5"></path><path fill="#DBAB0A" fill-rule="evenodd" d="M8 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Z" clip-rule="evenodd"></path><path fill="#DBAB0A" d="M14 8a6 6 0 0 0-6-6V0a8 8 0 0 1 8 8h-2Z"></path></svg>`;break;case"fail":o=`<svg width="${t.size}" height="${t.size}" aria-label="failed" viewBox="0 0 16 16" role="img" xmlns="http://www.w3.org/2000/svg"><path fill="#e5534b" d="M2.343 13.657A8 8 0 1 1 13.658 2.343 8 8 0 0 1 2.343 13.657ZM6.03 4.97a.751.751 0 0 0-1.042.018.751.751 0 0 0-.018 1.042L6.94 8 4.97 9.97a.749.749 0 0 0 .326 1.275.749.749 0 0 0 .734-.215L8 9.06l1.97 1.97a.749.749 0 0 0 1.275-.326.749.749 0 0 0-.215-.734L9.06 8l1.97-1.97a.749.749 0 0 0-.326-1.275.749.749 0 0 0-.734.215L8 6.94Z"></path></svg>`;break;case"warning":o=`<svg width="${t.size}" height="${t.size}" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path fill="#ff4d00" d="M246.312928,5.62892705 C252.927596,9.40873724 258.409564,14.8907053 262.189374,21.5053731 L444.667042,340.84129 C456.358134,361.300701 449.250007,387.363834 428.790595,399.054926 C422.34376,402.738832 415.04715,404.676552 407.622001,404.676552 L42.6666667,404.676552 C19.1025173,404.676552 7.10542736e-15,385.574034 7.10542736e-15,362.009885 C7.10542736e-15,354.584736 1.93772021,347.288125 5.62162594,340.84129 L188.099293,21.5053731 C199.790385,1.04596203 225.853517,-6.06216498 246.312928,5.62892705 Z M224,272 C208.761905,272 197.333333,283.264 197.333333,298.282667 C197.333333,313.984 208.415584,325.248 224,325.248 C239.238095,325.248 250.666667,313.984 250.666667,298.624 C250.666667,283.264 239.238095,272 224,272 Z M245.333333,106.666667 L202.666667,106.666667 L202.666667,234.666667 L245.333333,234.666667 L245.333333,106.666667 Z" id="Combined-Shape"></path></svg>`;break;case"bulb":o=`<svg width="${t.size}" height="${t.size}" viewBox="0 0 512 512" version="1.1" xmlns="http://www.w3.org/2000/svg"><path fill="#ffde21" d="M213.333333,85.3333333 C284.025781,85.3333333 341.333333,142.640885 341.333333,213.333333 C341.333333,260.711239 315.5928,302.077122 277.333732,324.208982 L277.333333,405.333333 L256,426.666667 L234.666667,426.666667 C234.666667,438.448741 225.115408,448 213.333333,448 C201.551259,448 192,438.448741 192,426.666667 L192,426.666667 L170.666667,426.666667 L149.333333,405.333333 L149.332954,324.208993 C111.073876,302.077136 85.3333333,260.711248 85.3333333,213.333333 C85.3333333,142.640885 142.640885,85.3333333 213.333333,85.3333333 Z M234.667665,339.563386 C227.72957,340.727434 220.602209,341.333333 213.333333,341.333333 C206.064458,341.333333 198.937097,340.727434 191.999002,339.563386 L192,384 L234.666667,384 L234.667665,339.563386 Z M96.4250122,307.614237 L119.052429,330.241654 L73.7975952,375.496488 L51.1701782,352.869071 L96.4250122,307.614237 Z M330.241654,307.614237 L375.496488,352.869071 L352.869071,375.496488 L307.614237,330.241654 L330.241654,307.614237 Z M426.666667,197.333333 L426.666667,229.333333 L362.666667,229.333333 L362.666667,197.333333 L426.666667,197.333333 Z M64,197.333333 L64,229.333333 L7.10542736e-15,229.333333 L7.10542736e-15,197.333333 L64,197.333333 Z M352.869071,51.1701782 L375.496488,73.7975952 L330.241654,119.052429 L307.614237,96.4250122 L352.869071,51.1701782 Z M73.7975952,51.1701782 L119.052429,96.4250122 L96.4250122,119.052429 L51.1701782,73.7975952 L73.7975952,51.1701782 Z M229.333333,-1.0658141e-14 L229.333333,64 L197.333333,64 L197.333333,-1.0658141e-14 L229.333333,-1.0658141e-14 Z" id="Combined-Shape"></path></svg>`;break}a.clear().html(o)},changeAttribute:function(a,t){a==="data-type"&&this._createStructure()},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={buttongroupDeferred:0,targets:"button",clsActive:"",requiredButton:!1,mode:e.groupMode.ONE,onButtonClick:e.noop,onButtonGroupCreate:e.noop};e.buttonGroupSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroButtonGroupSetup!==void 0&&e.buttonGroupSetup(globalThis.metroButtonGroupSetup),e.Component("button-group",{init:function(t,o){return this._super(o,t,a,{active:null,id:l.elementId("button-group")}),this},_create:function(){var t=this.element;this._createGroup(),this._createEvents(),this._fireEvent("button-group-create",{element:t})},_createGroup:function(){var t=this.element,o=this.options,i,p;t.addClass("button-group"),i=t.find(o.targets),p=t.find(".active"),o.mode===e.groupMode.ONE&&p.length===0&&o.requiredButton===!0&&r(i[0]).addClass("active"),o.mode===e.groupMode.ONE&&p.length>1&&(i.removeClass("active").removeClass(o.clsActive),r(i[0]).addClass("active")),t.find(".active").addClass("js-active").addClass(o.clsActive)},_createEvents:function(){var t=this,o=this.element,i=this.options;o.on(e.events.click,i.targets,function(){var p=r(this);t._fireEvent("button-click",{button:this}),!(i.mode===e.groupMode.ONE&&p.hasClass("active"))&&(i.mode===e.groupMode.ONE?(o.find(i.targets).removeClass(i.clsActive).removeClass("active js-active"),p.addClass("active").addClass(i.clsActive).addClass("js-active")):p.toggleClass("active").toggleClass(i.clsActive).toggleClass("js-active"))})},changeAttribute:function(t){},destroy:function(){var t=this.element,o=this.options;return t.off(e.events.click,o.targets),t}})})(Metro,Dom);(function(e,r){"use strict";let l={spinnerDeferred:0,label:"",step:1,plusIcon:"+",minusIcon:"-",buttonsPosition:"default",defaultValue:0,minValue:null,maxValue:null,fixed:0,repeatThreshold:2e3,hideCursor:!1,clsSpinner:"",clsSpinnerInput:"",clsSpinnerButton:"",clsSpinnerButtonPlus:"",clsSpinnerButtonMinus:"",clsLabel:"",onBeforeChange:e.noop_true,onChange:e.noop,onPlusClick:e.noop,onMinusClick:e.noop,onArrowUp:e.noop,onArrowDown:e.noop,onButtonClick:e.noop,onArrowClick:e.noop,onSpinnerCreate:e.noop};e.spinnerSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroSpinnerSetup!==void 0&&e.spinnerSetup(globalThis.metroSpinnerSetup),e.Component("spinner",{init:function(a,t){return this._super(t,a,l,{repeat_timer:!1}),this},_create:function(){var a=this.element;this._createStructure(),this._createEvents(),this._fireEvent("spinner-create",{element:a})},_createStructure:function(){let a=this.element,t=this.options,o=r("<div>").addClass("spinner").addClass("buttons-"+t.buttonsPosition).addClass(a[0].className).addClass(t.clsSpinner),i=r("<button>").attr("type","button").addClass("button spinner-button spinner-button-plus").addClass(t.clsSpinnerButton+" "+t.clsSpinnerButtonPlus).html(t.plusIcon),p=r("<button>").attr("type","button").addClass("button spinner-button spinner-button-minus").addClass(t.clsSpinnerButton+" "+t.clsSpinnerButtonMinus).html(t.minusIcon),c=a.val().trim();if(e.utils.isValue(c)||a.val(0),a[0].className="",o.insertBefore(a),a.appendTo(o).addClass(t.clsSpinnerInput),a.addClass("metro-input"),i.appendTo(o),p.appendTo(o),t.hideCursor===!0&&o.addClass("hide-cursor"),t.label){let d=r("<label>").addClass("label-for-input").addClass(t.clsLabel).html(t.label).insertBefore(o);if(a.attr("id"))d.attr("for",a.attr("id"));else{let m=Hooks.useId(a[0]);d.attr("for",m),a.attr("id",m)}a.attr("dir")==="rtl"&&d.addClass("rtl")}t.disabled===!0||a.is(":disabled")?this.disable():this.enable()},_createEvents:function(){let a=this,t=this.element,o=this.options,i=t.closest(".spinner"),p=i.find(".spinner-button"),c,d,m=function(f){let u=[f?"plus-click":"minus-click",f?"arrow-up":"arrow-down","button-click","arrow-click"],g=+t.val(),h=+t.val(),b=+o.step;f?h+=b:h-=b,a._setValue(h.toFixed(o.fixed),!0),a._fireEvents(u,{curr:g,val:h,elementVal:t.val(),button:f?"plus":"minus"})};i.on(e.events.startAll,".spinner-button",function(f){let u=r(this).hasClass("spinner-button-plus");d=setInterval(function(){m(u)},100)},{passive:!0}),i.on(e.events.stopAll,".spinner-button",function(f){clearInterval(d)},{passive:!0}),i.on(e.events.click,".spinner-button",function(f){let u=r(this).hasClass("spinner-button-plus");m(u)},{passive:!0}),i.on(e.events.click,function(f){r(".focused").removeClass("focused"),i.addClass("focused"),f.preventDefault(),f.stopPropagation()})},_setValue:function(a,t){let o=this.element,i=this.options;e.utils.exec(i.onBeforeChange,[a],o[0])===!0&&(e.utils.isValue(i.maxValue)&&a>Number(i.maxValue)&&(a=Number(i.maxValue)),e.utils.isValue(i.minValue)&&a<Number(i.minValue)&&(a=Number(i.minValue)),o.val(a),this._fireEvent("change",{val:a},!1,!0),t===!0&&o.fire("change",{val:a}))},val:function(a){let t=this,o=this.element,i=this.options;if(!e.utils.isValue(a))return o.val();t._setValue(a.toFixed(i.fixed),!0)},toDefault:function(){let a=this.options,t=e.utils.isValue(a.defaultValue)?Number(a.defaultValue):0;this._setValue(t.toFixed(a.fixed),!0),this._fireEvent("change",{val:t})},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(a){let t=this,o=this.element;var i=function(){let p=o.attr("value").trim();e.utils.isValue(p)&&t._setValue(Number(p),!1)};switch(a){case"disabled":this.toggleState();break;case"value":i();break}},destroy:function(){let a=this.element,t=this.options,o=a.closest(".spinner"),i=o.find(".spinner-button");o.off(e.events.click),i.off(e.events.start),i.off(e.events.stop),a.off(e.events.keydown),o.off(e.events.keyup),t.label&&o.prev("label").remove(),o.remove()}}),r(document).on(e.events.click,function(){r(".spinner").removeClass("focused")})})(Metro,Dom);(function(e,r){"use strict";let l={weekStart:null,static:!1,readonly:!1,showGhost:!1,events:null,startContent:"days",showTime:!1,initialTime:null,initialHours:null,initialMinutes:null,labelTimeHours:null,labelTimeMinutes:null,animationContent:!0,animationSpeed:10,calendarDeferred:0,dayBorder:!1,excludeDay:null,prevMonthIcon:"\u2BC7",nextMonthIcon:"\u2BC8",prevYearIcon:"\u2BC7",nextYearIcon:"\u2BC8",compact:!1,wide:!1,widePoint:null,pickerMode:!1,show:null,outside:!0,buttons:"",yearsBefore:100,yearsAfter:100,headerFormat:"dddd, MMM DD",showHeader:!0,showFooter:!0,showWeekNumber:!1,isDialog:!1,ripple:!1,rippleColor:"#cccccc",exclude:null,preset:null,minDate:null,maxDate:null,weekDayClick:!1,weekNumberClick:!1,multiSelect:!1,special:null,format:METRO_DATE_FORMAT,inputFormat:null,clsCalendar:"",clsCalendarHeader:"",clsCalendarContent:"",clsCalendarFooter:"",clsCalendarMonths:"",clsCalendarYears:"",clsToday:"",clsSelected:"",clsExcluded:"",clsCancelButton:"",clsTodayButton:"",clsClearButton:"",clsDoneButton:"",clsEventCounter:"",clsWeekend:"",clsCurrentWeek:"",clsCalendarTime:"",clsTime:"",clsTimeHours:"",clsTimeMinutes:"",clsTimeButton:"",clsTimeButtonPlus:"",clsTimeButtonMinus:"",clsSpecial:"",clsEvents:"",clsEvent:"",onCancel:e.noop,onToday:e.noop,onClear:e.noop,onDone:e.noop,onDayClick:e.noop,onDrawDay:e.noop,onDrawMonth:e.noop,onDrawYear:e.noop,onWeekDayClick:e.noop,onWeekNumberClick:e.noop,onMonthChange:e.noop,onYearChange:e.noop,onTimeChange:e.noop,onHoursChange:e.noop,onMinutesChange:e.noop,onCalendarCreate:e.noop};e.calendarSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroCalendarSetup!==void 0&&e.calendarSetup(globalThis.metroCalendarSetup),e.Component("calendar",{init:function(a,t){let o=datetime(),i=this._correctDate(datetime());return this._super(t,a,l,{today:i,show:i,current:{year:i.year(),month:i.month(),day:i.day()},preset:[],selected:[],exclude:[],special:[],excludeDay:[],events:[],min:null,max:null,minYear:null,maxYear:null,id:e.utils.elementId("calendar"),time:[o.hour(),o.minute()],content:"days",yearDistance:11,yearGroupStart:i.year()}),this},_create:function(){let a=this.element,t=this.options;this.content=t.startContent,this.minYear=this.current.year-this.options.yearsBefore,this.maxYear=this.current.year+this.options.yearsAfter,a.html("").addClass("calendar "+(t.compact===!0?"compact":"")).addClass(t.clsCalendar),e.utils.isValue(t.initialTime)&&(this.time=t.initialTime.split(":")),e.utils.isValue(t.initialHours)&&e.utils.between(t.initialHours,0,23,!0)&&(this.time[0]=parseInt(t.initialHours)),e.utils.isValue(t.initialMinutes)&&e.utils.between(t.initialMinutes,0,59,!0)&&(this.time[1]=parseInt(t.initialMinutes)),t.dayBorder===!0&&a.addClass("day-border"),e.utils.isValue(t.excludeDay)&&(this.excludeDay=(""+t.excludeDay).toArray(",","int")),e.utils.isValue(t.preset)&&this._dates2array(t.preset,"selected"),e.utils.isValue(t.exclude)&&this._dates2array(t.exclude,"exclude"),e.utils.isValue(t.special)&&this._dates2array(t.special,"special"),e.utils.isValue(t.events)&&this._dates2array(t.events,"events"),this.min=t.minDate?(t.inputFormat?Datetime.from(t.minDate,t.inputFormat):datetime(t.minDate)).align("day"):null,this.max=t.maxDate?(t.inputFormat?Datetime.from(t.maxDate,t.inputFormat):datetime(t.maxDate)).align("day"):null,t.show&&(this.show=(t.show?t.inputFormat?Datetime.from(t.show,t.inputFormat):datetime(t.show):datetime()).align("day"),this.current={year:this.show.year(),month:this.show.month(),day:this.show.day()}),this._drawCalendar(),this._createEvents(),(t.wide===!0||!e.utils.isNull(t.widePoint)&&e.utils.mediaExist(t.widePoint))&&a.addClass("calendar-wide"),t.ripple===!0&&e.utils.isFunc(a.ripple)!==!1&&a.ripple({rippleTarget:".button, .prev-month, .next-month, .prev-year, .next-year, .day",rippleColor:this.options.rippleColor});let o=a.id();o&&e.storage.getItem(`METRO:CALENDAR:${o}:COLLAPSED`,a.hasClass("calendar-collapsed"))&&a.addClass("calendar-collapsed"),this._fireEvent("calendar-create")},_dates2array:function(a,t){let o=this,i=this.options,p;e.utils.isNull(a)||(p=typeof a=="string"?a.toArray():Array.isArray(a)?a:[],r.each(p,function(){let c;try{c=o._correctDate(i.inputFormat?Datetime.from(this,i.inputFormat):datetime(this)).format("YYYY-MM-DD")}catch{return}o[t].push(c)}))},_correctDate:function(a){return datetime(a).addDay(1).align("day").addMinute(new Date().getTimezoneOffset())},_createEvents:function(){let a=this,t=this.element,o=this.options;r(globalThis).on(e.events.resize,function(){o.wide!==!0&&(!e.utils.isNull(o.widePoint)&&e.utils.mediaExist(o.widePoint)?t.addClass("calendar-wide"):t.removeClass("calendar-wide"))},{ns:this.id}),t.on(e.events.click,".button-collapse",function(){let i=t.id();t.toggleClass("calendar-collapsed"),i&&e.storage.setItem(`METRO:CALENDAR:${i}:COLLAPSED`,t.hasClass("calendar-collapsed"))}),t.on(e.events.click,".prev-year-group, .next-year-group",function(){o.static||(r(this).hasClass("prev-year-group")?a.yearGroupStart-=a.yearDistance:a.yearGroupStart+=a.yearDistance,a._drawContent())}),t.on(e.events.click,".prev-month, .next-month, .prev-year, .next-year",function(){let i,p=r(this);o.static||p.hasClass("prev-month")&&(i=datetime(a.current.year,a.current.month-1,1).useLocale(a.locale,!0),i.year()<a.minYear)||p.hasClass("next-month")&&(i=datetime(a.current.year,a.current.month+1,1).useLocale(a.locale,!0),i.year()>a.maxYear)||p.hasClass("prev-year")&&(i=datetime(a.current.year-1,a.current.month,1).useLocale(a.locale,!0),i.year()<a.minYear)||p.hasClass("next-year")&&(i=datetime(a.current.year+1,a.current.month,1).useLocale(a.locale,!0),i.year()>a.maxYear)||(a.current={year:i.year(),month:i.month(),day:i.day()},setTimeout(function(){a._drawContent(),(p.hasClass("prev-month")||p.hasClass("next-month"))&&a._fireEvent("month-change",{current:a.current}),(p.hasClass("prev-year")||p.hasClass("next-year"))&&a._fireEvent("year-change",{current:a.current})},o.ripple?300:1))}),t.on(e.events.click,".button-today",function(){a.toDay(),a._fireEvent("today",{today:a.today.val(),time:a.time})}),t.on(e.events.click,".button-clear",function(){let i=datetime();a.selected=[],a.time=[i.hour(),i.minute()],a.yearGroupStart=i.year(),a._drawContent(),a._fireEvent("clear")}),t.on(e.events.click,".button-cancel",function(){a._drawContent(),a._fireEvent("cancel")}),t.on(e.events.click,".button-done",function(){a._drawContent(),a._fireEvent("done",{selected:a.selected,time:a.time})}),o.weekDayClick===!0&&t.on(e.events.click,".week-days .week-day",function(i){let p,c,d,m=[];if(!(o.static||o.readonly)){p=r(this),c=p.index();for(let f=0;f<7;f++)m.push(c),c+=o.showWeekNumber?8:7;o.multiSelect===!0&&(d=t.find(".day").filter(function(f){let u=r(f);return m.indexOf(u.index())>-1&&!u.hasClass("outside disabled excluded")}),r.each(d,function(){let f=r(this),u=f.data("day");a.selected.indexOf(u)===-1?(a.selected.push(u),f.addClass("selected").addClass(o.clsSelected)):(f.removeClass("selected").removeClass(o.clsSelected),e.utils.arrayDelete(a.selected,u))})),a._fireEvent("week-day-click",{selected:a.selected,day:p[0]}),i.preventDefault(),i.stopPropagation()}}),o.weekNumberClick&&t.on(e.events.click,".week-number",function(i){let p,c,d,m;p=r(this),c=p.text(),d=p.index(),c!=="#"&&(o.static||o.readonly||(o.multiSelect===!0&&(m=t.find(".day").filter(function(f){let u=r(f),g=u.index();return e.utils.between(g,d,d+8,!1)&&!u.hasClass("outside disabled excluded")}),r.each(m,function(){let f=r(this),u=f.data("day");a.selected.indexOf(u)===-1?(a.selected.push(u),f.addClass("selected").addClass(o.clsSelected)):(f.removeClass("selected").removeClass(o.clsSelected),e.utils.arrayDelete(a.selected,u))})),a._fireEvent("week-number-click",{selected:a.selected,num:c,numElement:p[0]}),i.preventDefault(),i.stopPropagation()))}),t.on(e.events.click,".day",function(i){let p=r(this),c,d;if(!(o.static||o.readonly)){if(d=p.data("day"),c=a.selected.indexOf(d),p.hasClass("outside")){d=datetime(d),a.current={year:d.year(),month:d.month(),day:d.day()},a._drawContent(),a._fireEvent("month-change",{current:a.current});return}p.hasClass("disabled")||(o.pickerMode===!0?(a.selected=[d],a.today=datetime(d),a.current.year=a.today.year(),a.current.month=a.today.month(),a.current.day=a.today.day(),a._drawHeader(),a._drawContent()):c===-1?(o.multiSelect===!1&&(t.find(".day").removeClass("selected").removeClass(o.clsSelected),a.selected=[]),a.selected.push(d),p.addClass("selected").addClass(o.clsSelected)):(p.removeClass("selected").removeClass(o.clsSelected),e.utils.arrayDelete(a.selected,d))),a._fireEvent("day-click",{selected:a.selected,day:p[0],time:a.time}),i.preventDefault(),i.stopPropagation()}}),t.on(e.events.click,".curr-month, .header-day",function(i){a.content="months",a._drawContent(),i.preventDefault(),i.stopPropagation()}),t.on(e.events.click,".month",function(i){a.current.month=parseInt(r(this).attr("data-month")),a.content="days",a._drawContent(),a._fireEvent("month-change",{current:a.current}),i.preventDefault(),i.stopPropagation()}),t.on(e.events.click,".curr-year, .header-year",function(i){a.content!=="years"&&(a.content="years",a._drawContent(),i.preventDefault(),i.stopPropagation())}),t.on(e.events.click,".year",function(i){a.current.year=parseInt(r(this).attr("data-year")),a.yearGroupStart=a.current.year,a.content="months",a._drawContent(),a._fireEvent("year-change",{current:a.current}),i.preventDefault(),i.stopPropagation()})},_drawHeader:function(){let a=this.element,t=this.options,o=a.find(".calendar-header");o.length===0&&(o=r("<div>").addClass("calendar-header").addClass(t.clsCalendarHeader).appendTo(a)),o.html(""),r("<div>").addClass("header-year").html(this.today.year()).appendTo(o),r("<div>").addClass("header-day").html(this.today.format(t.headerFormat,this.locale)).appendTo(o);let i=r("<div>").addClass("header-actions").appendTo(o);r("<button>").addClass("square small button-collapse").html(`
                <svg aria-hidden="true" class="caret toggle-collapsed" width="16" height="16" viewBox="0 0 24 24">
                    <path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path>
                </svg>
            `).attr("title",this.strings.label_collapse).appendTo(i),t.showHeader===!1&&o.hide()},_drawFooter:function(){let a=this.element,t=this.options,o=this.strings,i=a.find(".calendar-footer");t.buttons&&(i.length===0&&(i=r("<div>").addClass("calendar-footer").addClass(t.clsCalendarFooter).appendTo(a)),i.html(""),r.each(t.buttons.toArray(","),function(){let p=r("<button>").attr("type","button").addClass(`button button-${this} `+t["cls"+Str.capitalize(this)+"Button"]).html(o[`label_${this}`]).appendTo(i);(this==="cancel"||this==="done")&&p.addClass("js-dialog-close")}),t.showFooter===!1&&i.hide())},_drawTime:function(){let a=this,t=this.element,o=this.options,i=this.strings,p=t.find(".calendar-content"),c=r("<div>").addClass("calendar-time").addClass(o.clsCalendarTime).appendTo(p),d,m,f,u,g=""+this.time[0],h=""+this.time[1],b=function(v){let k=parseInt(v);r(this).attr("data-time-part")==="hours"?(a.time[0]=k,a._fireEvent("hours-change",{time:a.time,hours:k})):(a.time[1]=k,a._fireEvent("minutes-change",{time:a.time,minutes:k})),a._fireEvent("time-change",{time:a.time})};c.append(d=r("<div>").addClass("calendar-time__inner")),d.append(u=r("<div>").addClass("calendar-time__inner-row")),u.append(r("<div>").addClass("calendar-time__inner-cell").append(r("<span>").html(str(i.label_hours).capitalize()))),u.append(r("<div>").addClass("calendar-time__inner-cell").append(r("<span>").html(str(i.label_minutes).capitalize()))),c.append(d=r("<div>").addClass("calendar-time__inner spinners").addClass(o.clsTime)),d.append(m=r("<input type='text' data-cls-spinner-input='"+o.clsTimeHours+"' data-time-part='hours' data-buttons-position='right' data-min-value='0' data-max-value='23'>").addClass("hours").addClass(o.compact?"input-small":"input-normal")),d.append(f=r("<input type='text' data-cls-spinner-input='"+o.clsTimeMinutes+"' data-time-part='minutes' data-buttons-position='right' data-min-value='0' data-max-value='59'>").addClass("minutes").addClass(o.compact?"input-small":"input-normal")),g=Str.lpad(g,"0",2),h=Str.lpad(h,"0",2),m.val(g),f.val(h),e.makePlugin(d.find("input[type=text]"),"spinner",{onChange:b,clsSpinnerButton:o.clsTimeButton,clsSpinnerButtonPlus:o.clsTimeButtonPlus,clsSpinnerButtonMinus:o.clsTimeButtonMinus}),o.showTime===!1&&c.hide()},_drawContentDays:function(){let a=this,t=this.element,o=this.options,i=this.strings,p=t.find(".calendar-content"),c,d,m,f=datetime(this.current.year,this.current.month,this.current.day).useLocale(this.locale,!0).calendar(e.utils.isValue(o.weekStart)?o.weekStart:i.weekStart),u=this.show.format("YYYY-MM-DD"),g=datetime();p.length===0&&(p=r("<div>").addClass("calendar-content").addClass(o.clsCalendarContent).appendTo(t)),o.showWeekNumber&&p.addClass("-week-numbers"),p.empty(),c=r("<div>").addClass("calendar-toolbar").appendTo(p),r("<span>").addClass("prev-month").html(o.prevMonthIcon).appendTo(c),r("<span>").addClass("curr-month").html(Datetime.getLocale(this.locale).months[this.current.month]).appendTo(c),r("<span>").addClass("next-month").html(o.nextMonthIcon).appendTo(c),r("<span>").addClass("prev-year").html(o.prevYearIcon).appendTo(c),r("<span>").addClass("curr-year").html(this.current.year).appendTo(c),r("<span>").addClass("next-year").html(o.nextYearIcon).appendTo(c),d=r("<div>").addClass("week-days").appendTo(p),o.showWeekNumber&&r("<span>").addClass("week-number").html("#").appendTo(d),r.each(f.weekdays,function(){r("<span>").addClass("week-day").html(this).appendTo(d)}),m=r("<div>").addClass("days").appendTo(p),r.each(f.days,function(h){let b=this,v=a._correctDate(b),k=v.month()!==a.current.month;o.showWeekNumber&&h%7===0&&r("<span>").addClass("week-number").html(`<span class="week-number-content">${v.weekNumber(o.weekStart)}</span>`).appendTo(m);let w=v.day(),T=v.format("YYYY-MM-DD"),_=r("<span>").addClass("day").html(`<span class="day-content">${w}</span>`).appendTo(m);if(_.attr("data-day",T),b===u&&_.addClass("showed"),k&&(_.addClass("outside"),o.outside||_.empty()),b===f.today&&_.addClass("today"),o.showGhost&&v.day()===g.day()&&_.addClass("coincidental"),a.special.length?a.special.indexOf(b)===-1?_.addClass("disabled excluded").addClass(o.clsExcluded):_.addClass(o.clsSpecial):(a.selected.includes(b)&&_.addClass("selected").addClass(o.clsSelected),a.exclude.includes(b)&&_.addClass("disabled excluded").addClass(o.clsExcluded),a.min&&v.older(a.min)&&_.addClass("disabled excluded").addClass(o.clsExcluded),a.max&&v.younger(a.max)&&_.addClass("disabled excluded").addClass(o.clsExcluded)),f.weekends.indexOf(b)!==-1&&_.addClass(o.clsWeekend),f.week.indexOf(b)!==-1&&_.addClass(o.clsCurrentWeek),a.events.length){let y=r("<div>").addClass("events").addClass(o.clsEvents).appendTo(_);r.each(a.events,function(){if(this===b){let C=r("<div>").addClass("event").addClass(o.clsEvent).appendTo(y);o.clsEvent||C.css({backgroundColor:Farbe.Routines.randomColor()})}})}o.animationContent&&_.addClass("to-animate"),a._fireEvent("draw-day",{date:v.val(),day:v.day(),month:v.month(),year:v.year(),cell:_[0]})}),this._drawTime(),this._animateContent(".day")},_drawContentMonths:function(){let a=this.element,t=this.elem,o=this.options,i=this.locale,p=a.find(".calendar-content"),c,d,m,f=datetime().year(),u=datetime().month();p.length===0&&(p=r("<div>").addClass("calendar-content").addClass(o.clsCalendarContent).appendTo(a)),p.clear(),c=r("<div>").addClass("calendar-toolbar").appendTo(p),r("<span>").addClass("prev-year").html(o.prevYearIcon).appendTo(c),r("<span>").addClass("curr-year").html(this.current.year).appendTo(c),r("<span>").addClass("next-year").html(o.nextYearIcon).appendTo(c),p.append(d=r("<div>").addClass("months"));let g=0;for(let h of Datetime.getLocale(i).months)d.append(m=r("<div>").attr("data-month",g).addClass("month").addClass(g===u&&this.current.year===f?"today":"").html(h)),o.animationContent&&m.addClass("to-animate"),this._fireEvent("draw-month",{month:g,year:this.current.year,cell:m[0]}),g++;e.i18n.updateUI(t,i),this._animateContent(".months .month")},_drawContentYears:function(){let a=this.element,t=this.options,o=a.find(".calendar-content"),i,p,c;o.length===0&&(o=r("<div>").addClass("calendar-content").addClass(t.clsCalendarContent).appendTo(a)),o.clear(),i=r("<div>").addClass("calendar-toolbar").appendTo(o),r("<span>").addClass("prev-year-group").html(t.prevYearIcon).appendTo(i),r("<span>").addClass("curr-year").html(this.yearGroupStart+" - "+(this.yearGroupStart+this.yearDistance)).appendTo(i),r("<span>").addClass("next-year-group").html(t.nextYearIcon).appendTo(i),o.append(p=r("<div>").addClass("years"));for(let d=this.yearGroupStart;d<=this.yearGroupStart+this.yearDistance;d++)p.append(c=r("<div>").attr("data-year",d).addClass("year").addClass(d===this.current.year?"today":"").html(d)),t.animationContent&&c.addClass("to-animate"),(d<t.minYear||d>t.maxYear)&&c.addClass("disabled"),this._fireEvent("draw-year",{year:d,cell:c[0]});this._animateContent(".years .year")},_drawContent:function(){switch(this.content){case"years":this._drawContentYears();break;case"months":this._drawContentMonths();break;default:this._drawContentDays()}e.i18n.updateUI(this.elem,this.locale)},_drawCalendar:function(){let a=this,t=this.elem;setTimeout(function(){a.element.html(""),a._drawHeader(),a._drawContent(),a._drawFooter(),e.i18n.updateUI(t,a.locale)},0)},_animateContent:function(a,t){let o=this.element,i=this.options,p=o.find(".calendar-content");t=t||"to-animate",p.find(a).each(function(c){let d=r(this);setTimeout(function(){d.removeClass(t)},i.animationSpeed*c)})},getTime:function(a=!1){let t,o;return t=Str.lpad(this.time[0],"0",2),o=Str.lpad(this.time[1],"0",2),a?t+":"+o:this.time},setTime:function(a){Array.isArray(a)?this.time=a:this.time=a.split(":"),this._drawCalendar()},getPreset:function(){return this.preset},getSelected:function(){return this.selected},getExcluded:function(){return this.exclude},getToday:function(){return this.today},getCurrent:function(){return this.current},clearSelected:function(){this.selected=[],this._drawContent()},toDay:function(){let a=datetime();this.today=datetime().align("day"),this.current={year:this.today.year(),month:this.today.month(),day:this.today.day()},this.time=[a.hour(),a.minute()],this.yearGroupStart=this.today.year(),this.content="days",this._drawHeader(),this._drawContent()},setExclude:function(a){let t=this.element,o=this.options;e.utils.isNull(a)&&e.utils.isNull(t.attr("data-exclude"))||(o.exclude=a||t.attr("data-exclude"),this._dates2array(o.exclude,"exclude"),this._drawContent())},setPreset:function(a){let t=this.element,o=this.options;e.utils.isNull(a)&&e.utils.isNull(t.attr("data-preset"))||(o.preset=a||t.attr("data-preset"),this._dates2array(o.preset,"selected"),this._drawContent())},setSpecial:function(a){let t=this.element,o=this.options;e.utils.isNull(a)&&e.utils.isNull(t.attr("data-special"))||(o.special=a||t.attr("data-special"),this._dates2array(o.exclude,"special"),this._drawContent())},showDate:function(a){return this.setShow(a)},setShow:function(a){let t=this.element,o=this.options,i=t.attr("data-show");!a&&!i||(o.show=a||i,o.show?typeof o.show=="string"&&o.inputFormat?this.show=Datetime.from(o.show,o.inputFormat):this.show=datetime(o.show):this.show=datetime(),this.show=this.show.align("day"),this.current={year:this.show.year(),month:this.show.month(),day:this.show.day()},this._drawContent())},setMinDate:function(a){let t=this.element,o=this.options,i=t.attr("data-min-date");!a&&!i||(o.minDate=a||i,this.min=o.minDate?(o.inputFormat?Datetime.from(o.minDate,o.inputFormat):datetime(o.minDate)).align("day"):null,this._drawContent())},setMaxDate:function(a){let t=this.element,o=this.options,i=t.attr("data-max-date");o.maxDate=a||i,this.max=o.maxDate?(o.inputFormat?Datetime.from(o.maxDate,o.inputFormat):datetime(o.maxDate)).align("day"):null,this._drawContent()},changeAttribute:function(a){switch(a){case"data-exclude":this.setExclude();break;case"data-preset":this.setPreset();break;case"data-special":this.setSpecial();break;case"data-show":this.setShow();break;case"data-min-date":this.setMinDate();break;case"data-max-date":this.setMaxDate();break}},destroy:function(){let a=this.element,t=this.options;a.off(e.events.click,".prev-month, .next-month, .prev-year, .next-year"),a.off(e.events.click,".button.today"),a.off(e.events.click,".button.clear"),a.off(e.events.click,".button.cancel"),a.off(e.events.click,".button.done"),a.off(e.events.click,".week-days .day"),a.off(e.events.click,".days-row .day"),a.off(e.events.click,".curr-month"),a.off(e.events.click,".calendar-months li"),a.off(e.events.click,".curr-year"),a.off(e.events.click,".calendar-years li"),a.off(e.events.click),t.ripple===!0&&a.data("ripple").destroy(),r(globalThis).off(e.events.resize,{ns:this.id}),a.remove()}}),r(document).on(e.events.click,function(){r(".calendar .calendar-years").each(function(){r(this).removeClass("open")}),r(".calendar .calendar-months").each(function(){r(this).removeClass("open")})}),e.defaults.Calendar=l})(Metro,Dom);(function(e,r){"use strict";let l={label:"",value:"",calendarpickerDeferred:0,nullValue:!0,useNow:!1,prepend:"",dialogMode:!1,dialogPoint:640,dialogOverlay:!0,overlayColor:"#000000",overlayAlpha:.5,size:"100%",format:METRO_DATE_FORMAT,inputFormat:null,clearButton:!1,calendarButtonIcon:"\u{1F4C5}",clearButtonIcon:"\u274C",copyInlineStyles:!1,openMode:"auto",clsPicker:"",clsInput:"",clsPrepend:"",clsLabel:"",onDayClick:e.noop,onCalendarPickerCreate:e.noop,onCalendarShow:e.noop,onCalendarHide:e.noop,onChange:e.noop,onPickerChange:e.noop,onMonthChange:e.noop,onYearChange:e.noop};e.calendarPickerSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroCalendarPickerSetup!==void 0&&e.calendarPickerSetup(globalThis.metroCalendarPickerSetup),e.Component("calendar-picker",{init:function(a,t){let o=datetime();return this._super(t,a,r.extend({},e.defaults.Calendar,{},l),{value:null,value_date:null,calendar:null,overlay:null,id:e.utils.elementId("calendar-picker"),time:[o.hour(),o.minute()]}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("calendar-picker-create",{element:this.element})},_correctTime:function(a){let t=Str.lpad(a[0],"0",2),o=Str.lpad(a[1],"0",2);return`${t}:${o}`},_createStructure:function(){let a=this,t=this.element,o=this.options,i=this.locale,p=r("<div>").addClass("input "+t[0].className+" calendar-picker"),c=r("<div>").addClass("button-group"),d,m,f=r("<div>"),u,g,h,b,v,k,w,T=r("body");if(t.attr("type","text"),t.attr("autocomplete","off"),t.attr("readonly",!0),e.utils.isValue(o.initialTime)&&(this.time=o.initialTime.trim().split(":")),e.utils.isValue(o.initialHours)&&(this.time[0]=parseInt(o.initialHours)),e.utils.isValue(o.initialMinutes)&&(this.time[1]=parseInt(o.initialMinutes)),u=(""+o.value).trim()!==""?o.value:t.val().trim(),w=u||"",e.utils.isValue(u)?(g=u.split(" "),this.value=(o.inputFormat?Datetime.from(g[0],o.inputFormat,i):datetime(g[0])).addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),g[1]&&(this.time=g[1].trim().split(":"))):o.useNow&&(this.value=datetime().addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),this.time=[this.value.hour(),this.value.minute()]),k=!u&&o.nullValue===!0?"":datetime(a.value).format(o.format,i),o.showTime&&this.time&&k&&(k+=" "+this._correctTime(this.time)),t.val(k),p.insertBefore(t),t.appendTo(p),c.appendTo(p),f.appendTo(o.dialogMode?T:p),this.time&&this.time.length&&(b=this.time[0],typeof this.time[1]<"u"&&(v=this.time[1])),h=o.initialTime,o.initialHours&&(b=o.initialHours),o.initialHours&&(v=o.initialMinutes),e.makePlugin(f,"calendar",{showTime:o.showTime,initialTime:h,initialHours:b,initialMinutes:v,clsCalendarTime:o.clsCalendarTime,clsTime:o.clsTime,clsTimeHours:o.clsTimeHours,clsTimeMinutes:o.clsTimeMinutes,clsTimeButton:o.clsTimeButton,clsTimeButtonPlus:o.clsTimeButtonPlus,clsTimeButtonMinus:o.clsTimeButtonMinus,wide:o.wide,widePoint:o.widePoint,format:o.format,inputFormat:o.inputFormat,pickerMode:!0,show:w,preset:w,weekStart:o.weekStart,outside:o.outside,buttons:!1,headerFormat:o.headerFormat,clsCalendar:[o.clsCalendar,"calendar-for-picker",o.dialogMode?"dialog-mode":""].join(" "),clsCalendarHeader:o.clsCalendarHeader,clsCalendarContent:o.clsCalendarContent,clsCalendarFooter:"d-none",clsCalendarMonths:o.clsCalendarMonths,clsCalendarYears:o.clsCalendarYears,clsToday:o.clsToday,clsSelected:o.clsSelected,clsExcluded:o.clsExcluded,ripple:o.ripple,rippleColor:o.rippleColor,exclude:o.exclude,minDate:o.minDate,maxDate:o.maxDate,yearsBefore:o.yearsBefore,yearsAfter:o.yearsAfter,special:o.special,events:o.events,showHeader:!1,showFooter:!1,multiSelect:!1,showWeekNumber:o.showWeekNumber,onDayClick:function(_,y,C,z){let A=datetime(_[0]).addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),R;a._removeOverlay(),a.value=A,a.time=C,R=A.format(o.format,i),o.showTime&&(R+=" "+a._correctTime(C)),t.val(R),t.trigger("change"),f.removeClass("open open-up"),f.hide(),a._fireEvent("change",{val:a.value.val(),time:a.time}),a._fireEvent("day-click",{sel:_,day:y,time:C,el:z}),a._fireEvent("picker-change",{val:a.value.val(),time:a.time})},onTimeChange:function(_){let y,C,z;a.time=_,a.value||(a.value=datetime()),y=a.value.format(o.format,a.locale),o.showTime&&(y+=" "+a._correctTime(_)),t.val(y),a._fireEvent("change",{val:a.value.val(),time:a.time}),a._fireEvent("picker-change",{val:a.value.val(),time:a.time})},onMonthChange:o.onMonthChange,onYearChange:o.onYearChange}),this.calendar=f,o.clearButton===!0&&(m=r("<button>").addClass("button input-clear-button").attr("tabindex",-1).attr("type","button").html(o.clearButtonIcon),m.appendTo(c)),d=r("<button>").addClass("button input-calendar-button").attr("tabindex",-1).attr("type","button").html(o.calendarButtonIcon),d.appendTo(c),o.prepend!==""&&r("<div>").html(o.prepend).addClass("prepend").addClass(o.clsPrepend).appendTo(p),t.attr("dir")==="rtl"&&p.addClass("rtl"),String(o.size).indexOf("%")>-1?p.css({width:o.size}):p.css({width:parseInt(o.size)+"px"}),t[0].className="",o.copyInlineStyles===!0&&r.each(e.utils.getInlineStyles(t),function(_,y){p.css(_,y)}),p.addClass(o.clsPicker),t.addClass(o.clsInput),o.dialogOverlay===!0&&(this.overlay=a._overlay()),o.dialogMode===!0?p.addClass("dialog-mode"):e.utils.media("(max-width: "+o.dialogPoint+"px)")&&(p.addClass("dialog-mode"),this.calendar.addClass("dialog-mode")),o.label){let _=r("<label>").addClass("label-for-input").addClass(o.clsLabel).html(o.label).insertBefore(p);if(t.attr("id"))_.attr("for",t.attr("id"));else{let y=Hooks.useId(t[0]);_.attr("for",y),t.attr("id",y)}t.attr("dir")==="rtl"&&_.addClass("rtl")}t.is(":disabled")?this.disable():this.enable()},_createEvents:function(){let a=this,t=this.element,o=this.options,i=t.parent(),p=i.find(".input-clear-button"),c=this.calendar,d=e.getPlugin(c[0],"calendar"),m=this.calendar;r(globalThis).on(e.events.resize,function(){o.dialogMode!==!0&&(e.utils.media("(max-width: "+o.dialogPoint+"px)")?(i.addClass("dialog-mode"),m.appendTo("body").addClass("dialog-mode")):(i.removeClass("dialog-mode"),m.appendTo(i).removeClass("dialog-mode")))},{ns:this.id}),p.length>0&&p.on(e.events.click,function(f){t.val("").trigger("change").blur(),a.value=null,f.preventDefault(),f.stopPropagation()}),i.on(e.events.click,"button, input",function(f){let u=a.value?a.value:datetime().addDay(1).align("day").addMinute(new Date().getTimezoneOffset()),g=u.format("YYYY/MM/DD");u.align("day"),c.hasClass("open")===!1&&c.hasClass("open-up")===!1?(r(".calendar-picker .calendar").removeClass("open open-up").hide(),d.setPreset([g]),d.setShow(u),i.hasClass("dialog-mode")&&a.overlay.appendTo(r("body")),c.addClass("open"),o.openMode==="auto"?(e.utils.inViewport(c[0])||c.addClass("open-up"),e.utils.inViewport(c[0])||c.removeClass("open-up")):o.openMode==="up"&&c.addClass("open-up"),a._fireEvent("calendar-show",{calendar:c})):(a._removeOverlay(),c.removeClass("open open-up"),a._fireEvent("calendar-hide",{calendar:c})),f.preventDefault(),f.stopPropagation()}),t.on(e.events.blur,function(){i.removeClass("focused")}),t.on(e.events.focus,function(){i.addClass("focused")}),t.on(e.events.change,function(){e.utils.exec(o.onChange,[a.value.val()],t[0])}),i.on(e.events.click,function(f){f.preventDefault(),f.stopPropagation()})},_overlay:function(){let a=this.options,t=r("<div>");return t.addClass("overlay for-calendar-picker").addClass(a.clsOverlay),a.overlayColor==="transparent"?t.addClass("transparent"):t.css({background:Farbe.Routines.toRGBA(a.overlayColor,a.overlayAlpha)}),t},_removeOverlay:function(){r("body").find(".overlay.for-calendar-picker").remove()},clear:function(){this.value=datetime(),this.time=[datetime().hour(),datetime().minute()],this.element.val("")},val:function(a,t){let o=this.element,i=this.options,p,c,d;if(arguments.length===0||e.utils.isNull(a))return{date:this.value.val(),time:this.time};if(a==="")return this.clear();t&&(i.inputFormat=t);let m=a.split(" ");this.value=i.inputFormat?Datetime.from(m[0],i.inputFormat,this.locale):datetime(m[0]),m[1]&&(this.time=m[1].trim().split(":")),this.value.align("day"),e.getPlugin(this.calendar,"calendar").setTime(this.time),p=this.value.format(i.format),i.showTime&&this.time&&p&&(p+=" "+this._correctTime(this.time)),o.val(p),o.trigger("change")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},getTime:function(a=!1){let t,o;return t=Str.lpad(this.time[0],"0",2),o=Str.lpad(this.time[1],"0",2),a?t+":"+o:this.time},changeAttribute:function(a,t){let o=this,i=e.getPlugin(this.calendar[0],"calendar");switch(a){case"value":o.val(t);break;case"disabled":this.toggleState();break;case"data-special":i.setSpecial(t);break;case"data-exclude":i.setExclude(t);break;case"data-min-date":i.setMinDate(t);break;case"data-max-date":i.setMaxDate(t);break;case"data-value":o.val(t);break}},destroy:function(){let a=this.element,t=this.options,o=a.parent(),i=o.find(".input-clear-button");r(globalThis).off(e.events.resize,{ns:this.id}),i.off(e.events.click),o.off(e.events.click,"button, input"),a.off(e.events.blur),a.off(e.events.focus),a.off(e.events.change),e.getPlugin(this.calendar,"calendar").destroy(),t.label&&o.prev("label").remove(),o.remove()}}),r(document).on(e.events.click,".overlay.for-calendar-picker",function(){r(this).remove(),r(".calendar-for-picker.open").removeClass("open open-up")}),r(document).on(e.events.click,function(){r(".calendar-picker .calendar").removeClass("open open-up")})})(Metro,Dom);(function(e,r){"use strict";let l=["slide","slide-v","fade","switch","zoom","swirl"],a={carouselDeferred:0,autoStart:!1,width:"100%",height:"16/9",effect:l[0],effectFunc:"linear",direction:"left",duration:300,period:5e3,stopOnMouse:!0,controls:!0,controlsOnMouse:!1,controlsOutside:!1,controlPrev:"&larr;",controlNext:"&rarr;",bullets:!0,bulletsStyle:"square",bulletsSize:"default",bulletsPosition:"default",clsCarousel:"",clsSlides:"",clsSlide:"",clsControls:"",clsControlNext:"",clsControlPrev:"",clsBullets:"",clsBullet:"",clsBulletOn:"",clsThumbOn:"",onStop:e.noop,onStart:e.noop,onPlay:e.noop,onSlideClick:e.noop,onBulletClick:e.noop,onThumbClick:e.noop,onMouseEnter:e.noop,onMouseLeave:e.noop,onNextClick:e.noop,onPrevClick:e.noop,onSlideShow:e.noop,onSlideHide:e.noop,onCarouselCreate:e.noop};e.carouselSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroCarouselSetup!==void 0&&e.carouselSetup(globalThis.metroCarouselSetup),e.Component("carousel",{init:function(t,o){return this._super(o,t,a,{height:0,width:0,slides:[],current:null,currentIndex:null,dir:"left",interval:!1,isAnimate:!1,id:e.utils.elementId("carousel")}),this},_create:function(){let t=this.element,o=this.options,i=t.find(".slide"),p=t.find(".slides");this.dir=this.options.direction,t.addClass("carousel").addClass(o.clsCarousel),t.css({maxWidth:o.width}),o.controlsOutside===!0&&t.addClass("controls-outside"),p.length===0&&(p=r("<div>").addClass("slides").appendTo(t),i.appendTo(p)),i.addClass(o.clsSlides),i.length>0&&(this._createSlides(),this._createControls(),this._createBullets(),this._createEvents(),this._resize(),o.controlsOnMouse===!0&&(t.find("[class*=carousel-switch]").fadeOut(0),t.find(".carousel-bullets").fadeOut(0)),o.autoStart===!0?this._start():this._fireEvent("slide-show",{current:this.slides[this.currentIndex][0],prev:void 0})),this._fireEvent("carousel-create",{element:t})},_start:function(){let t=this,o=this.element,i=this.options,p=i.period,c=this.slides[this.currentIndex];c.data("period")!==void 0&&(p=c.data("period")),!(this.slides.length<=1)&&(this.interval===!1&&(this.interval=setTimeout(function(){let m=i.direction==="left"?"next":"prior";t._slideTo(m,!0)},p)),this._fireEvent("start",{element:o}))},_stop:function(){clearInterval(this.interval),this.interval=!1},_resize:function(){let t=this.element,o=this.options,i=t.outerWidth(),p,c=[];["16/9","21/9","4/3"].indexOf(o.height)>-1?p=e.utils.aspectRatioH(i,o.height):String(o.height).indexOf("@")>-1?(c=o.height.substring(1).toArray("|"),r.each(c,function(){let d=this.toArray(",");globalThis.matchMedia(d[0]).matches&&(["16/9","21/9","4/3"].indexOf(d[1])>-1?p=e.utils.aspectRatioH(i,d[1]):p=parseInt(d[1]))})):p=parseInt(o.height),t.css({height:p})},_createSlides:function(){let t=this,o=this.element,i=this.options,p=o.find(".slide");r.each(p,function(c){let d=r(this);if(d.data("cover")!==void 0&&d.css({backgroundImage:"url("+d.data("cover")+")"}),c!==0)switch(i.effect){case"switch":case"slide":d.css("left","100%");break;case"slide-v":d.css("top","100%");break;case"fade":case"zoom":case"swirl":d.css("opacity","0");break}else d.addClass("active-slide");d.addClass(i.clsSlide),t.slides.push(d)}),this.currentIndex=0,this.current=this.slides[this.currentIndex]},_createControls:function(){let t=this.element,o=this.options,i,p;o.controls!==!1&&(i=r("<span>").addClass("carousel-switch-next").addClass(o.clsControls).addClass(o.clsControlNext).html("<div></div>"),p=r("<span>").addClass("carousel-switch-prev").addClass(o.clsControls).addClass(o.clsControlPrev).html("<div></div>"),o.controlNext&&i.children("div").html(o.controlNext),o.controlPrev&&p.children("div").html(o.controlPrev),i.appendTo(t),p.appendTo(t))},_createBullets:function(){let t=this.element,o=this.options,i,p;if(o.bullets!==!1){for(i=r("<div>").addClass("carousel-bullets").addClass(o.bulletsSize+"-size").addClass("bullet-style-"+o.bulletsStyle).addClass(o.clsBullets),o.bulletsPosition==="default"||o.bulletsPosition==="center"?i.addClass("flex-justify-center"):o.bulletsPosition==="left"?i.addClass("flex-justify-start"):i.addClass("flex-justify-end"),p=0;p<this.slides.length;p++){let c=r("<span>").addClass("carousel-bullet").addClass(o.clsBullet).data("slide",p);p===0&&c.addClass("bullet-on").addClass(o.clsBulletOn),c.appendTo(i)}i.appendTo(t)}},_createEvents:function(){let t=this,o=this.element,i=this.options;o.on(e.events.click,".carousel-bullet",function(){let p=r(this);t.isAnimate===!1&&(t._slideToSlide(p.data("slide")),t._fireEvent("bullet-click",{bullet:p}))}),o.on(e.events.click,".carousel-switch-next",function(){t.isAnimate===!1&&(t._slideTo("next",!1),t._fireEvent("next-click",{button:this}))}),o.on(e.events.click,".carousel-switch-prev",function(){t.isAnimate===!1&&(t._slideTo("prev",!1),t._fireEvent("prev-click",{button:this}))}),i.stopOnMouse===!0&&i.autoStart===!0&&(o.on(e.events.enter,function(){t._stop(),t._fireEvent("mouse-enter",{element:o},!1,!0)}),o.on(e.events.leave,function(){t._start(),t._fireEvent("mouse-leave",{element:o},!1,!0)})),i.controlsOnMouse===!0&&(o.on(e.events.enter,function(){o.find("[class*=carousel-switch]").fadeIn(),o.find(".carousel-bullets").fadeIn()}),o.on(e.events.leave,function(){o.find("[class*=carousel-switch]").fadeOut(),o.find(".carousel-bullets").fadeOut()})),o.on(e.events.click,".slide",function(){let p=r(this);t._fireEvent("slide-click",{slide:p})}),r(globalThis).on(e.events.resize,function(){t._resize()},{ns:this.id})},_slideToSlide:function(t){let o=this.element,i=this.options,p,c,d;this.slides[t]!==void 0&&this.currentIndex!==t&&(d=t>this.currentIndex?"next":"prev",p=this.slides[this.currentIndex],c=this.slides[t],this.currentIndex=t,this._effect(p,c,i.effect,d),o.find(".carousel-bullet").removeClass("bullet-on").removeClass(i.clsBulletOn),o.find(".carousel-bullet:nth-child("+(this.currentIndex+1)+")").addClass("bullet-on").addClass(i.clsBulletOn))},_slideTo:function(t,o){let i=this.element,p=this.options,c,d;t===void 0&&(t="next"),c=this.slides[this.currentIndex],t==="next"?(this.currentIndex++,this.currentIndex>=this.slides.length&&(this.currentIndex=0)):(this.currentIndex--,this.currentIndex<0&&(this.currentIndex=this.slides.length-1)),d=this.slides[this.currentIndex],this._effect(c,d,p.effect,t,o),i.find(".carousel-bullet").removeClass("bullet-on").removeClass(p.clsBulletOn),i.find(".carousel-bullet:nth-child("+(this.currentIndex+1)+")").addClass("bullet-on").addClass(p.clsBulletOn)},_effect:function(t,o,i,p,c){let d=this,m=this.options,f=m.duration,u,g=m.effectFunc,h=m.period,b=function(v,k,w,T){e.Effects[v](k[0],w[0],T)};o.data("duration")!==void 0&&(f=o.data("duration")),o.data("effectFunc")!==void 0&&(g=o.data("effectFunc")),i==="switch"&&(f=0),t.stop(!0),o.stop(!0),this.isAnimate=!0,setTimeout(function(){d.isAnimate=!1},f+100),i==="slide"?u=p==="next"?"slideLeft":"slideRight":i==="slide-v"?u=p==="next"?"slideUp":"slideDown":u=i,l.includes(i)||(u="switch"),b(u,t,o,{duration:f,ease:g}),t.removeClass("active-slide"),o.addClass("active-slide"),setTimeout(function(){d._fireEvent("slide-show",{current:o[0],prev:t[0]})},f),setTimeout(function(){d._fireEvent("slide-hide",{current:t[0],next:o[0]})},f),c===!0&&(o.data("period")!==void 0&&(h=o.data("period")),this.interval=setTimeout(function(){let k=m.direction==="left"?"next":"prior";d._slideTo(k,!0)},h))},toSlide:function(t){this._slideToSlide(t)},next:function(){this._slideTo("next")},prev:function(){this._slideTo("prev")},stop:function(){clearInterval(this.interval),this._fireEvent("stop")},play:function(){this._start(),this._fireEvent("play")},setEffect:function(t){let o=this.element,i=this.options,p=o.find(".slide");l.includes(t)&&(i.effect=t,p.removeStyleProperty("transform").css({top:0,left:0}))},changeAttribute:function(t,o){t==="data-effect"&&this.setEffect(o)},destroy:function(){let t=this.element,o=this.options;return t.off(e.events.click,".carousel-bullet"),t.off(e.events.click,".carousel-switch-next"),t.off(e.events.click,".carousel-switch-prev"),o.stopOnMouse===!0&&o.autoStart===!0&&(t.off(e.events.enter),t.off(e.events.leave)),o.controlsOnMouse===!0&&(t.off(e.events.enter),t.off(e.events.leave)),t.off(e.events.click,".slide"),r(globalThis).off(e.events.resize,{ns:this.id}),t}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={charmsDeferred:0,position:"right",opacity:1,clsCharms:"",onCharmCreate:e.noop,onOpen:e.noop,onClose:e.noop,onToggle:e.noop};e.charmsSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroCharmsSetup!==void 0&&e.charmsSetup(globalThis.metroCharmsSetup),e.Component("charms",{init:function(t,o){return this._super(o,t,a,{origin:{background:""}}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("charm-create",{element:t})},_createStructure:function(){var t=this.element,o=this.options;t.addClass("charms").addClass(o.position+"-side").addClass(o.clsCharms),this.origin.background=t.css("background-color"),t.css({backgroundColor:Farbe.Routines.toRGBA(l.getStyleOne(t,"background-color"),o.opacity)})},_createEvents:function(){},open:function(){var t=this.element;t.addClass("open"),this._fireEvent("open")},close:function(){var t=this.element;t.removeClass("open"),this._fireEvent("close")},toggle:function(){var t=this.element;t.hasClass("open")===!0?this.close():this.open(),this._fireEvent("toggle")},opacity:function(t){var o=this.element,i=this.options;if(t===void 0)return i.opacity;var p=Math.abs(parseFloat(t));p<0||p>1||(i.opacity=p,o.css({backgroundColor:Farbe.Routines.toRGBA(l.getStyleOne(o,"background-color"),p)}))},changeOpacity:function(){var t=this.element;this.opacity(t.attr("data-opacity"))},changeAttribute:function(t){switch(t){case"data-opacity":this.changeOpacity();break}},destroy:function(){return this.element}}),e.charms={check:function(t){return l.isMetroObject(t,"charms")===!1?(console.warn("Element is not a charms component"),!1):!0},isOpen:function(t){if(this.check(t)!==!1)return r(t).hasClass("open")},open:function(t){this.check(t)!==!1&&e.getPlugin(t,"charms").open()},close:function(t){this.check(t)!==!1&&e.getPlugin(t,"charms").close()},toggle:function(t){this.check(t)!==!1&&e.getPlugin(t,"charms").toggle()},closeAll:function(){r("[data-role*=charms]").each(function(){e.getPlugin(this,"charms").close()})},opacity:function(t,o){this.check(t)!==!1&&e.getPlugin(t,"charms").opacity(o)}}})(Metro,Dom);(function(e,r){"use strict";let l="[data-role-dropmenu], [data-role-dropdown]",a='<svg class="dropdown-caret" aria-hidden="true" width="16" height="16" viewBox="0 0 24 24"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>',t={dropdownDeferred:0,dropFilter:null,toggleElement:null,align:"left",noClose:!1,duration:50,openMode:"auto",openFunc:"show",closeFunc:"hide",height:"auto",onDrop:e.noop,onUp:e.noop,onDropdownCreate:e.noop};e.dropdownSetup=function(o){t=r.extend({},t,o)},typeof globalThis.metroDropdownSetup!==void 0&&e.dropdownSetup(globalThis.metroDropdownSetup),e.Component("dropdown",{init:function(o,i){return this._super(i,o,t,{toggle:null,displayOrigin:null,isOpen:!1,level:0}),this},_create:function(){let o=this,i=this.element;this._createStructure(),this._createEvents(),this._fireEvent("dropdown-create",{element:i}),i.hasClass("open")&&(i.removeClass("open"),setTimeout(function(){o.open(!0)},0))},_toggle:function(){let o=this.element,i=o.siblings(".menu-toggle, .dropdown-toggle, a");if(i.length===0&&(i=o.prev(),i.length===0))throw new Error("Menu toggle not found");return i[0]},_createStructure:function(){let o=this.element,i=this.options,p=o.parents("[data-role-dropdown]").length,c;i.openMode==="up"&&o.addClass("drop-up"),c=i.toggleElement?r(i.toggleElement):r(this._toggle()),c.length&&c.append(a),this.displayOrigin=e.utils.getStyleOne(o,"display"),i.height!=="auto"&&o.css({height:i.height,"overflow-y":"auto"}),o.css("display","none"),this.toggle=c,this.level=p},_createEvents:function(){let o=this,i=this.element,p=this.options,c=this.toggle,d=i.parent();c.on(e.events.click,function(m){if(r(".active-container").removeClass("active-container"),i.css("display")!=="none"&&!i.hasClass("keep-open"))o.close(!0,i);else{if(r(l).each(function(f,u){!i.parents("[data-role-dropdown]").is(u)&&!r(u).hasClass("keep-open")&&r(u).css("display")!=="none"&&(e.utils.isValue(p.dropFilter)?r(u).closest(p.dropFilter).length>0&&o.close(!0,u):o.close(!0,u))}),i.hasClass("horizontal")){i.css({visibility:"hidden",display:"block"});let f=0;r.each(i.children("li"),function(){f+=r(this).outerWidth(!0)}),i.css({visibility:"visible",display:"none"}),i.css("width",f+2)}o.open(!1,i),d.addClass("active-container")}m.preventDefault(),m.stopPropagation()}),p.noClose===!0&&i.addClass("keep-open").on(e.events.click,function(m){m.stopPropagation()}),r(i).find("li.disabled a").on(e.events.click,function(m){m.preventDefault()})},_close:function(o,i){o=r(o);let p=e.getPlugin(o,"dropdown"),c=p.toggle,d=p.options,m=d.closeFunc;c.removeClass("active-toggle").removeClass("active-control"),p.element.parent().removeClass("active-container"),i&&(m="hide"),o[m](i?0:d.duration,function(){p._fireEvent("close"),p._fireEvent("up"),d.openMode==="auto"&&p.element.removeClass("drop-up drop-as-dialog")}),this.isOpen=!1},_open:function(o,i){let p=e.getPlugin(o,"dropdown"),c=p.options,d=c.openFunc;p.toggle.addClass("active-toggle").addClass("active-control"),p.element.parent().addClass("active-container"),p.element[d](i?0:c.duration,function(){let m=this,f=r(this),u=e.utils.viewportOutByWidth(m),g=e.utils.viewportOutByHeight(m);c.openMode==="auto"&&(g&&f.addClass("drop-up"),u&&f.addClass("place-right"),e.utils.viewportOut(m)&&f.removeClass("drop-up place-right").addClass("drop-as-dialog")),p._fireEvent("open"),p._fireEvent("drop")}),this.isOpen=!0},close:function(o,i){this._close(i||this.element,o)},open:function(o,i){this._open(i||this.element,o)},toggle:function(){this.isOpen?this.close():this.open()},changeAttribute:function(){},destroy:function(){this.toggle.off(e.events.click)}}),r(document).on(e.events.click,function(){r(l).each(function(){let o=r(this);if(o.hasClass("keep-open")||o.hasClass("stay-open")||o.hasClass("ignore-document-click"))return;let i=e.getPlugin(o,"dropdown"),p=e.getPlugin(o,"dropmenu");i&&i.close(),p&&p.close()})})})(Metro,Dom);(function(e,r){"use strict";let l={id:"",label:"",size:"normal",selectDeferred:0,clearButton:!1,clearButtonIcon:"\u274C",usePlaceholder:!1,placeholder:"",addEmptyValue:!1,emptyValue:"",duration:0,prepend:"",append:"",filterPlaceholder:"",filter:!1,dropHeight:200,dropWidth:null,dropFullSize:!1,openMode:"auto",showGroupName:!1,shortTag:!0,source:null,sourceMethod:"GET",sourceType:"json",filterSource:null,clsSelect:"",clsSelectInput:"",clsPrepend:"",clsAppend:"",clsOption:"",clsOptionActive:"",clsOptionGroup:"",clsDropList:"",clsDropContainer:"",clsSelectedItem:"",clsSelectedItemAction:"",clsLabel:"",clsGroupName:"",clsFilterInput:"",onClear:e.noop,onChange:e.noop,onUp:e.noop,onDrop:e.noop,onItemSelect:e.noop,onItemDeselect:e.noop,onSelectCreate:e.noop,onData:a=>a};e.selectSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroSelectSetup!==void 0&&e.selectSetup(globalThis.metroSelectSetup),e.Component("select",{init:function(a,t){return this._super(t,a,l,{list:null,placeholder:null,observer:null}),this},_create:function(){let a=this.element;this._createSelect(),this._createEvents(),this._fireEvent("select-create",{element:a})},_setPlaceholder:function(){let a=this.element,t=this.options,o=a.siblings(".select-input");t.usePlaceholder===!0&&(!e.utils.isValue(a.val())||a.val()==t.emptyValue)&&o.html(t.placeholder||this.strings.label_select_more)},_addTag:function(a,t){let o=this.element,i=this.options,p,c,d=o.closest(".select"),m="<span class='title'>"+a+"</span>";return p=r("<div>").addClass("tag").addClass(i.shortTag?"short-tag":"").addClass(i.clsSelectedItem).html(m).data("option",t),r("<span>").addClass("action unselect-option").addClass(i.clsSelectedItemAction).html("&times;").appendTo(p),d.hasClass("input-large")?c="large":d.hasClass("input-small")&&(c="small"),p.addClass(c),p},_addOption:function(a,t,o,i,p){let c=r(a),d,m,f=this.element,u=this.options,g=e.utils.isValue(c.attr("data-template"))?c.attr("data-template").replace("$1",a.text):a.text,h=c.attr("data-display");d=r("<li>").addClass(u.clsOption).data("option",a).attr("data-text",a.text).attr("data-value",a.value?a.value:""),m=r("<a>").html(g);let b=c.attr("data-icon");if(b&&m.prepend(r("<span>").addClass("icon").html(b)),h&&(d.attr("data-display",h),g=h),d.addClass(a.className),d.data("group",p),c.is(":disabled")&&d.addClass("disabled"),c.is(":selected")){let v="";u.showGroupName&&p&&(v=`&nbsp;<span class='selected-item__group-name ${u.clsGroupName}'>${p}</span>`),i?(d.addClass("d-none"),o.append(this._addTag(m.html()+v,d))):(g=m.html()+v,f.val(a.value),o.html(g),f.fire("change",{val:a.value}),d.addClass("active"))}d.append(m).appendTo(t)},_addOptionGroup:function(a,t,o,i){let p=this,c=this.options,d=r(a);r("<li>").html(a.label).addClass("group-title").addClass(c.clsOptionGroup).appendTo(t),r.each(d.children(),function(){p._addOption(this,t,o,i,a.label)})},_createOptions:function(){let a=this,t=this.element,o=this.options,p=t.parent().find("ul").empty(),c=t.find("option[selected]").length>0,d=t[0].multiple,m=t.siblings(".select-input");t.siblings(".select-input").empty(),o.addEmptyValue===!0&&t.prepend(r("<option "+(c?"":"selected")+" value='"+o.emptyValue+"' class='d-none'></option>")),r.each(t.children(),function(){this.tagName==="OPTION"?a._addOption(this,p,m,d,null):this.tagName==="OPTGROUP"&&a._addOptionGroup(this,p,m,d)})},_createSelect:async function(){let a=this.element,t=this.options,o=a.wrap("<label>"),i=a[0].multiple,p=Hooks.useId(o[0]),c=r("<div>").addClass("button-group"),d,m,f,u,g,h,b=e.utils.elementId("select-focus-trigger"),v=r("<input type='checkbox'>").addClass("select-focus-trigger").attr("id",b);if(this.placeholder=r("<span>").addClass("placeholder").html(t.placeholder),o.attr("id",t.id?t.id:p).attr("for",b),o[0].className=e.utils.classNames(a[0].className,"input-"+t.size,"select",t.clsSelect),h=r("<span>").addClass("dropdown-toggle"),h.appendTo(o),i&&o.addClass("multiple"),c.appendTo(o),v.appendTo(o),d=r("<div>").addClass("select-input").addClass(t.clsSelectInput).attr("name","__"+p+"__"),m=r("<div>").addClass("drop-container").addClass(t.clsDropContainer),t.dropFullSize===!1?t.dropWidth&&m.css({width:+t.dropWidth}):o.addClass("drop-full-size"),f=r("<div>").appendTo(m),u=r("<ul>").addClass("option-list").addClass(t.clsDropList).css({"max-height":t.dropHeight}),g=r(`<input type='text' data-role='input' data-clear-button-icon="${t.clearButtonIcon}">`).attr("placeholder",t.filterPlaceholder||this.strings.label_filter+"...").appendTo(f),g.addClass(t.clsFilterInput),o.append(d),o.append(m),m.append(f),t.filter!==!0&&f.hide(),m.append(u),t.source&&await this.fetch(t.source,{method:t.sourceMethod||"GET",headers:{"Content-Type":`application/${t.sourceType||"json"}`}}),this._createOptions(),this._setPlaceholder(),this._createDroppable(m),this.list=u,t.clearButton===!0&&!a[0].readOnly?r("<button>").addClass("button input-clear-button").addClass(t.clsClearButton).attr("tabindex",-1).attr("type","button").html(t.clearButtonIcon).appendTo(c):c.addClass("d-none"),t.prepend!==""&&!i&&r("<div>").html(t.prepend).addClass("prepend").addClass(t.clsPrepend).appendTo(o),t.append!==""&&!i&&r("<div>").html(t.append).addClass("append").addClass(t.clsAppend).appendTo(o),a.attr("dir")==="rtl"&&o.addClass("rtl").attr("dir","rtl"),t.label){let k=r("<label>").addClass("label-for-input").addClass(t.clsLabel).html(t.label).insertBefore(o);a.attr("id")?k.attr("for",a.attr("id")):k.attr("for",b),a.attr("dir")==="rtl"&&k.addClass("rtl")}a.is(":disabled")?this.disable():this.enable(),this.observer=new MutationObserver(this._updateSelect.bind(this)),this.observer.observe(a[0],{childList:!0,subtree:!0})},_createDroppable:function(a){let t=this,o=this.options,i=a.find("input"),p=a.siblings(".dropdown-toggle"),c=this.element.closest(".select"),d=a.find("ul");e.makePlugin(a,"dropdown",{dropFilter:".select",duration:o.duration,toggleElement:[c],openMode:o.openMode,onDrop:function(){let m,f;p.addClass("active-toggle"),m=r(".select .drop-container"),r.each(m,function(){let u=r(this);if(u.is(a))return;let g=e.getPlugin(u,"dropdown");g&&g.close&&g.close()}),i.val("").trigger(e.events.keyup),f=d.find("li.active").length>0?r(d.find("li.active")[0]):void 0,f!==void 0&&(d[0].scrollTop=f.position().top-(d.height()-f.height())/2),t._fireEvent("drop",{list:d[0]})},onUp:function(){p.removeClass("active-toggle"),t._fireEvent("up",{list:d[0]})}})},_updateSelect:function(a){for(let t of a)t.type==="childList"&&(t.addedNodes.length||t.removedNodes.length)&&this._createOptions()},_createEvents:function(){let a=this,t=this.element,o=this.options,i=t.closest(".select"),p=i.find(".drop-container"),c=t.siblings(".select-input"),d=p.find("input"),m=p.find("ul"),f=i.find(".input-clear-button"),u=i.find(".select-focus-trigger");u.on("focus",function(){i.addClass("focused")}),u.on("blur",function(){i.removeClass("focused")}),f.on(e.events.click,function(h){t.val(o.emptyValue),t[0].multiple&&m.find("li").removeClass("d-none"),c.clear(),a._setPlaceholder(),h.preventDefault(),h.stopPropagation(),a._fireEvent("clear"),a._fireEvent("change",{selected:a.getSelected()})}),t.on(e.events.change,function(){a._setPlaceholder()}),i.on(e.events.click,function(){r(".focused").removeClass("focused"),i.addClass("focused")}),c.on(e.events.click,function(){r(".focused").removeClass("focused"),i.addClass("focused")}),m.on(e.events.click,"li",function(h){if(r(this).hasClass("group-title")){h.preventDefault(),h.stopPropagation();return}let b=r(this),v=b.attr("data-display"),k=b.data("value"),w=b.data("group"),T=v||b.children("a").html(),_,y=b.data("option"),C=t.find("option");o.showGroupName&&w&&(T+="&nbsp;<span class='selected-item__group-name "+o.clsGroupName+"'>"+w+"</span>"),t[0].multiple?(b.addClass("d-none"),c.append(a._addTag(T,b))):(m.find("li.active").removeClass("active").removeClass(o.clsOptionActive),b.addClass("active").addClass(o.clsOptionActive),c.html(T),e.getPlugin(p,"dropdown").close()),r.each(C,function(){this===y&&(this.selected=!0)}),a._fireEvent("item-select",{val:k,option:y,leaf:b[0]}),_=a.getSelected(),a._fireEvent("change",{selected:_})}),c.on("click",".tag .action",function(h){let b=r(this).closest(".tag"),v=b.data("option"),k=v.data("option"),w;v.removeClass("d-none"),r.each(t.find("option"),function(){this===k&&(this.selected=!1)}),b.remove(),a._fireEvent("item-deselect",{option:k}),w=a.getSelected(),a._fireEvent("change",{selected:w}),h.preventDefault(),h.stopPropagation()});let g=Hooks.useDebounce(async h=>{let b=this.element,v=this.options,k=this.list,w=h.target.value,T=`${v.filterSource}${w}`;if(v.filterSource)await this.fetch(T,{method:v.sourceMethod||"GET",headers:{"Content-Type":`application/${v.sourceType||"json"}`}},!0);else{let _=k.find("li"),y,C;for(y=0;y<_.length;y++)r(_[y]).hasClass("group-title")||(C=_[y].getElementsByTagName("a")[0],C.innerHTML.toUpperCase().indexOf(w)>-1?_[y].style.display="":_[y].style.display="none")}},500);d.on(e.events.keyup,g.bind(this)),d.on(e.events.click,function(h){h.preventDefault(),h.stopPropagation()}),p.on(e.events.click,function(h){h.preventDefault(),h.stopPropagation()})},_clearOptions:function(){this.element.clear(),this.list.clear()},disable:function(){this.element.data("disabled",!0),this.element.closest(".select").addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.closest(".select").removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},reset:function(a){let t=this.element,o=t.find("option"),i=t.closest(".select"),p;r.each(o,function(){this.selected=e.utils.isNull(a)?!1:this.defaultSelected}),this.list.find("li").remove(),i.find(".select-input").html(""),this._createOptions(),p=this.getSelected(),this._fireEvent("change",{selected:p})},getSelected:function(){let a=this.element,t=[];return a.find("option").each(function(){this.selected&&t.push(this.value)}),t},val:function(a){let t=this,o=this.element,i=this.options,p=o.siblings(".select-input"),c=o.find("option"),d=this.list.find("li"),m=[],f=o.attr("multiple")!==void 0,u,g,h,b,v,k,w;if(e.utils.isNull(a))return r.each(c,function(){this.selected&&m.push(this.value)}),f?m:m[0];r.each(c,function(){this.selected=!1}),d.removeClass("active").removeClass(i.clsOptionActive),p.html(""),Array.isArray(a)===!1&&(a=[a]),r.each(a,function(){for(g=0;g<c.length;g++)if(u=c[g],h=e.utils.isValue(u.getAttribute("data-template"))?u.getAttribute("data-template").replace("$1",u.text):u.text,""+u.value==""+this){u.selected=!0;break}for(g=0;g<d.length;g++)if(b=r(d[g]),w=b.data("group"),v=b.attr("data-value"),""+v==""+this){i.showGroupName&&w&&(h+="&nbsp;<span class='selected-item__group-name'>"+w+"</span>"),f?(b.addClass("d-none"),p.append(t._addTag(h,b))):(b.addClass("active").addClass(i.clsOptionActive),p.html(h));break}}),k=this.getSelected(),this._fireEvent("change",{selected:k})},options:function(a,t,o){return this.data(a,t,o)},data:function(a,t,o){let i=this.element,p,c,d=o||",";return typeof t=="string"?c=t.toArray(d).map(function(m){return isNaN(m)?m:+m}):Array.isArray(t)?c=t.slice().map(function(m){return isNaN(m)?m:+m}):c=[],this.observer.disconnect(),i.empty(),typeof a=="string"?i.html(a):e.utils.isObject2(a)&&r.each(a,function(m,f){if(e.utils.isObject2(f))p=r("<optgroup label=''>").attr("label",m).appendTo(i),r.each(f,function(u,g){let h=r("<option>").attr("value",u).text(g).appendTo(p);c.indexOf(+u)>-1&&h.prop("selected",!0)});else{let u=r("<option>").attr("value",m).text(f).appendTo(i);c.indexOf(m)>-1&&u.prop("selected",!0)}}),this._createOptions(),this.observer.observe(i[0],{childList:!0,subtree:!0}),this},addOption:function(a,t,o){let i=this.element,p=r("<option>").attr("value",a).text(t||a);return i.append(p),o&&(i[0].multiple||i.find("option").prop("selected",!1),p.prop("selected",!0)),this},addOptions:function(a){let t=this;return a?(this.observer.disconnect(),Array.isArray(a)?r.each(a,function(){let o=this;e.utils.isObject2(o)?t.addOption(o.val,o.title,o.selected):t.addOption(o)}):e.utils.isObject2(a)&&r.each(a,function(o,i){t.addOption(o,i)}),this._createOptions(),this.observer.observe(element[0],{childList:!0,subtree:!0}),this):this},removeOption:function(a){return this.element.find("option").each(function(){let i=r(this);i.attr("value")==a&&i.remove()}),this._createOptions(),this},removeOptions:function(a){let o=this.element.find("option");return!a||!Array.isArray(a)?this:(o.each(function(){let i=r(this),p=i.attr("value");a.indexOf(p)>-1&&i.remove()}),this._createOptions(),this)},fetch:async function(a,t,o=!1){let i=this.element,p=this.options,c=Object.assign({method:"GET",headers:{"Content-Type":`application/${p.sourceType}`}},t),d=await fetch(a,c);if(d.ok===!1)return;o&&this._clearOptions();let m=p.sourceType==="json"?await d.json():await d.text();m=e.utils.exec(p.onData,[m],i[0]),r.each(m,function(){let f=r("<option>").attr("value",this.value).html(this.text);this.icon&&f.attr("data-icon",this.icon),f.appendTo(i)})},changeAttribute:function(a){a==="disabled"&&this.toggleState()},destroy:function(){let a=this.element,t=this.options,o=a.closest(".select"),i=o.find(".drop-container"),p=a.siblings(".select-input"),c=i.find("input"),d=i.find("ul"),m=o.find(".input-clear-button");o.off(e.events.click),o.off(e.events.click,".input-clear-button"),p.off(e.events.click),c.off(e.events.blur),c.off(e.events.focus),d.off(e.events.click,"li"),c.off(e.events.keyup),i.off(e.events.click),m.off(e.events.click),i.data("dropdown").destroy(),t.label&&o.prev("label").remove(),o.remove()}}),r(document).on(e.events.click,function(){r(".select").removeClass("focused")},{ns:"blur-select-elements"})})(Metro,Dom);(function(e,r){"use strict";let l={inputDeferred:0,label:"",autocomplete:null,autocompleteUrl:null,autocompleteUrlMethod:"GET",autocompleteUrlKey:null,autocompleteDivider:",",autocompleteListHeight:200,history:!1,historyPreset:"",historyDivider:"|",preventSubmit:!1,defaultValue:"",size:"default",prepend:"",append:"",searchButton:!1,clearButton:!0,revealButton:!0,randomButton:!1,clearButtonIcon:"\u274C",revealButtonIcon:"\u{1F440}",searchButtonIcon:"\u{1F50D}",randomButtonIcon:"\u{1F3B2}",customButtons:[],searchButtonClick:"submit",randomSymbols:"0123456789;abcdefghijklmnopqrstuvwxyz;ABCDEFGHIJKLMNOPQRSTUVWXYZ;<>!?@#$%^&*()_+",randomLength:12,prependOptions:"",prependOptionsSep:",",appendOptions:"",appendOptionsSep:",",badge:null,clsComponent:"",clsInput:"",clsPrepend:"",clsAppend:"",clsClearButton:"",clsRevealButton:"",clsCustomButton:"",clsSearchButton:"",clsRandomButton:"",clsLabel:"",onAutocompleteSelect:e.noop,onHistoryChange:e.noop,onHistoryUp:e.noop,onHistoryDown:e.noop,onClearClick:e.noop,onRevealClick:e.noop,onSearchButtonClick:e.noop,onEnterClick:e.noop,onInputCreate:e.noop};e.inputSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroInputSetup!==void 0&&e.inputSetup(globalThis.metroInputSetup),e.Component("input",{init:function(a,t){return this._super(t,a,l,{history:[],historyIndex:-1,autocomplete:[],prependOptionsList:null,appendOptionsList:null}),this},_create:function(){let a=this.element;this._createStructure(),this._createEvents(),this._fireEvent("input-create",{element:a})},_createStructure:function(){let a=this,t=this.element,o=this.options,i=t.wrap("<div>").addClass("input "+t[0].className),p,c,d,m,f;e.utils.isValue(o.historyPreset)&&(r.each(o.historyPreset.toArray(o.historyDivider),function(){a.history.push(this)}),a.historyIndex=a.history.length-1),t.attr("type")===void 0&&t.attr("type","text"),p=r("<div>").addClass("button-group").appendTo(i),e.utils.isValue(t.val().trim())||t.val(o.defaultValue),o.clearButton===!0&&!t[0].readOnly&&(c=r("<button>").addClass("button input-clear-button").addClass(o.clsClearButton).attr("tabindex",-1).attr("type","button").html(o.clearButtonIcon).attr("title",this.strings.label_clear_input),c.appendTo(p)),t.attr("type")==="password"&&o.revealButton===!0&&(d=r("<button>").addClass("button input-reveal-button").addClass(o.clsRevealButton).attr("tabindex",-1).attr("type","button").html(o.revealButtonIcon).attr("title",this.strings.label_reveal_password),d.appendTo(p)),o.searchButton===!0&&(m=r("<button>").addClass("button input-search-button").addClass(o.clsSearchButton).attr("tabindex",-1).attr("type",o.searchButtonClick==="submit"?"submit":"button").html(o.searchButtonIcon).attr("title",this.strings.label_search_input),m.appendTo(p)),o.randomButton===!0&&(f=r("<button>").addClass("button input-random-button").addClass(o.clsRandomButton).attr("tabindex",-1).attr("type","button").html(o.randomButtonIcon).attr("title",this.strings.label_generate_random),f.appendTo(p));let u,g;o.prepend&&r("<div>").html(o.prepend).addClass("prepend").addClass(o.clsPrepend).appendTo(i),o.prependOptions&&(u=r("<div>").addClass("prepend-options").appendTo(i),u.append(g=r("<select data-role='select'>").addClass("options-list")),o.prependOptions.toArray(o.prependOptionsSep).forEach(function(b){r("<option>").attr("value",b).html(b).appendTo(g)}),this.prependOptionsList=g),o.append&&r("<div>").html(o.append).addClass("append").addClass(o.clsAppend).appendTo(i),o.appendOptions&&(u=r("<div>").addClass("append-options").appendTo(i),u.append(g=r("<select data-role='select'>").addClass("options-list")),o.appendOptions.toArray(o.appendOptionsSep).forEach(function(b){r("<option>").attr("value",b).html(b).appendTo(g)}),this.appendOptionsList=g);let h=e.utils.isObject(o.customButtons);if(Array.isArray(h)&&r.each(h,function(){let b=this,v=r("<button>");v.addClass("button input-custom-button").addClass(o.clsCustomButton).addClass(b.cls).attr("tabindex",-1).attr("type","button").html(b.text),b.attr&&typeof b.attr=="object"&&r.each(b.attr,function(k,w){v.attr(Str.dashedName(k),w)}),b.onclick&&v.on("click",()=>{b.onclick.apply(v,[t.valueOf(),t])}),v.appendTo(p)}),e.utils.isValue(t.attr("data-exclaim"))&&i.attr("data-exclaim",t.attr("data-exclaim")),t.attr("dir")==="rtl"&&i.addClass("rtl").attr("dir","rtl"),t[0].className="",i.addClass(o.clsComponent),t.addClass(o.clsInput),o.size!=="default"&&i.css({width:o.size}),(!e.utils.isNull(o.autocomplete)||!e.utils.isNull(o.autocompleteUrl))&&r("<div>").addClass("autocomplete-list").css({maxHeight:o.autocompleteListHeight,display:"none"}).appendTo(i),e.utils.isValue(o.autocomplete)){let b=e.utils.isObject(o.autocomplete);b!==!1?this.autocomplete=b:this.autocomplete=o.autocomplete.toArray(o.autocompleteDivider)}if(e.utils.isValue(o.autocompleteUrl)&&fetch(o.autocompleteUrl,{method:o.autocompleteUrlMethod}).then(function(b){return b.text()}).then(function(b){let v=[];try{v=JSON.parse(b),o.autocompleteUrlKey&&(v=v[o.autocompleteUrlKey])}catch{v=b.split(`
`)}a.autocomplete=a.autocomplete.concat(v)}),o.label){let b=r("<label>").addClass("label-for-input").addClass(o.clsLabel).html(o.label).insertBefore(i);if(t.attr("id"))b.attr("for",t.attr("id"));else{let v=Hooks.useId(t[0]);t.id(v),b.attr("for",v)}t.attr("dir")==="rtl"&&b.addClass("rtl")}o.badge&&i.append(r("<div>").addClass("badge").html(o.badge)),t.is(":disabled")?this.disable():this.enable(),this.component=i},_createEvents:function(){let a=this,t=this.element,o=this.options,i=t.closest(".input"),p=i.find(".autocomplete-list");i.on(e.events.click,".input-clear-button",function(){let c=t.val();t.val(e.utils.isValue(o.defaultValue)?o.defaultValue:"").fire("clear").fire("change").fire("keyup").focus(),p.length>0&&p.css({display:"none"}),a._fireEvent("clear-click",{prev:c})}),i.on(e.events.click,".input-reveal-button",function(){t.attr("type")==="password"?t.attr("type","text"):t.attr("type","password"),a._fireEvent("reveal-click",{val:t.val()})}),i.on(e.events.click,".input-search-button",function(){o.searchButtonClick!=="submit"?(console.log("Search button clicked"),a._fireEvent("search-button-click",{val:a.val(),button:this})):this.form&&this.form.submit()}),i.on(e.events.click,".input-random-button",function(){let c=a._generateRandomValue();t.val(c).fire("change").fire("keyup").focus(),a._fireEvent("random-click",{val:c})}),t.on(e.events.keyup,function(c){let d=t.val().trim();o.history&&c.keyCode===e.keyCode.ENTER&&d!==""&&(t.val(""),a.history.push(d),a.historyIndex=a.history.length-1,a._fireEvent("history-change",{val:d,history:a.history,historyIndex:a.historyIndex}),o.preventSubmit===!0&&c.preventDefault()),o.history&&c.keyCode===e.keyCode.UP_ARROW&&(a.historyIndex--,a.historyIndex>=0?(t.val(""),t.val(a.history[a.historyIndex]),a._fireEvent("history-down",{val:t.val(),history:a.history,historyIndex:a.historyIndex})):a.historyIndex=0,c.preventDefault()),o.history&&c.keyCode===e.keyCode.DOWN_ARROW&&(a.historyIndex++,a.historyIndex<a.history.length?(t.val(""),t.val(a.history[a.historyIndex]),a._fireEvent("history-up",{val:t.val(),history:a.history,historyIndex:a.historyIndex})):a.historyIndex=a.history.length-1,c.preventDefault())}),t.on(e.events.keydown,function(c){c.keyCode===e.keyCode.ENTER&&a._fireEvent("enter-click",{val:t.val()})}),t.on(e.events.blur,function(){i.removeClass("focused")}),t.on(e.events.focus,function(){i.addClass("focused")}),t.on(e.events.input,function(){let c=this.value.toLowerCase();a._drawAutocompleteList(c)}),i.on(e.events.click,".autocomplete-list .item",function(){let c=r(this).attr("data-autocomplete-value");t.val(c),p.css({display:"none"}),t.trigger("change"),a._fireEvent("autocomplete-select",{value:c})})},_generateRandomValue:function(){let a=this.options,t=a.randomSymbols.split(";"),o=Math.round(a.randomLength/t.length),i=[];for(let p of t){let c=p.split(""),d=c.length;for(let m=0;m<o;m++)i.push(c[Math.floor(Math.random()*d)])}return i.shuffle().join("")},_drawAutocompleteList:function(a){let t=this,p=this.element.closest(".input").find(".autocomplete-list"),c;p.length!==0&&(p.html(""),c=this.autocomplete.filter(function(d){return d.toLowerCase().indexOf(a)>-1}),p.css({display:c.length>0?"block":"none"}),r.each(c,function(){let d=this,m=d.toLowerCase().indexOf(a),f,u=r("<div>").addClass("item").attr("data-autocomplete-value",d);m===0?f="<strong>"+d.substring(0,a.length)+"</strong>"+d.substring(a.length):f=d.substring(0,m)+"<strong>"+d.substring(m,a.length)+"</strong>"+d.substring(m+a.length),u.html(f).appendTo(p),t._fireEvent("draw-autocomplete-item",{item:u})}))},getHistory:function(){return this.history},getHistoryIndex:function(){return this.historyIndex},setHistoryIndex:function(a){this.historyIndex=a>=this.history.length?this.history.length-1:a},setHistory:function(a,t){let o=this,i=this.options;e.utils.isNull(a)||(!Array.isArray(a)&&typeof a=="string"&&(a=a.toArray(i.historyDivider)),t===!0?r.each(a,function(){o.history.push(this)}):this.history=a,this.historyIndex=this.history.length-1)},clear:function(){this.element.val("")},toDefault:function(){this.element.val(e.utils.isValue(this.options.defaultValue)?this.options.defaultValue:"")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},setAutocompleteList:function(a){let t=e.utils.isObject(a);t!==!1?this.autocomplete=t:typeof a=="string"&&(this.autocomplete=a.toArray(this.options.autocompleteDivider))},val:function(a,t=";"){let o=this.element,i=this.options;if(!e.utils.isValue(a)){let f=o.val();return i.prependOptions&&(f=this.prependOptionsList.val()+f),i.appendOptions&&(f=f+this.appendOptionsList.val()),f}let p=a.split(t),c="",d="",m;i.prependOptions&&(c=p.shift(),e.getPlugin(this.prependOptionsList,"select").val(c),console.log(c)),i.appendOptions&&(d=p.pop(),e.getPlugin(this.appendOptionsList,"select").val(d)),m=p.join(""),o.val(m)},prependOptionsVal:function(a){this.options.prependOptions&&(e.utils.isValue(a)||this.prependOptionsList.val(),this.prependOptionsList.val(a))},appendOptionsVal:function(a){if(this.options.appendOptions){if(!e.utils.isValue(a))return this.appendOptionsList.val();this.appendOptionsList.val(a)}},changeAttribute:function(a){switch(a){case"disabled":this.toggleState();break}},destroy:function(){let a=this.element,t=this.options,o=a.parent(),i=o.find(".input-clear-button"),p=o.find(".input-reveal-button"),c=o.find(".input-custom-button");i.length>0&&i.off(e.events.click),p.length>0&&(p.off(e.events.start),p.off(e.events.stop)),c.length>0&&i.off(e.events.click),a.off(e.events.blur),a.off(e.events.focus),t.label&&o.prev("label").remove(),o.remove()}}),r(document).on(e.events.click,function(){r(".input .autocomplete-list").hide()})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={chatDeferred:0,inputTimeFormat:null,timeFormat:"D MMM hh:mm A",name:"John Doe",avatar:"<span>\u{1F466}</span>",welcome:null,welcomeAvatar:"<span>\u{1F47D}</span>",title:null,width:"100%",height:"auto",messages:null,sendButtonTitle:"",sendButtonIcon:"",readonly:!1,clsChat:"",clsName:"",clsTime:"",clsInput:"",clsSendButton:"",clsMessageLeft:"default",clsMessageRight:"default",onMessage:e.noop,onSend:e.noop,onSendButtonClick:e.noop,onChatCreate:e.noop};e.chatSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroChatSetup!==void 0&&e.chatSetup(globalThis.metroChatSetup),e.Component("chat",{init:function(t,o){return this._super(o,t,a,{input:null,classes:"primary secondary success alert warning yellow info dark light".split(" "),lastMessage:null}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("chat-create",{element:t})},_createStructure:function(){var t=this,o=this.element,i=this.options,p,c,d,m=[{html:`${i.sendButtonTitle||this.strings.label_send}${i.sendButtonIcon}`,cls:i.clsSendButton+" js-chat-send-button",onclick:i.onSendButtonClick}];o.addClass("chat").addClass(i.clsChat),o.css({width:i.width,height:i.height}),l.isValue(i.title)&&r("<div>").addClass("title").html(i.title).appendTo(o),p=r("<div>").addClass("messages"),p.appendTo(o),c=r("<div>").addClass("message-input").appendTo(o),d=r("<input type='text'>").addClass("chat-input"),d.appendTo(c),setTimeout(()=>{e.makePlugin(d[0],"input",{customButtons:m,clsInput:i.clsInput})}),i.welcome&&this.add({text:i.welcome,time:datetime(),position:"left",name:"Chat Bot",avatar:i.welcomeAvatar}),l.isValue(i.messages)&&typeof i.messages=="string"&&(i.messages=l.isObject(i.messages)),!l.isNull(i.messages)&&typeof i.messages=="object"&&l.objectLength(i.messages)>0&&r.each(i.messages,function(){t.add(this)}),o.find(".message-input")[i.readonly?"addClass":"removeClass"]("disabled")},_createEvents:function(){var t=this,o=this.element,i=this.options,p=function(){var c=o.find(".chat-input input"),d=""+c.val(),m;if(d.trim()==="")return!1;m={id:l.elementId("chat-message"),name:i.name,avatar:i.avatar,text:d,position:"right",time:datetime()},t.add(m),c.val(""),t._fireEvent("send",{msg:m}),c.focus()};o.on(e.events.click,".js-chat-send-button",function(){p()}),o.on(e.events.keyup,".chat-input > input",function(c){c.keyCode===e.keyCode.ENTER&&p()})},add:function(t){var o=this,i=this.element,p=this.options,c=this.locale,d,m,f,u,g,h,b=i.find(".messages"),v;if(v=p.inputTimeFormat?Datetime.from(t.time,p.inputTimeFormat,c):datetime(t.time),d=r("<div>").addClass("message").addClass(t.position).appendTo(b),u=r("<div>").addClass("message-item").appendTo(d),e.utils.isUrl(t.avatar)||t.avatar.includes("data:image"))g=r("<img>").attr("src",t.avatar).attr("alt",t.avatar).addClass("message-avatar").appendTo(u);else if(t.avatar){let k=r(t.avatar);k.length?g=k.addClass("message-avatar").appendTo(u):g=r("<span>").addClass("message-avatar").html(t.avatar).appendTo(u)}return h=r("<div>").addClass("message-text").append(r("<div>").addClass("message-text-inner").html(Str.escapeHtml(t.text))).appendTo(u),f=r("<div>").addClass("message-time").addClass(p.clsTime).text(v.format(p.timeFormat)).appendTo(h),m=r("<div>").addClass("message-sender").addClass(p.clsName).text(t.name).appendTo(h),l.isValue(t.id)&&d.attr("id",t.id),t.position==="left"&&l.isValue(p.clsMessageLeft)&&h.addClass(p.clsMessageLeft),t.position==="right"&&l.isValue(p.clsMessageRight)&&h.addClass(p.clsMessageRight),this.lastMessage&&this.lastMessage.position===t.position&&(h.addClass("--next"),g.visible(!1),m.hide()),o._fireEvent("message",{msg:t,el:{message:d,sender:m,time:f,item:u,avatar:g,text:h}}),b.animate({draw:{scrollTop:b[0].scrollHeight},dur:1e3}),this.lastMessage=t,this},addMessages:function(t){var o=this;return l.isValue(t)&&typeof t=="string"&&(t=l.isObject(t)),typeof t=="object"&&l.objectLength(t)>0&&r.each(t,function(){o.add(this)}),this},delMessage:function(t){var o=this.element;return o.find(".messages").find("#"+t).remove(),this},updMessage:function(t){var o=this.element,i=o.find(".messages").find("#"+t.id);let p=this.options,c=this.locale;if(i.length===0)return this;let d=p.inputTimeFormat?Datetime.from(t.time,p.inputTimeFormat,c):datetime(t.time);return i.find(".message-text-inner").html(t.text),i.find(".message-time").html(d.format(p.timeFormat)),this},clear:function(){var t=this.element,o=t.find(".messages");o.html(""),this.lastMessage=null},toggleReadonly:function(t){var o=this.element,i=this.options;i.readonly=typeof t>"u"?!i.readonly:t,o.find(".message-input")[i.readonly?"addClass":"removeClass"]("disabled")},changeAttribute:function(t){switch(t){case"data-readonly":this.toggleReadonly();break}},destroy:function(){var t=this.element,o=t.find(".js-chat-send-button"),i=t.find("input[type=text]");return o.off(e.events.click),i.off(e.events.keyup),t}}),e.defaults.Chat=a})(Metro,Dom);(function(e,r){"use strict";globalThis.CHECKBOX_STATE={CHECKED:1,UNCHECKED:-1,INDETERMINATE:0};let l={checkboxDeferred:0,state:CHECKBOX_STATE.UNCHECKED,threeState:!1,prepend:"",append:"",caption:"",clsCheckbox:"",clsCaption:"",clsPrepend:"",clsAppend:"",onCheckboxCreate:e.noop};e.metroCheckboxSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroCheckboxSetup!==void 0&&e.metroCheckboxSetup(globalThis.metroCheckboxSetup),e.Component("checkbox",{init:function(a,t){return this._super(t,a,l,{origin:{className:""},state:CHECKBOX_STATE.UNCHECKED}),this},_create:function(){let a=this.options;(a.threeState===!1&&a.state===0||a.state==="indeterminate")&&(a.state=CHECKBOX_STATE.UNCHECKED),a.state===CHECKBOX_STATE.UNCHECKED||a.state==="unchecked"?this.state=CHECKBOX_STATE.UNCHECKED:a.state===0||a.state==="indeterminate"?this.state=CHECKBOX_STATE.INDETERMINATE:this.state=CHECKBOX_STATE.CHECKED,this._createStructure(),this._createEvents(),this._fireEvent("checkbox-create")},_indeterminate:function(a=!0){let t=this.element;t[0].indeterminate=a,t.attr("data-indeterminate",a)},_createStructure:function(){let a=this.element,t=this.options,o=a.wrap("<label>").addClass("checkbox").addClass(t.clsCheckbox);a.attr("type","checkbox"),t.prepend&&o.prepend(r("<span>").addClass("caption-prepend").addClass(t.clsPrepend).addClass(t.clsCaption).html(t.prepend)),t.append&&o.append(r("<span>").addClass("caption-append").addClass(t.clsAppend).addClass(t.clsCaption).html(t.append)),a.attr("readonly")!==void 0&&a.on("click",function(i){i.preventDefault()}),this.elem.checked&&this.state!==CHECKBOX_STATE.INDETERMINATE&&(this.state=!0),this._drawState()},_drawState:function(){let a=this.elem;this._indeterminate(!1),a.checked=this.state!==CHECKBOX_STATE.UNCHECKED,this.state===CHECKBOX_STATE.INDETERMINATE&&this._indeterminate(!0)},_createEvents:function(){let a=this.element,t=this.options,o=this;a.on("click",function(){o.state++,o.state===0&&t.threeState===!1&&(o.state=1),o.state===2&&(o.state=-1),o._drawState()})},check:function(){this.setCheckState(CHECKBOX_STATE.CHECKED)},uncheck:function(){this.setCheckState(CHECKBOX_STATE.UNCHECKED)},indeterminate:function(){this.setCheckState(CHECKBOX_STATE.INDETERMINATE)},setCheckState:function(a){return a===-1||a==="unchecked"?this.state=CHECKBOX_STATE.UNCHECKED:a===0||a==="indeterminate"?this.state=CHECKBOX_STATE.INDETERMINATE:this.state=CHECKBOX_STATE.CHECKED,this._drawState(),this},getCheckState:function(a=!1){if(!a)return this.state;switch(this.state){case-1:return"unchecked";case 0:return"indeterminate";case 1:return"checked"}},toggle:function(){this.state++,this.state===2&&(this.state=-1),this._drawState()},changeAttribute:function(a,t){let o=function(i){this.toggle(i)};switch(a){case"data-state":o(t);break}},destroy:function(){let a=this.element;a.off("click"),a.parent().remove()}})})(Metro,Dom);(function(e,r){"use strict";let l={clockDeferred:0,show:"row",showTime:!0,showDate:!0,dateFormat:"DD.MM.YYYY",timeFormat:"HH:mm",divider:"&nbsp;&nbsp;",twoLines:!1,onTick:e.noop,onSecond:e.noop,onClockCreate:e.noop};e.clockSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroClockSetup!==void 0&&e.clockSetup(globalThis.metroClockSetup),e.Component("clock",{init:function(a,t){return this._super(t,a,l,{_clockInterval:null}),this},_create:function(){let a=this,t=this.element,o=this.options;t.addClass("clock"),o.show==="column"&&t.addClass("show-column"),this._fireEvent("clock-create",{element:t}),this._tick(),this._clockInterval=setInterval(function(){a._tick()},500),this._secondInterval=setInterval(function(){a._second()},1e3)},_second:function(){let a=new Date;this._fireEvent("second",{timestamp:a})},_tick:function(){let a=this.element,t=this.options,o=datetime(),i="",p=o.format(t.dateFormat),c=o.format(t.timeFormat);t.showTime&&(i=`<span class="clock-time">${c}</span>`),t.showDate&&(i+=`<span class="clock-date">${p}</span>`),a.html(i),this._fireEvent("tick",{timestamp:o})},changeAttribute:function(a,t){switch(a){case"data-date-format":this.options.dateFormat=t;break;case"data-time-format":this.options.timeFormat=t;break;case"data-show-date":this.options.showDate=JSON.parse(t);break;case"data-show-time":this.options.showTime=JSON.parse(t);break;case"data-divider":this.options.divider=t;break;case"data-two-lines":this.options.twoLines=JSON.parse(t);break}this._tick()},destroy:function(){clearInterval(this._clockInterval),this._clockInterval=null,this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l={collapseDeferred:0,collapsed:!1,toggleElement:!1,duration:100,onExpand:e.noop,onCollapse:e.noop,onCollapseCreate:e.noop};e.collapseSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroCollapseSetup!==void 0&&e.collapseSetup(globalThis.metroCollapseSetup),e.Component("collapse",{init:function(a,t){return this._super(t,a,l,{toggle:null}),this},_create:function(){var a=this,t=this.element,o=this.options,i;i=o.toggleElement!==!1?r(o.toggleElement):t.siblings(".collapse-toggle").length>0?t.siblings(".collapse-toggle"):t.siblings("a:nth-child(1)"),(o.collapsed===!0||t.attr("collapsed")===!0)&&t.hide(0),i.on(e.events.click,function(p){t.css("display")!=="none"&&!t.hasClass("keep-open")?a._close(t):a._open(t),["INPUT"].indexOf(p.target.tagName)===-1&&p.preventDefault(),p.stopPropagation()}),this.toggle=i,this._fireEvent("collapse-create",{element:t})},_close:function(a,t){var o=r(a),i=o.data("collapsed");if(!i){var p=e.getPlugin(o[0],"collapse"),c=p.options,d=t?"show":"slideUp",m=t?0:c.duration;this.toggle.removeClass("active-toggle"),o[d](m,function(){a.trigger("onCollapse",null,a),a.data("collapsed",!0),a.addClass("collapsed"),p._fireEvent("collapse")})}},_open:function(a,t){var o=r(a),i=o.data("collapsed");if(i){var p=e.getPlugin(o[0],"collapse"),c=p.options,d=t?"show":"slideDown",m=t?0:c.duration;this.toggle.addClass("active-toggle"),o[d](m,function(){a.trigger("onExpand",null,a),a.data("collapsed",!1),a.removeClass("collapsed"),p._fireEvent("expand")})}},collapse:function(a){this._close(this.element,a)},expand:function(a){this._open(this.element,a)},close:function(a){this._close(this.element,a)},open:function(a){this._open(this.element,a)},isCollapsed:function(){return this.element.data("collapsed")},toggleState:function(){var a=this.element;a.attr("collapsed")===!0||a.data("collapsed")===!0?this.collapse():this.expand()},changeAttribute:function(a){switch(a){case"collapsed":case"data-collapsed":this.toggleState();break}},destroy:function(){return this.toggle.off(e.events.click),this.element}})})(Metro,Dom);(function(e,r){"use strict";let l={radioDeferred:0,prepend:"",append:"",caption:"",clsRadio:"",clsCaption:"",clsPrepend:"",clsAppend:"",onRadioCreate:e.noop};e.metroRadioSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroRadioSetup!==void 0&&e.metroRadioSetup(globalThis.metroRadioSetup),e.Component("radio",{init:function(a,t){return this._super(t,a,l,{origin:{className:""}}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("radio-create")},_createStructure:function(){let a=this.element,t=this.options,o=a.wrap("<label>").addClass("radio").addClass(t.clsCheckbox);a.attr("type","radio"),t.prepend&&o.prepend(r("<span>").addClass("caption-prepend").addClass(t.clsPrepend).addClass(t.clsCaption).html(t.prepend)),t.append&&o.append(r("<span>").addClass("caption-append").addClass(t.clsAppend).addClass(t.clsCaption).html(t.append)),a.attr("readonly")!==void 0&&a.on("click",function(i){i.preventDefault()}),this.elem.checked&&(this.state=!0),this._drawState()},_drawState:function(){},_createEvents:function(){let a=this.element,t=this.options,o=this;a.on("click",function(){o._drawState()})},check:function(){this.setCheckState(CHECKBOX_STATE.CHECKED)},uncheck:function(){this.setCheckState(CHECKBOX_STATE.UNCHECKED)},setCheckState:function(a=!0){return this.elem.checked=a,this._drawState(),this},getCheckState:function(a=!1){let t=this.elem.checked;if(!a)return t;switch(this.state){case!1:return"unchecked";case!0:return"checked"}},toggle:function(){this.elem.checked=!this.elem.checked,this._drawState()},changeAttribute:function(a,t){},destroy:function(){let a=this.element;a.off("click"),a.parent().remove()}})})(Metro,Dom);(function(e,r){"use strict";let l="hex, rgb, rgba, hsl, hsla, hsv, cmyk",a={defaultSwatches:"#FFFFFF,#000000,#FFFB0D,#0532FF,#FF9300,#00F91A,#FF2700,#686868,#EE5464,#D27AEE,#5BA8C4,#E64AA9,#1ba1e2,#6a00ff,#bebebe,#f8f8f8",userColors:null,returnValueType:"hex",returnAsString:!0,showValues:l,showAsString:null,showUserColors:!0,controller:null,addUserColorTitle:null,userColorsTitle:null,hslMode:"percent",showAlphaChannel:!0,inputThreshold:300,initColor:null,readonlyInput:!1,clsSelector:"",clsSwatches:"",clsSwatch:"",clsValue:"",clsLabel:"",clsInput:"",clsUserColorButton:"",clsUserColors:"",clsUserColorsTitle:"",clsUserColor:"",onSelectColor:e.noop,onColorSelectorCreate:e.noop};e.colorSelectorSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroColorSelectorSetup!==void 0&&e.colorSelectorSetup(globalThis.metroColorSelectorSetup),e.Component("color-selector",{init:function(t,o){return this._super(o,t,a,{id:e.utils.elementId("color-selector"),defaultSwatches:[],showValues:[],userColors:[],showAsString:[],hue:0,saturation:0,lightness:1,alpha:1,hsl:null,hsla:null,hsv:null,rgb:null,rgba:null,cmyk:null,hex:null,inputInterval:null,controller:null}),this},_create:function(){let t=this.options;e.utils.isValue(t.defaultSwatches)&&(this.defaultSwatches=t.defaultSwatches.toArray(",").map(function(o){return o.toUpperCase()})),e.utils.isValue(t.showValues)&&(this.showValues=t.showValues.toArray(",")),e.utils.isValue(t.userColors)&&(this.userColors=t.userColors.toArray(",").map(function(o){return o.toUpperCase()})),e.utils.isValue(t.showAsString)&&(this.showAsString=t.showAsString.toArray(",")),this._createStructure(),this._createEvents(),this._setColorValues(),this._fireEvent("color-selector-create")},_createStructure:function(){let t=this,o=this.element,i=this.options,p=this.strings,c,d,m,f,u,g,h,b,v,k,w,T,_,y,C;o.addClass("color-selector").addClass(i.clsSelector),o.append(c=r("<div>").addClass("color-box")),c.append(d=r("<div>").addClass("row")),d.append(m=r("<div>").addClass("default-swatches").addClass(i.clsSwatches)),r.each(this.defaultSwatches,function(){m.append(r("<button>").attr("data-color",this).attr("type","button").addClass("swatch").addClass(i.clsSwatch).css("background-color",this))}),c.append(d=r("<div>").addClass("row")),d.append(f=r("<div>").addClass("color-map")),f.append(T=r("<button>").attr("type","button").addClass("cursor color-cursor dragging")),f.append(k=r("<canvas>").addClass("color-canvas")),d.append(f=r("<div>").addClass("hue-map")),f.append(w=r("<button>").attr("type","button").addClass("cursor hue-cursor dragging")),f.append(v=r("<canvas>").addClass("hue-canvas")),d.append(f=r("<div>").addClass("alpha-map")),f.append(C=r("<button>").attr("type","button").addClass("cursor alpha-cursor dragging")),f.append(y=r("<canvas>").addClass("alpha-canvas")),c.append(d=r("<div>").addClass("row color-values-block")),d.append(u=r("<div>").addClass("color-value-hex")),u.append(r("<input type='radio' name='returnType' value='hex' checked>").addClass("check-color-value-hex")),u.append(_=r("<div>").addClass("color-block as-string color-hex")),_.append(r("<input type='text' data-prepend='HEX:'>").addClass("input-small value-hex")),d.append(u=r("<div>").addClass("color-value-rgb")),u.append(r("<input type='radio' name='returnType' value='rgb'>").addClass("check-color-value-rgb")),u.append(_=r("<div>").addClass("color-block color-rgb")),_.append(r("<input type='text' data-prepend='R:'>").addClass("input-small value-r")),_.append(r("<input type='text' data-prepend='G:'>").addClass("input-small value-g")),_.append(r("<input type='text' data-prepend='B:'>").addClass("input-small value-b")),u.append(_=r("<div>").addClass("color-block as-string color-rgb")),_.append(r("<input type='text' data-prepend='RGB:'>").addClass("input-small value-rgb")),this.showAsString.indexOf("rgb")>-1?u.find(".value-r,.value-g,.value-b").parent().hide():u.find(".value-rgb").parent().hide(),d.append(u=r("<div>").addClass("color-value-rgba")),u.append(r("<input type='radio' name='returnType' value='rgba'>").addClass("check-color-value-rgba")),u.append(_=r("<div>").addClass("color-block color-rgba")),_.append(r("<input type='text' data-prepend='R:'>").addClass("input-small value-r")),_.append(r("<input type='text' data-prepend='G:'>").addClass("input-small value-g")),_.append(r("<input type='text' data-prepend='B:'>").addClass("input-small value-b")),_.append(r("<input type='text' data-prepend='A:'>").addClass("input-small value-a")),u.append(_=r("<div>").addClass("color-block as-string color-rgba")),_.append(r("<input type='text' data-prepend='RGBA:'>").addClass("input-small value-rgba")),this.showAsString.indexOf("rgba")>-1?u.find(".value-r,.value-g,.value-b,.value-a").parent().hide():u.find(".value-rgba").parent().hide(),d.append(u=r("<div>").addClass("color-value-hsl")),u.append(r("<input type='radio' name='returnType' value='hsl'>").addClass("check-color-value-hsl")),u.append(_=r("<div>").addClass("color-block color-hsl")),_.append(r("<input type='text' data-prepend='H:'>").addClass("input-small value-h")),_.append(r("<input type='text' data-prepend='S:'>").addClass("input-small value-s")),_.append(r("<input type='text' data-prepend='L:'>").addClass("input-small value-l")),u.append(_=r("<div>").addClass("color-block as-string color-hsl")),_.append(r("<input type='text' data-prepend='HSL:'>").addClass("input-small value-hsl")),this.showAsString.indexOf("hsl")>-1?u.find(".value-h,.value-s,.value-l").parent().hide():u.find(".value-hsl").parent().hide(),d.append(u=r("<div>").addClass("color-value-hsla")),u.append(r("<input type='radio' name='returnType' value='hsla'>").addClass("check-color-value-hsla")),u.append(_=r("<div>").addClass("color-block color-hsla")),_.append(r("<input type='text' data-prepend='H:'>").addClass("input-small value-h")),_.append(r("<input type='text' data-prepend='S:'>").addClass("input-small value-s")),_.append(r("<input type='text' data-prepend='L:'>").addClass("input-small value-l")),_.append(r("<input type='text' data-prepend='A:'>").addClass("input-small value-a")),u.append(_=r("<div>").addClass("color-block as-string color-hsla")),_.append(r("<input type='text' data-prepend='HSLA:'>").addClass("input-small value-hsla")),this.showAsString.indexOf("hsla")>-1?u.find(".value-h,.value-s,.value-l,.value-a").parent().hide():u.find(".value-hsla").parent().hide(),d.append(u=r("<div>").addClass("color-value-hsv")),u.append(r("<input type='radio' name='returnType' value='hsv'>").addClass("check-color-value-hsl")),u.append(_=r("<div>").addClass("color-block color-hsv")),_.append(r("<input type='text' data-prepend='H:'>").addClass("input-small value-h")),_.append(r("<input type='text' data-prepend='S:'>").addClass("input-small value-s")),_.append(r("<input type='text' data-prepend='V:'>").addClass("input-small value-v")),u.append(_=r("<div>").addClass("color-block as-string color-hsv")),_.append(r("<input type='text' data-prepend='HSV:'>").addClass("input-small value-hsv")),this.showAsString.indexOf("hsv")>-1?u.find(".value-h,.value-s,.value-v").parent().hide():u.find(".value-hsv").parent().hide(),d.append(u=r("<div>").addClass("color-value-cmyk")),u.append(r("<input type='radio' name='returnType' value='cmyk'>").addClass("check-color-value-cmyk")),u.append(_=r("<div>").addClass("color-block color-cmyk")),_.append(r("<input type='text' data-prepend='C:'>").addClass("input-small value-c")),_.append(r("<input type='text' data-prepend='M:'>").addClass("input-small value-m")),_.append(r("<input type='text' data-prepend='Y:'>").addClass("input-small value-y")),_.append(r("<input type='text' data-prepend='K:'>").addClass("input-small value-k")),u.append(_=r("<div>").addClass("color-block as-string color-cmyk")),_.append(r("<input type='text' data-prepend='CMYK:'>").addClass("input-small value-cmyk")),this.showAsString.indexOf("cmyk")>-1?u.find(".value-s,.value-m,.value-y,.value-k").parent().hide():u.find(".value-cmyk").parent().hide(),c.append(d=r("<div>").addClass("row user-colors-css-container")),d.append(r("<div>").addClass("user-colors-title").addClass(i.clsUserColorsTitle).html(i.userColorsTitle||p.label_user_colors)),d.append(r("<div>").addClass("user-colors").addClass(i.clsUserColors)),d.append(b=r("<div>").addClass("user-colors-actions")),b.append(r("<button>").addClass("button add-button").addClass(i.clsUserColorButton).html("<span class='user-swatch'></span><span>"+(i.addUserColorTitle||p.label_add_user_color)+"</span>")),g=c.find("input[type=text]"),e.makePlugin(g,"input",{clearButton:!1,clsPrepend:i.clsLabel,clsComponent:i.clsInput}),g.addClass(i.clsValue),i.readonlyInput&&g.attr("readonly",!0),h=c.find("input[type=radio]").each(function(){r(this).attr("name",t.id+"-returnType")}),h.each(function(){r(this).val()===i.returnValueType&&(this.checked=!0)}),e.makePlugin(h,"radio"),r.each(l.toArray(","),function(){t.showValues.indexOf(this)===-1&&o.find(".color-value-"+this).hide()}),i.showUserColors||o.find(".user-colors-css-container").hide(),i.showAlphaChannel||(o.addClass("no-alpha-channel"),r.each(["rgba","hsla"],function(){o.find(".color-value-"+this).hide()})),this._fillUserColors(),this.hueCanvas=v,this.hueCursor=w,this.shadeCanvas=k,this.shadeCursor=T,this.alphaCanvas=y,this.alphaCursor=C,this._createShadeCanvas(),this._createHueCanvas(),this._createAlphaCanvas(),this._setColorValues(),this._updateCursorsColor(),i.initColor&&Farbe.Routines.isColor(i.initColor)&&this._colorToPos(typeof i.initColor=="string"?Farbe.Routines.parse(i.initColor):i.initColor),this.controller=i.controller?r(i.controller):null},_createShadeCanvas:function(t){let o=this.shadeCanvas[0],i=o.getContext("2d");i.clearRect(0,0,o.width,o.height),t||(t="#f00"),i.clearRect(0,0,o.width,o.height),i.fillStyle=t,i.fillRect(0,0,o.width,o.height);let p=i.createLinearGradient(0,0,o.width,0);p.addColorStop(0,"#fff"),p.addColorStop(1,"transparent"),i.fillStyle=p,i.fillRect(0,0,o.width,o.height);let c=i.createLinearGradient(0,0,0,o.height);c.addColorStop(0,"transparent"),c.addColorStop(1,"#000"),i.fillStyle=c,i.fillRect(0,0,o.width,o.height)},_createHueCanvas:function(){let t=this.hueCanvas[0],o=t.getContext("2d"),i=o.createLinearGradient(0,0,0,t.height);i.addColorStop(0,"hsl(0,100%,50%)"),i.addColorStop(.17,"hsl(298.8, 100%, 50%)"),i.addColorStop(.33,"hsl(241.2, 100%, 50%)"),i.addColorStop(.5,"hsl(180, 100%, 50%)"),i.addColorStop(.67,"hsl(118.8, 100%, 50%)"),i.addColorStop(.83,"hsl(61.2,100%,50%)"),i.addColorStop(1,"hsl(360,100%,50%)"),o.clearRect(0,0,t.width,t.height),o.fillStyle=i,o.fillRect(0,0,t.width,t.height)},_createAlphaCanvas:function(){let t=this.alphaCanvas[0],o=t.getContext("2d"),i=o.createLinearGradient(0,0,0,t.height),p=new Farbe.Primitives.HSLA(this.hue,1,.5,1).toString(),c="rgba(0,0,0,0)";i.addColorStop(0,p),i.addColorStop(1,c),o.clearRect(0,0,t.width,t.height),o.fillStyle=i,o.fillRect(0,0,t.width,t.height)},_updateHueCursor:function(t){this.hueCursor.css({top:t})},_updateAlphaCursor:function(t){this.alphaCursor.css({top:t})},_getHueColor:function(t){let o=this.hueCanvas,i=o.offset(),p=o.height(),c,d,m,f;c=t-i.top,c>p&&(c=p),c<0&&(c=0),d=c/p,f=360-360*d,f===360&&(f=0),m="hsl("+f+", 100%, 50%)",this.hue=f,this._createShadeCanvas(m),this._createAlphaCanvas(),this._updateHueCursor(c),this._updateCursorsColor(),this._setColorValues()},_getAlphaValue:function(t){let o=this.alphaCanvas,i=o.offset(),p=o.height(),c,d;c=t-i.top,c>p&&(c=p),c<0&&(c=0),d=1-c/p,this.alpha=d.toFixed(2),this._updateAlphaCursor(c),this._updateCursorsColor(),this._setColorValues()},_getShadeColor:function(t,o){let i=this.shadeCanvas,p=i.offset(),c=i.width(),d=i.height(),m=t-p.left,f=o-p.top;m>c&&(m=c),m<0&&(m=0),f>d&&(f=d),f<0&&(f=.1);let u=m/c*100,h=1-f/d*100/100,b=u/100,v=h/2*(2-b),k=h*b/(1-Math.abs(2*v-1));isNaN(v)&&(v=0),isNaN(k)&&(k=0),this.lightness=v,this.saturation=k,this._updateShadeCursor(m,f),this._updateCursorsColor(),this._setColorValues()},_updateCursorsColor:function(){this.shadeCursor.css({backgroundColor:Farbe.Routines.toHEX(new Farbe.Primitives.HSL(this.hue,this.saturation,this.lightness))}),this.hueCursor.css({backgroundColor:Farbe.Routines.toHEX(new Farbe.Primitives.HSL(this.hue,1,.5))}),this.alphaCursor.css({backgroundColor:Farbe.Routines.toRGBA(new Farbe.Primitives.HSL(this.hue,1,.5),this.alpha).toString()})},_updateShadeCursor:function(t,o){this.shadeCursor.css({top:o,left:t})},_colorToPos:function(t){let o=this.shadeCanvas[0].getBoundingClientRect(),i=this.hueCanvas[0].getBoundingClientRect(),p=this.alphaCanvas[0].getBoundingClientRect(),c=Farbe.Routines.toHSL(t),d=Farbe.Routines.toHSLA(t),m=Farbe.Routines.toHSV(t),f=o.width*m.s,u=o.height*(1-m.v),g=i.height-c.h/360*i.height,h=(1-d.a)*p.height;this.hue=c.h,this.saturation=c.s,this.lightness=c.l,this.alpha=d.a,this._updateHueCursor(g),this._updateShadeCursor(f,u),this._updateAlphaCursor(h),this._updateCursorsColor(),this._createShadeCanvas("hsl("+this.hue+", 100%, 50%)"),this._createAlphaCanvas(),this._setColorValues()},_setColorValues:function(){let t=this.element,o=this.options,i=new Farbe.Primitives.HSL(this.hue,this.saturation,this.lightness),p=new Farbe.Primitives.HSLA(this.hue,this.saturation,this.lightness,this.alpha),c=Farbe.Routines.toRGB(i),d=Farbe.Routines.toRGBA(c,this.alpha),m=Farbe.Routines.toHSV(i),f=Farbe.Routines.toCMYK(i),u=Farbe.Routines.toHEX(i),g=this.controller,h=o.hslMode==="percent";this.hsl=i,this.hsla=p,this.hsv=m,this.rgb=c,this.rgba=d,this.hex=u,this.cmyk=f,t.find(".color-value-hex .value-hex input").val(u),t.find(".color-value-rgb .value-r input").val(c.r),t.find(".color-value-rgb .value-g input").val(c.g),t.find(".color-value-rgb .value-b input").val(c.b),t.find(".color-value-rgb .value-rgb input").val(c.toString()),t.find(".color-value-rgba .value-r input").val(d.r),t.find(".color-value-rgba .value-g input").val(d.g),t.find(".color-value-rgba .value-b input").val(d.b),t.find(".color-value-rgba .value-a input").val(d.a),t.find(".color-value-rgba .value-rgba input").val(d.toString()),t.find(".color-value-hsl .value-h input").val(i.h.toFixed(0)),t.find(".color-value-hsl .value-s input").val(h?Math.round(i.s*100)+"%":i.s.toFixed(4)),t.find(".color-value-hsl .value-l input").val(h?Math.round(i.l*100)+"%":i.l.toFixed(4)),t.find(".color-value-hsl .value-hsl input").val(i.toString()),t.find(".color-value-hsla .value-h input").val(p.h.toFixed(0)),t.find(".color-value-hsla .value-s input").val(h?Math.round(p.s*100)+"%":i.s.toFixed(4)),t.find(".color-value-hsla .value-l input").val(h?Math.round(p.l*100)+"%":i.l.toFixed(4)),t.find(".color-value-hsla .value-a input").val(p.a),t.find(".color-value-hsla .value-hsla input").val(p.toString()),t.find(".color-value-hsv .value-h input").val(m.h.toFixed(0)),t.find(".color-value-hsv .value-s input").val(h?Math.round(m.s*100)+"%":m.s.toFixed(4)),t.find(".color-value-hsv .value-v input").val(h?Math.round(m.v*100)+"%":m.v.toFixed(4)),t.find(".color-value-hsv .value-hsv input").val(m.toString()),t.find(".color-value-cmyk .value-c input").val(f.c.toFixed(0)),t.find(".color-value-cmyk .value-m input").val(f.m.toFixed(0)),t.find(".color-value-cmyk .value-y input").val(f.y.toFixed(0)),t.find(".color-value-cmyk .value-k input").val(f.k.toFixed(0)),t.find(".color-value-cmyk .value-cmyk input").val(f.toString()),t.find(".user-colors-actions .user-swatch").css({backgroundColor:u});let b=this.getVal();g&&g.length&&g.val(b),this._fireEvent("select-color",{color:b,primitive:{hsl:this.hsl,hsla:this.hsla,rgb:this.rgb,rgba:this.rgba,hsv:this.hsv,cmyk:this.cmyk,hex:this.hex}})},_clearInputInterval:function(){clearInterval(this.inputInterval),this.inputInterval=!1},_createEvents:function(){let t=this,o=this.element,i=this.options,p=o.find(".hue-map"),c=o.find(".alpha-map"),d=o.find(".color-map"),m=this.controller,f=o.find(".color-values-block input[type=text]"),u=g=>{let h=r(g.target),b=h.closest(".color-block"),v,k,w;b.hasClass("color-hex")?v="hex":b.hasClass("color-rgb")?v="rgb":b.hasClass("color-rgba")?v="rgba":b.hasClass("color-hsl")?v="hsl":b.hasClass("color-hsla")?v="hsla":b.hasClass("color-hsv")?v="hsv":b.hasClass("color-cmyk")&&(v="cmyk"),b.hasClass("as-string")?k=h.val():(w=[],r.each(b.find("input"),function(){w.push(this.value)}),k=v+"("+w.join(", ")+")"),k&&Farbe.Routines.isColor(k)&&t.val(k)};if(u=Hooks.useDebounce(u,i.inputThreshold),f.on(e.events.inputchange,u),m&&m.length){let g=Hooks.useDebounce(()=>{let h=m.val();h&&Farbe.Routines.isColor(h)&&t.val(h)},i.inputThreshold);m.on(e.events.inputchange,g)}c.on(e.events.startAll,function(g){["hsla","rgba"].includes(i.returnValueType),t._getAlphaValue(e.utils.pageXY(g).y),r(document).on(e.events.moveAll,function(h){h.preventDefault(),t._getAlphaValue(e.utils.pageXY(h).y)},{ns:t.id}),r(document).on(e.events.stopAll,function(){r(document).off(e.events.moveAll,{ns:t.id}),r(document).off(e.events.stopAll,{ns:t.id})},{ns:t.id})},{passive:!0}),p.on(e.events.startAll,function(g){t._getHueColor(e.utils.pageXY(g).y),r(document).on(e.events.moveAll,function(h){h.preventDefault(),t._getHueColor(e.utils.pageXY(h).y)},{ns:t.id,passive:!1}),r(document).on(e.events.stopAll,function(){r(document).off(e.events.moveAll,{ns:t.id}),r(document).off(e.events.stopAll,{ns:t.id})},{ns:t.id})},{passive:!0}),d.on(e.events.startAll,function(g){t._getShadeColor(e.utils.pageXY(g).x,e.utils.pageXY(g).y),r(document).on(e.events.moveAll,function(h){h.preventDefault(),t._getShadeColor(e.utils.pageXY(h).x,e.utils.pageXY(h).y)},{ns:t.id,passive:!1}),r(document).on(e.events.stopAll,function(){r(document).off(e.events.moveAll,{ns:t.id}),r(document).off(e.events.stopAll,{ns:t.id})},{ns:t.id})},{passive:!0}),o.on("click",".swatch",function(){t._colorToPos(r(this).attr("data-color"))}),o.on("click",".add-button",function(){let g=Farbe.Routines.toHEX(new Farbe.Primitives.HSL(t.hue,t.saturation,t.lightness)).toUpperCase();t.userColors.includes(g)||(t.userColors.push(g),o.find(".user-colors").append(r("<button>").attr("data-color",g).attr("type","button").addClass("swatch user-swatch").css({backgroundColor:g})))}),o.find("input[type=radio]").on("click",function(){i.returnValueType=r(this).val(),t._setColorValues()})},getVal:function(){let t=this.options,o;switch(t.returnValueType.toLowerCase()){case"rgb":o=this.rgb;break;case"rgba":o=this.rgba;break;case"hsl":o=this.hsl;break;case"hsla":o=this.hsla;break;case"hsv":o=this.hsv;break;case"cmyk":o=this.cmyk;break;default:o=this.hex}return t.returnAsString?o.toString():o},val:function(t){if(typeof t>"u")return this.getVal();let o=Farbe.Routines.parse(t);this._colorToPos(o)},user:function(t){if(!e.utils.isValue(t))return this.userColors;!Array.isArray(t)&&typeof t!="string"||(typeof t=="string"?this.userColors=t.toArray(",").map(function(o){return o.toUpperCase()}):this.userColors=t.map(function(o){return o.toUpperCase()}),this._fillUserColors())},_fillUserColors:function(){let t=this.element.find(".user-colors-css").clear();r.each(this.userColors,function(){let o=this;t.append(r("<button>").attr("data-color",o).attr("type","button").addClass("swatch user-swatch").css({backgroundColor:o}))})},changeAttribute:function(t,o){let i=this.options;t==="data-return-value-type"&&(i.returnValueType=o),t==="data-return-as-string"&&(i.returnValueType=e.utils.bool(o))},destroy:function(){this.element.remove()}}),e.defaults.ColorSelector=a})(Metro,Dom);(function(e,r){"use strict";let l={defaultSwatches:"#FFFFFF,#000000,#FFFB0D,#0532FF,#FF9300,#00F91A,#FF2700,#686868,#EE5464,#D27AEE,#5BA8C4,#E64AA9,#1ba1e2,#6a00ff,#bebebe,#f8f8f8",duration:100,prepend:"",append:"",label:"",clearButton:!1,clearButtonIcon:"\u274C",pickerButtonIcon:"\u{1F3A8}",defaultValue:"rgba(0, 0, 0, 0)",openMode:"auto",resultType:"hex",inputThreshold:500,onColorSelected:e.noop,onColorPickerCreate:e.noop};e.colorPickerSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroColorPickerSetup!==void 0&&e.colorPickerSetup(globalThis.metroColorPickerSetup),e.Component("color-picker",{init:function(a,t){return this._super(t,a,r.extend({},e.defaults.ColorSelector,{showUserColors:!1,showValues:""},l),{value:null,picker:null,colorSelector:null,colorSelectorBox:null,colorExample:null,inputInterval:null,isOpen:!1}),this},_create:function(){let a=this.element,t=this.options,o=a.val();if(!e.pluginExists("color-selector"))throw new Error("Color selector component required!");this.value=Farbe.Routines.isColor(o)?o:Farbe.Routines.isColor(t.defaultValue)?t.defaultValue:"rgba(0,0,0,0)",this._createStructure(),this._createEvents(),this._fireEvent("color-picker-create")},_createStructure:function(){let a=this,t=this.element,o=this.options,i=t.wrap(r("<div>").addClass("color-picker").addClass(t[0].className)),p,c,d,m;if(c=r("<div>").addClass("color-example-box").insertBefore(t),p=r("<div>").addClass("buttons").appendTo(i),p.append(r("<button>").addClass("button color-picker-button").attr("tabindex",-1).attr("type","button").html(o.pickerButtonIcon)),o.clearButton===!0&&!t[0].readOnly&&p.append(r("<button>").addClass("button input-clear-button").addClass(o.clsClearButton).attr("tabindex",-1).attr("type","button").html(o.clearButtonIcon)),e.utils.isValue(o.prepend)&&i.prepend(r("<div>").addClass("prepend").addClass(o.clsPrepend).html(o.prepend)),e.utils.isValue(o.append)&&i.append(r("<div>").html(o.append).addClass("append").addClass(o.clsAppend)),m=r("<div>").addClass("color-selector-box").appendTo(i),d=r("<div>").appendTo(m),this.picker=i,this.colorExample=c,this.colorSelector=d,this.colorSelectorBox=m,e.makePlugin(d,"color-selector",{defaultSwatches:o.defaultSwatches,returnValueType:o.resultType,returnAsString:!0,showUserColors:!1,showValues:"",controller:t,showAlphaChannel:!0,inputThreshold:o.inputThreshold,initColor:this.value,readonlyInput:o.readonlyInput,onSelectColor:f=>{this.colorExample.css({backgroundColor:f})},onColorSelectorCreate:o.onColorSelectorCreate}),e.makePlugin(m,"dropdown",{dropFilter:".color-picker",duration:o.duration,toggleElement:[i],checkDropUp:!0,onDrop:function(){e.getPlugin(d,"color-selector").val(a.value)}}),t[0].className="",o.label){let f=r("<label>").addClass("label-for-input").addClass(o.clsLabel).html(o.label).insertBefore(i);if(t.attr("id"))f.attr("for",t.attr("id"));else{let u=Hooks.useId(t[0]);f.attr("for",u),t.attr("id",u)}t.attr("dir")==="rtl"&&f.addClass("rtl")}this._setColor()},_clearInputInterval:function(){clearInterval(this.inputInterval),this.inputInterval=!1},_setColor:function(){let a=this.colorExample,t=this.value;(this.value.indexOf("cmyk")!==-1||this.value.indexOf("hsv")!==-1)&&(t=Farbe.Routines.toHEX(this.value)),console.log(t),a.css({backgroundColor:t})},_createEvents:function(){let a=this,t=this.element,o=this.options,i=this.picker,p=this.colorSelector,c=this.colorSelector;i.on(e.events.click,".input-clear-button",function(d){d.preventDefault(),d.stopPropagation(),t.val(o.defaultValue).trigger("change"),e.getPlugin(p,"color-selector").val(o.defaultValue)}),t.on(e.events.inputchange,function(){a.value=this.value,a._setColor()}),c.on(e.events.click,function(d){d.stopPropagation()})},val:function(a){if(arguments.length===0||!e.utils.isValue(a))return this.value;Farbe.Routines.isColor(a)&&(this.value=a,this.element.val(a).trigger("change"),this._setColor())},destroy:function(){let a=this.element,t=this.options,o=a.parent();t.label&&o.prev("label").remove(),o.remove()}}),r(document).on(e.events.click,function(){r(".color-picker").removeClass("open")})})(Metro,Dom);(function(e,r){e.contextMenu=function(l=[],a=document){function t(o){let i=r("<ul>").addClass("d-menu context-menu").css("display","none");for(let p of o)if(p.type==="divider")i.append(r("<li>").addClass("divider"));else{let c=r("<li>").appendTo(i),d=r("<a>").appendTo(c);if(p.icon&&d.append(r("<span>").addClass("icon").html(p.icon)),d.append(r("<span>").addClass("caption").html(p.text)),d.href(p.href||"#"),p.onclick&&d.on("click",m=>{e.utils.exec(p.onclick,[m,p])}),p.attributes)for(let[m,f]of Object.entries(p.attributes))d.attr(m,f);if(p.disabled&&d.prop("disabled",!0),p.items){let m=t(p.items);c.children("a").addClass("dropdown-toggle"),c.append(m),e.makePlugin(m,"dropdown",{})}}return i[0]}a.context_menu=t(l),a.nodeType===1?a.append(a.context_menu):r("body").append(a.context_menu),a.oncontextmenu=function(o){o.preventDefault(),o.stopPropagation(),r(".context-menu").hide(),this.context_menu.style.left=o.pageX+"px",this.context_menu.style.top=o.pageY+"px",this.context_menu.style.display="block"}},r(document).on("click",function(l){r(".context-menu").hide()})})(Metro,Dom);(function(e,r){"use strict";var l={path:"/",expires:null,maxAge:null,domain:null,secure:!1,samesite:null};e.cookieSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroCookieSetup!==void 0&&e.cookieSetup(globalThis.metroCookieSetup),e.cookie={getCookies:function(){var a=document.cookie.toArray(";"),t={};return r.each(a,function(){var o=this.split("=");t[o[0]]=o[1]}),t},getCookie:function(a){var t=encodeURIComponent(a)+"=",o=document.cookie.toArray(";"),i,p;for(i=0;i<o.length;i++){for(p=o[i];p.charAt(0)===" ";)p=p.substring(1,p.length);if(p.indexOf(t)===0)return decodeURIComponent(p.substring(t.length,p.length))}return null},setCookie:function(a,t,o){var i,p=encodeURIComponent(a),c=encodeURIComponent(t),d,m=[];o&&typeof o!="object"?(i=new Date,i.setTime(i.getTime()+parseInt(o)),d=r.extend({},l,{expires:i.toUTCString()})):d=r.extend({},l,o),r.each(d,function(f,u){f!=="secure"&&u&&m.push(Str.dashedName(f)+"="+u),f==="secure"&&u===!0&&m.push("secure")}),document.cookie=p+"="+c+"; "+m.join("; ")},delCookie:function(a){this.setCookie(a,!1,{maxAge:-1})}}})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={name:"cookies_accepted",templateUrl:null,title:"",message:"",duration:"30days",clsContainer:"",clsMessage:"",clsButtons:"",clsAcceptButton:"",clsCancelButton:"",onAccept:e.noop,onDecline:e.noop};e.cookieDisclaimer={init:function(t){var o=this,i=e.cookie;this.options=r.extend({},a,t),this.disclaimer=r("<div>"),!i.getCookie(this.options.name)&&(this.locale=r("html").attr("lang")||"en",this.strings=r.extend({},e.locales.en,e.locales[this.locale]),this.options.templateUrl?fetch(this.options.templateUrl).then(e.fetch.text).then(function(p){o.create(p)}):this.create())},create:function(t){var o=e.cookie,i=this.options,p=this.disclaimer,c;p.addClass("cookie-disclaimer").addClass(i.clsContainer),t?p.append(t):p.html(r("<div class='disclaimer-message'>").addClass(i.clsMessage).html(`
                                <div class="disclaimer-title">${i.title||this.strings.label_cookies_title}</div>
                                <div class="disclaimer-text">${i.message||this.strings.label_cookies_text}</div>
                            `)),c=r("<div>").addClass("disclaimer-actions").addClass(i.clsButtons).append(r("<button>").addClass("button cookie-accept-button").addClass(i.clsAcceptButton).html(this.strings.label_accept)).append(r("<button>").addClass("button cookie-cancel-button").addClass(i.clsCancelButton).html(this.strings.label_cancel)),c.appendTo(p),i.customButtons&&r.each(i.customButtons,function(){var d=r("<button>").addClass("button cookie-custom-button").addClass(this.cls).html(this.text);d.on("click",()=>{l.exec(this.onclick)}),d.appendTo(c)}),p.appendTo(r("body")),p.on(e.events.click,".cookie-accept-button",function(){var d=0,m=(""+i.duration).toArray(" ");r.each(m,function(){var f=""+this;f.includes("day")?d+=parseInt(f)*24*60*60*1e3:f.includes("hour")?d+=parseInt(f)*60*60*1e3:f.includes("min")?d+=parseInt(f)*60*1e3:f.includes("sec")?d+=parseInt(f)*1e3:d+=parseInt(f)}),o.setCookie(i.name,!0,d),l.exec(i.onAccept),p.remove()}),p.on(e.events.click,".cookie-cancel-button",function(){l.exec(i.onDecline),p.remove()})}}})(Metro,Dom);(function(e,r){"use strict";let l={countdownDeferred:0,stopOnBlur:!0,animate:"none",ease:"linear",duration:600,inputFormat:null,days:0,hours:0,minutes:0,seconds:0,date:null,start:!0,fontSize:24,clsCountdown:"",clsPart:"",clsZero:"",clsAlarm:"",clsDays:"",clsHours:"",clsMinutes:"",clsSeconds:"",onAlarm:e.noop,onTick:e.noop,onZero:e.noop,onBlink:e.noop,onCountdownCreate:e.noop};e.countdownSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroCountdownSetup!==void 0&&e.countdownSetup(globalThis.metroCountdownSetup),e.Component("countdown",{init:function(a,t){return this._super(t,a,l,{breakpoint:new Date().getTime(),blinkInterval:null,tickInterval:null,zeroDaysFired:!1,zeroHoursFired:!1,zeroMinutesFired:!1,zeroSecondsFired:!1,fontSize:0,current:{d:0,h:0,m:0,s:0},inactiveTab:!1,id:e.utils.elementId("countdown"),duration:600}),this},_create:function(){let a=this.options;this.duration=+a.duration<=0||+a.duration>=1e3?1e3:+a.duration,this._build(),this._createEvents()},_setBreakpoint:function(){let a=this.options,t=864e5,o=36e5,i=6e4,p=1e3;this.breakpoint=datetime().time(),a.date&&(this.breakpoint=(a.inputFormat?Datetime.from(a.date,a.inputFormat):datetime(a.date)).time()),parseInt(a.days)>0&&(this.breakpoint+=parseInt(a.days)*t),parseInt(a.hours)>0&&(this.breakpoint+=parseInt(a.hours)*o),parseInt(a.minutes)>0&&(this.breakpoint+=parseInt(a.minutes)*i),parseInt(a.seconds)>0&&(this.breakpoint+=parseInt(a.seconds)*p)},_build:function(){let a=this,t=this.element,o=this.options,i=["days","hours","minutes","seconds"],p=24*60*60*1e3,c,d=datetime().time(),m,f=this.strings;t.attr("id")||t.attr("id",e.utils.elementId("countdown")),t.addClass("countdown").addClass(`animate-${o.animate}`).addClass(o.clsCountdown),t.css("font-size",o.fontSize),this._setBreakpoint(),c=Math.round((a.breakpoint-d)/p),r.each(i,function(){let u=r("<div>").addClass("part "+this).addClass(o.clsPart).attr("data-label",f[`label_${this}`]).appendTo(t);if(this==="days"&&u.addClass(o.clsDays),this==="hours"&&u.addClass(o.clsHours),this==="minutes"&&u.addClass(o.clsMinutes),this==="seconds"&&u.addClass(o.clsSeconds),r("<div>").addClass("digit").appendTo(u),r("<div>").addClass("digit").appendTo(u),this==="days"&&c>=100)for(let g=0;g<String(Math.round(c/100)).length;g++)r("<div>").addClass("digit").appendTo(u)}),m=t.find(".digit"),m.append(r("<span class='digit-placeholder'>").html("0")),m.append(r("<span class='digit-value'>").html("0")),this._fireEvent("countdown-create",{element:t}),o.start===!0?this.start():this.tick(),this.fontSize=parseInt(t.css("font-size"))},_createEvents:function(){let a=this;r(document).on("visibilitychange",function(){document.hidden?a.pause():a.resume()},{ns:this.id})},blink:function(){this.element.toggleClass("blink"),this._fireEvent("blink",{time:this.current})},tick:function(){let a=this.element,t=this.options,o=24*60*60,i=60*60,p=60,c=1,d,m=datetime().time(),f,u,g,h,b=a.find(".days"),v=a.find(".hours"),k=a.find(".minutes"),w=a.find(".seconds");if(d=Math.floor((this.breakpoint-m)/1e3),d<=-1){this.stop(),a.addClass(t.clsAlarm),this._fireEvent("alarm",{time:m});return}f=Math.floor(d/o),d-=f*o,this.current.d!==f&&(this.current.d=f,this.draw("days",f)),f===0&&this.zeroDaysFired===!1&&(this.zeroDaysFired=!0,b.addClass(t.clsZero),this._fireEvent("zero",{part:"days",value:b})),u=Math.floor(d/i),d-=u*i,this.current.h!==u&&(this.current.h=u,this.draw("hours",u)),f===0&&u===0&&this.zeroHoursFired===!1&&(this.zeroHoursFired=!0,v.addClass(t.clsZero),this._fireEvent("zero",{part:"hours",value:v})),g=Math.floor(d/p),d-=g*p,this.current.m!==g&&(this.current.m=g,this.draw("minutes",g)),f===0&&u===0&&g===0&&this.zeroMinutesFired===!1&&(this.zeroMinutesFired=!0,k.addClass(t.clsZero),this._fireEvent("zero",{part:"minutes",value:k})),h=Math.floor(d/c),this.current.s!==h&&(this.current.s=h,this.draw("seconds",h)),f===0&&u===0&&g===0&&h===0&&this.zeroSecondsFired===!1&&(this.zeroSecondsFired=!0,w.addClass(t.clsZero),this._fireEvent("zero",{part:"seconds",value:w})),this._fireEvent("tick",{days:f,hours:u,minutes:g,seconds:h})},draw:function(a,t){let o=this.element,i=this.options,p,c,d,m,f,u,g,h=this.duration,b=this.fontSize,v=function(T,_){let y,C=T.height();T.siblings(".-old-digit").remove(),y=T.clone().appendTo(T.parent()),y.css({top:-1*C+"px"}),T.addClass("-old-digit").animate({draw:{top:C,opacity:0},dur:h,ease:i.ease,onDone:function(){r(this).remove()}}),y.html(_).animate({draw:{top:0,opacity:[0,1]},dur:h,ease:i.ease})},k=function(T,_){let y;T.siblings(".-old-digit").remove(),y=T.clone().appendTo(T.parent()),y.css({opacity:0}),T.addClass("-old-digit").animate({draw:{opacity:0},dur:h/2,ease:i.ease,onDone:function(){r(this).remove()}}),y.html(_).animate({draw:{opacity:1},dur:h/2,ease:i.ease})},w=function(T,_){let y,C=o.height(),z=b;T.siblings(".-old-digit").remove(),y=T.clone().appendTo(T.parent()),y.css({top:0,left:0,opacity:1}),T.addClass("-old-digit").animate({draw:{top:C,opacity:0,fontSize:0},dur:h,ease:i.ease,onDone:function(){r(this).remove()}}),y.html(_).animate({draw:{top:0,opacity:1,fontSize:[0,z]},dur:h,ease:i.ease})};for(t=""+t,t.length===1&&(t="0"+t),u=t.length,p=o.find("."+a+" .digit:not(.-old-digit)"),c=p.length,o.find(".-old-digit").remove(),g=0;g<u;g++)if(f=p.eq(c-1).find(".digit-value"),d=Math.floor(parseInt(t)/Math.pow(10,g))%10,m=parseInt(f.text()),c--,m!==d)switch((""+i.animate).toLowerCase()){case"slide":v(f,d);break;case"fade":k(f,d);break;case"zoom":w(f,d);break;default:f.html(d)}},start:function(){let a=this,t=this.element;t.data("paused")!==!1&&(clearInterval(this.blinkInterval),clearInterval(this.tickInterval),t.data("paused",!1),this._setBreakpoint(),this.tick(),this.blinkInterval=setInterval(function(){a.blink()},500),this.tickInterval=setInterval(function(){a.tick()},1e3))},stop:function(){let a=this.element;clearInterval(this.blinkInterval),clearInterval(this.tickInterval),a.data("paused",!0),a.find(".digit").html("0"),this.current={d:0,h:0,m:0,s:0}},pause:function(){clearInterval(this.blinkInterval),clearInterval(this.tickInterval),this.element.data("paused",!0)},resume:function(){let a=this;this.element.data("paused",!1),this.blinkInterval=setInterval(function(){a.blink()},500),this.tickInterval=setInterval(function(){a.tick()},1e3)},reset:function(){let a=this,t=this.element,o=this.options;clearInterval(this.blinkInterval),clearInterval(this.tickInterval),t.find(".part").removeClass(o.clsZero);let i=t.find(".digit").clear();i.append(r("<span class='digit-placeholder'>").html("0")),i.append(r("<span class='digit-value'>").html("0")),this._setBreakpoint(),t.data("paused",!1),this.tick(),this.blinkInterval=setInterval(function(){a.blink()},500),this.tickInterval=setInterval(function(){a.tick()},1e3)},resetWith:function(a){let t=this,o=this.element,i=this.options;if(typeof a=="string")o.attr("data-date",a),i.date=a;else if(typeof a=="object"){let p=["days","hours","minutes","seconds"];r.each(p,function(c,d){e.utils.isValue(a[d])&&(o.attr("data-"+d,a[d]),i[d]=a[d])})}this.reset()},togglePlay:function(){this.element.attr("data-pause")===!0?this.pause():this.start()},isPaused:function(){return this.element.data("paused")},getBreakpoint:function(a){return a===!0?new Date(this.breakpoint):this.breakpoint},getLeft:function(){let p=new Date().getTime(),c=Math.floor(this.breakpoint-p);return{days:Math.round(c/864e5),hours:Math.round(c/36e5),minutes:Math.round(c/6e4),seconds:Math.round(c/1e3)}},changeAttribute:function(a,t){switch(a){case"data-pause":this.togglePlay();break;case"data-duration":this.duration=+t<=0||+t>=1e3?600:+t;break}},destroy:function(){clearInterval(this.blinkInterval),clearInterval(this.tickInterval),r(document).off("visibilitychange",{ns:this.id}),this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";let l={startOnViewport:!1,counterDeferred:0,duration:2e3,value:0,from:0,timeout:0,delimiter:",",prefix:"",suffix:"",size:16,onStart:e.noop,onStop:e.noop,onTick:e.noop,onCounterCreate:e.noop};e.counterSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroCounterSetup!==void 0&&e.counterSetup(globalThis.metroCounterSetup),e.Component("counter",{init:function(a,t){return this._super(t,a,l,{numbers:[],html:r(t).html(),started:!1,id:e.utils.elementId("counter")}),this},_create:function(){this._createStruct(),this._createEvents(),this._fireEvent("counter-create")},_createStruct:function(){let a=this.element,t=this.elem,o=this.options;this.elem.value=0,a.css("font-size",this.options.size)},_createEvents:function(){let a=this,t=this.element;this.options.startOnViewport&&Hooks.useEvent({effect:()=>{a.start()},target:a.elem,event:Hooks.EVENTS.VIEWPORT})},start:function(a,t){let o=this,i=this.elem,p=this.options;e.utils.isValue(t)&&(p.from=+t),e.utils.isValue(a)&&(p.value=+a),this.started=!0;let c=p.from,d=p.value;this._fireEvent("start"),r.animate({el:i,draw:{value:[c,d]},defer:p.timeout,dur:p.duration,onFrame:function(){o._fireEvent("tick",{value:this.value}),this.innerHTML=p.prefix+Number(this.value).format(0,0,p.delimiter)+p.suffix},onDone:function(){o._fireEvent("stop")}})},reset:function(){this.started=!1,this.element.html(this.html)},changeAttribute:function(a,t){let o=this.options;a==="data-value"&&(o.value=+t),a==="data-from"&&(o.from=+t)},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={cubeDeferred:0,rules:null,color:null,flashColor:null,flashInterval:1e3,numbers:!1,offBefore:!0,attenuation:.3,stopOnBlur:!1,cells:4,margin:8,showAxis:!1,axisStyle:"arrow",cellClick:!1,autoRestart:5e3,clsCube:"",clsCell:"",clsSide:"",clsSideLeft:"",clsSideRight:"",clsSideTop:"",clsSideLeftCell:"",clsSideRightCell:"",clsSideTopCell:"",clsAxis:"",clsAxisX:"",clsAxisY:"",clsAxisZ:"",custom:e.noop,onTick:e.noop,onCubeCreate:e.noop};e.cubeSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroCubeSetup!==void 0&&e.cubeSetup(globalThis.metroCubeSetup),e.cubeDefaultRules=[{on:{top:[16],left:[4],right:[1]},off:{top:[13,4],left:[1,16],right:[13,4]}},{on:{top:[12,15],left:[3,8],right:[2,5]},off:{top:[9,6,3],left:[5,10,15],right:[14,11,8]}},{on:{top:[11],left:[7],right:[6]},off:{top:[1,2,5],left:[9,13,14],right:[15,12,16]}},{on:{top:[8,14],left:[2,12],right:[9,3]},off:{top:[16],left:[4],right:[1]}},{on:{top:[10,7],left:[6,11],right:[10,7]},off:{top:[12,15],left:[3,8],right:[2,5]}},{on:{top:[13,4],left:[1,16],right:[13,4]},off:{top:[11],left:[7],right:[6]}},{on:{top:[9,6,3],left:[5,10,15],right:[14,11,8]},off:{top:[8,14],left:[2,12],right:[9,3]}},{on:{top:[1,2,5],left:[9,13,14],right:[15,12,16]},off:{top:[10,7],left:[6,11],right:[10,7]}}],e.Component("cube",{init:function(t,o){return this._super(o,t,a,{id:l.elementId("cube"),rules:null,interval:!1,ruleInterval:!1,running:!1,intervals:[]}),this},_create:function(){var t=this.element,o=this.options;o.rules===null?this.rules=e.cubeDefaultRules:this._parseRules(o.rules),this._createCube(),this._createEvents(),this._fireEvent("cube-create",{element:t})},_parseRules:function(t){if(t==null)return!1;if(l.isObject(t))return this.rules=l.isObject(t),!0;try{return this.rules=JSON.parse(t),!0}catch{return console.warn("Unknown or empty rules for cell flashing!"),!1}},_createCube:function(){var t=this.element,o=this.options,i=["left","right","top"],p=l.elementId("cube"),c=Math.pow(o.cells,2);t.addClass("cube").addClass(o.clsCube),t.attr("id")||t.attr("id",p),this.id=t.attr("id"),this._createCssForFlashColor(),this._createCssForCellSize(),r.each(i,function(){var f,u,g;for(f=r("<div>").addClass("side "+this+"-side").addClass(o.clsSide).appendTo(t),this==="left"&&f.addClass(o.clsSideLeft),this==="right"&&f.addClass(o.clsSideRight),this==="top"&&f.addClass(o.clsSideTop),g=0;g<c;g++)u=r("<div>").addClass("cube-cell").addClass("cell-id-"+(g+1)).addClass(o.clsCell),u.data("id",g+1).data("side",this),u.appendTo(f),o.numbers===!0&&u.html(g+1)});var d=t.find(".cube-cell");o.color!==null&&(Farbe.Routines.isColor(o.color)?d.css({backgroundColor:o.color,borderColor:o.color}):d.addClass(o.color));var m=["x","y","z"];r.each(m,function(){var f=this,u=r("<div>").addClass("axis "+o.axisStyle).addClass("axis-"+f).addClass(o.clsAxis);f==="x"&&u.addClass(o.clsAxisX),f==="y"&&u.addClass(o.clsAxisY),f==="z"&&u.addClass(o.clsAxisZ),u.appendTo(t)}),o.showAxis===!1&&t.find(".axis").hide(),this._run()},_run:function(){var t=this,o=this.element,i=this.options,p=0;clearInterval(this.interval),o.find(".cube-cell").removeClass("light"),i.custom!==e.noop?l.exec(i.custom,[o]):(o.find(".cube-cell").removeClass("light"),t._start(),p=l.isObject(this.rules)?l.objectLength(this.rules):0,this.interval=setInterval(function(){t._start()},p*i.flashInterval))},_createCssForCellSize:function(){var t=this.element,o=this.options,i=e.sheet,p,c;o.margin===8&&o.cells===4||(p=parseInt(l.getStyleOne(t,"width")),c=Math.ceil((p/2-o.margin*o.cells*2)/o.cells),l.addCssRule(i,"#"+t.attr("id")+" .side .cube-cell","width: "+c+"px!important; height: "+c+"px!important; margin: "+o.margin+"px!important;"))},_createCssForFlashColor:function(){var t=this.element,o=this.options,i=e.sheet,p,c,d=[],m=[],f;if(o.flashColor!==null){for(p="0 0 10px "+Farbe.Routines.toRGBA(Farbe.Routines.parse(o.flashColor),1),c="0 0 10px "+Farbe.Routines.toRGBA(Farbe.Routines.parse(o.flashColor),o.attenuation),f=0;f<3;f++)d.push(p),m.push(c);l.addCssRule(i,"@keyframes pulsar-cell-"+t.attr("id"),"0%, 100% { box-shadow: "+d.join(",")+"} 50% { box-shadow: "+m.join(",")+" }"),l.addCssRule(i,"#"+t.attr("id")+" .side .cube-cell.light","animation: pulsar-cell-"+t.attr("id")+" 2.5s 0s ease-out infinite; background-color: "+o.flashColor+"!important; border-color: "+o.flashColor+"!important;")}},_createEvents:function(){var t=this,o=this.element,i=this.options;r(globalThis).on(e.events.blur,function(){i.stopOnBlur===!0&&t.running===!0&&t._stop()},{ns:o.attr("id")}),r(globalThis).on(e.events.focus,function(){i.stopOnBlur===!0&&t.running===!1&&t._start()},{ns:o.attr("id")}),o.on(e.events.click,".cube-cell",function(){if(i.cellClick===!0){var p=r(this);p.toggleClass("light")}})},_start:function(){var t=this,o=this.element;o.find(".cube-cell").removeClass("light"),this.running=!0,r.each(this.rules,function(i,p){t._execRule(i,p)})},_stop:function(){this.running=!1,clearInterval(this.interval),r.each(this.intervals,function(){clearInterval(this)})},_tick:function(t,o){var i=this,p=this.options;o===void 0&&(o=p.flashInterval*t);var c=setTimeout(function(){i._fireEvent("tick",{index:t}),clearInterval(c),l.arrayDelete(i.intervals,c)},o);this.intervals.push(c)},_toggle:function(t,o,i,p){var c=this;p===void 0&&(p=this.options.flashInterval*i);var d=setTimeout(function(){t[o==="on"?"addClass":"removeClass"]("light"),clearInterval(d),l.arrayDelete(c.intervals,d)},p);this.intervals.push(d)},start:function(){this._start()},stop:function(){this._stop()},toRule:function(t,o){var i=this,p=this.element,c=this.options,d=this.rules;if(!(d==null||d[t]===void 0)){clearInterval(this.ruleInterval),this.ruleInterval=!1,this.stop(),p.find(".cube-cell").removeClass("light");for(var m=0;m<=t;m++)this._execRule(m,d[m],o);l.isInt(c.autoRestart)&&c.autoRestart>0&&(this.ruleInterval=setTimeout(function(){i._run()},c.autoRestart))}},_execRule:function(t,o,i){var p=this,c=this.element,d=["left","right","top"];this._tick(t,i),r.each(d,function(){var m="."+this+"-side",f=this,u=o.on!==void 0&&o.on[f]!==void 0?o.on[f]:!1,g=o.off!==void 0&&o.off[f]!==void 0?o.off[f]:!1;u!==!1&&r.each(u,function(){var h=this,b=c.find(m+" .cell-id-"+h);p._toggle(b,"on",t,i)}),g!==!1&&r.each(g,function(){var h=this,b=c.find(m+" .cell-id-"+h);p._toggle(b,"off",t,i)})})},rule:function(t){if(t===void 0)return this.rules;this._parseRules(t)===!0&&(this.options.rules=t,this.stop(),this.element.find(".cube-cell").removeClass("light"),this._run())},axis:function(t){var o=t===!0?"show":"hide";this.element.find(".axis")[o]()},changeRules:function(){var t=this.element,o=this.options,i=t.attr("data-rules");this._parseRules(i)===!0&&(this.stop(),t.find(".cube-cell").removeClass("light"),o.rules=i,this._run())},changeAxisVisibility:function(){var t=this.element,o=JSON.parse(t.attr("data-show-axis"))===!0,i=o?"show":"hide";t.find(".axis")[i]()},changeAxisStyle:function(){var t=this.element,o=t.attr("data-axis-style");t.find(".axis").removeClass("arrow line no-style").addClass(o)},changeAttribute:function(t){switch(t){case"data-rules":this.changeRules();break;case"data-show-axis":this.changeAxisVisibility();break;case"data-axis-style":this.changeAxisStyle();break}},destroy:function(){var t=this.element;return clearInterval(this.interval),this.interval=null,r(globalThis).off(e.events.blur,{ns:t.attr("id")}),r(globalThis).off(e.events.focus,{ns:t.attr("id")}),t.off(e.events.click,".cube-cell"),t}})})(Metro,Dom);(function(e,r){"use strict";let l={customCheckboxDeferred:0,stateOn:"\u2611",stateOff:"\u2610",captionOn:"",captionOff:"",captionPosition:"right",clsCustomCheckbox:"",clsIcon:"",clsIconOn:"",clsIconOff:"",clsCaption:"",clsCaptionOn:"",clsCaptionOff:"",onCustomCheckboxCreate:e.noop};e.customCheckboxSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroCustomCheckboxSetup!==void 0&&e.customCheckboxSetup(globalThis.metroCustomCheckboxSetup),e.Component("custom-checkbox",{init:function(a,t){return this._super(t,a,l),this},_create:function(){let a=this.element,t=this.options,o=a.wrap(r("<label>").addClass("custom-checkbox").addClass(t.clsCustomCheckbox)),i=r("<span>").addClass("icon").addClass(t.clsIcon).appendTo(o);if(a.attr("type","checkbox"),a.attr("readonly")!==void 0&&a.on("click",function(p){p.preventDefault()}),t.stateOn&&r("<span>").addClass("state-on").addClass(t.clsIconOn).html(t.stateOn).appendTo(i),t.stateOff&&r("<span>").addClass("state-off").addClass(t.clsIconOff).html(t.stateOff).appendTo(i),t.captionOn||t.captionOff){let p=r("<span>").addClass("caption").addClass(t.clsCaption).appendTo(o);t.captionOn&&r("<span>").addClass("caption-state-on").addClass(t.clsCaptionOn).html(t.captionOn).appendTo(p),t.captionOff&&r("<span>").addClass("caption-state-off").addClass(t.clsCaptionOff).html(t.captionOff).appendTo(p)}t.captionPosition==="left"&&o.addClass("caption-left"),a[0].className="",a.is(":disabled")?this.disable():this.enable(),this._fireEvent("customCheckbox-create")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggle:function(a){let t=this.element;return e.utils.isValue(a)?t.prop("checked",a===1):t.prop("checked",!e.utils.bool(t.prop("checked"))),this},changeAttribute:function(a){switch(a){case"disabled":this.toggleState();break}},destroy:function(){return this.element}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={label:"",datepickerDeferred:0,gmt:0,format:"YYYY-MM-DD",inputFormat:null,value:null,distance:3,month:!0,day:!0,year:!0,minYear:null,maxYear:null,defaultYearDistance:100,scrollSpeed:4,copyInlineStyles:!1,openMode:"auto",clsPicker:"",clsPart:"",clsMonth:"",clsDay:"",clsYear:"",clsLabel:"",clsButton:"",clsOkButton:"",clsCancelButton:"",okButtonIcon:"\u2713",cancelButtonIcon:"\u{10102}",onSet:e.noop,onOpen:e.noop,onClose:e.noop,onScroll:e.noop,onDatePickerCreate:e.noop};e.datePickerSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroDatePickerSetup!==void 0&&e.datePickerSetup(globalThis.metroDatePickerSetup),e.Component("date-picker",{init:function(t,o){return this._super(o,t,a,{picker:null,isOpen:!1,value:datetime(),listTimer:{day:null,month:null,year:null}}),this},_create:function(){var t=this.element,o=this.options,i=this.locale,p=datetime();o.distance<1&&(o.distance=1),l.isValue(t.val())&&(o.value=t.val()),l.isValue(o.value)&&(this.value=o.inputFormat?Datetime.from(o.value,o.inputFormat,i):datetime(o.value)),o.minYear===null&&(o.minYear=p.year()-o.defaultYearDistance),o.maxYear===null&&(o.maxYear=p.year()+o.defaultYearDistance),this._createStructure(),this._createEvents(),this._set(),this._fireEvent("datepicker-create",{element:t})},_createStructure:function(){var t=this.element,o=this.options,i=this.locale,p,c,d,m,f,u,g,h,b,v,k=l.elementId("datepicker");if(p=r("<div>").addClass("wheel-picker date-picker "+t[0].className).addClass(o.clsPicker),p.attr("id")||p.attr("id",k),p.insertBefore(t),t.appendTo(p),o.label){var w=r("<label>").addClass("label-for-input").addClass(o.clsLabel).html(o.label).insertBefore(p);t.attr("id")&&w.attr("for",t.attr("id")),t.attr("dir")==="rtl"&&w.addClass("rtl")}if(g=r("<div>").addClass("date-wrapper").appendTo(p),o.month===!0&&(c=r("<div>").addClass("month").addClass(o.clsPart).addClass(o.clsMonth).appendTo(g)),o.day===!0&&(d=r("<div>").addClass("day").addClass(o.clsPart).addClass(o.clsDay).appendTo(g)),o.year===!0&&(m=r("<div>").addClass("year").addClass(o.clsPart).addClass(o.clsYear).appendTo(g)),h=r("<div>").addClass("select-wrapper").appendTo(p),b=r("<div>").addClass("select-block").appendTo(h),o.month===!0){for(c=r("<ul>").addClass("sel-month").appendTo(b),f=0;f<o.distance;f++)r("<li>").html("&nbsp;").data("value",-1).appendTo(c);for(f=0;f<12;f++){let T=Datetime.getLocale(i).months[f];r("<li>").addClass("js-month-"+f+" js-month-real-"+T.toLowerCase()).html(T).data("value",f).appendTo(c)}for(f=0;f<o.distance;f++)r("<li>").html("&nbsp;").data("value",-1).appendTo(c)}if(o.day===!0){for(d=r("<ul>").addClass("sel-day").appendTo(b),f=0;f<o.distance;f++)r("<li>").html("&nbsp;").data("value",-1).appendTo(d);for(f=0;f<31;f++)r("<li>").addClass("js-day-"+f+" js-day-real-"+(f+1)).html(f+1).data("value",f+1).appendTo(d);for(f=0;f<o.distance;f++)r("<li>").html("&nbsp;").data("value",-1).appendTo(d)}if(o.year===!0){for(m=r("<ul>").addClass("sel-year").appendTo(b),f=0;f<o.distance;f++)r("<li>").html("&nbsp;").data("value",-1).appendTo(m);for(f=o.minYear,u=0;f<=o.maxYear;f++,u++)r("<li>").addClass("js-year-"+u+" js-year-real-"+f).html(f).data("value",f).appendTo(m);for(f=0;f<o.distance;f++)r("<li>").html("&nbsp;").data("value",-1).appendTo(m)}if(b.height((o.distance*2+1)*40),v=r("<div>").addClass("action-block").appendTo(h),r("<button>").attr("type","button").addClass("button action-today").addClass(o.clsButton).addClass(o.clsTodayButton).html(`<span class="caption">${this.strings.label_today}</span>`).appendTo(v),r("<button>").attr("type","button").addClass("button action-ok").addClass(o.clsButton).addClass(o.clsOkButton).html(`<span class="icon">${o.okButtonIcon}</span>`).appendTo(v),r("<button>").attr("type","button").addClass("button action-cancel").addClass(o.clsButton).addClass(o.clsCancelButton).html(`<span class="icon">${o.cancelButtonIcon}</span>`).appendTo(v),t[0].className="",o.copyInlineStyles===!0)for(f=0;f<t[0].style.length;f++)p.css(t[0].style[f],t.css(t[0].style[f]));t.prop("disabled")&&p.addClass("disabled"),this.picker=p},_createEvents:function(){var t=this,o=this.options,i=this.picker;i.on("touchstart",".select-block ul",function(c){if(!c.changedTouches){var d=this,m=l.pageXY(c).y;r(document).on("touchmove",function(f){d.scrollTop-=o.scrollSpeed*(m>l.pageXY(f).y?-1:1),m=l.pageXY(f).y},{ns:i.attr("id")}),r(document).on("touchend",function(){r(document).off(e.events.move,{ns:i.attr("id")}),r(document).off(e.events.stop,{ns:i.attr("id")})},{ns:i.attr("id")})}}),i.on(e.events.click,function(c){t.isOpen===!1&&t.open(),c.stopPropagation()}),i.on(e.events.click,".action-ok",function(c){var d,m,f,u=i.find(".sel-month li.active"),g=i.find(".sel-day li.active"),h=i.find(".sel-year li.active");d=u.length===0?t.value.value.getMonth():u.data("value"),m=g.length===0?t.value.value.getDate():g.data("value"),f=h.length===0?t.value.value.getFullYear():h.data("value"),t.value=datetime(f,d,m),t._set(),t.close(),c.preventDefault(),c.stopPropagation()}),i.on(e.events.click,".action-cancel",function(c){t.close(),c.preventDefault(),c.stopPropagation()});var p=150;r.each(["month","day","year"],function(){var c=this,d=i.find(".sel-"+c);let m=Hooks.useDebounce(function(f){var u,g,h;t.listTimer[c]=null,u=Math.round(Math.ceil(d.scrollTop())/40),g=d.find(".js-"+c+"-"+u),h=g.position().top-o.distance*40,d.find(".active").removeClass("active"),d[0].scrollTop=h,g.addClass("active"),l.exec(o.onScroll,[g,d,i],d[0])},p);d.on("scroll",m)}),i.on(e.events.click,"ul li",function(c){let d=r(this),m=d.closest("ul"),f=d.position().top-o.distance*40;m.find(".active").removeClass("active"),r.animate({el:m[0],draw:{scrollTop:f},dur:300}),m[0].scrollTop=f,d.addClass("active"),l.exec(o.onScroll,[d,m,i],m[0])}),i.on(e.events.click,".action-today",function(c){let d=datetime(),m=d.month(),f=d.day(),u=d.year();i.find(`.sel-month li.js-month-${m}`).click(),i.find(`.sel-day li.js-day-real-${f}`).click(),i.find(`.sel-year li.js-year-real-${u}`).click(),c.preventDefault(),c.stopPropagation()})},_correct:function(){var t=this.value.month(),o=this.value.day(),i=this.value.year();this.value=datetime(i,t,o)},_set:function(){var t=this.element,o=this.options,i=this.picker,p=Datetime.getLocale(this.locale).months[this.value.month()],c=this.value.day(),d=this.value.year();o.month===!0&&i.find(".month").html(p),o.day===!0&&i.find(".day").html(c),o.year===!0&&i.find(".year").html(d),t.val(this.value.format(o.format,this.locale)).trigger("change"),this._fireEvent("set",{value:this.value.val(),elementValue:t.val(),picker:i})},open:function(){var t=this.options,o=this.picker,i=this.value.month(),p=this.value.day()-1,c=this.value.year(),d,m,f,u=o.find(".select-wrapper");r.each(r(".date-picker"),function(){r(this).find("input").each(function(){e.getPlugin(this,"datepicker").close()})}),u.show(0),o.find("li").removeClass("active"),t.openMode==="auto"?(e.utils.inViewport(u[0])||u.parent().addClass("drop-up-select"),e.utils.inViewport(u[0])||(u.parent().removeClass("drop-up-select"),u.parent().addClass("drop-as-dialog"))):t.openMode==="dialog"?u.parent().addClass("drop-as-dialog"):t.openMode==="up"&&u.parent().addClass("drop-up-select"),t.month===!0&&(d=o.find(".sel-month"),d.scrollTop(0).animate({draw:{scrollTop:d.find("li.js-month-"+i).addClass("active").position().top-40*t.distance},dur:100})),t.day===!0&&(m=o.find(".sel-day"),m.scrollTop(0).animate({draw:{scrollTop:m.find("li.js-day-"+p).addClass("active").position().top-40*t.distance},dur:100})),t.year===!0&&(f=o.find(".sel-year"),f.scrollTop(0).animate({draw:{scrollTop:f.find("li.js-year-real-"+c).addClass("active").position().top-40*t.distance},dur:100})),this.isOpen=!0,this._fireEvent("open",{value:this.value.val(),picker:o})},close:function(){var t=this.picker,o=this.options;t.find(".select-wrapper").hide(0),o.openMode==="auto"&&t.find(".select-wrapper").parent().removeClass("drop-up-select drop-as-dialog"),this.isOpen=!1,this._fireEvent("close",{value:this.value.val(),picker:t})},val:function(t){var o=this.options;if(!l.isValue(t))return this.element.val();this.value=o.inputFormat?Datetime.from(t,o.inputFormat,this.locale):datetime(t),this._set()},date:function(t,o){if(t===void 0)return this.value.val();try{this.value=Datetime.from(t,o,this.locale),this._set()}catch{return!1}},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(t,o){switch(t){case"disabled":this.toggleState();break;case"data-value":this.val(o);break;case"data-format":this.options.format=o,this._set();break}},destroy:function(){var t=this.element,o=this.picker;return r.each(["moth","day","year"],function(){o.find(".sel-"+this).off("scroll")}),o.off(e.events.start,".select-block ul"),o.off(e.events.click),o.off(e.events.click,".action-ok"),o.off(e.events.click,".action-cancel"),t}}),r(document).on(e.events.click,function(){r.each(r(".date-picker"),function(){r(this).find("input").each(function(){e.getPlugin(this,"datepicker").close()})})})})(Metro,Dom);(function(e,r){"use strict";let c={note:`
    <svg width="800px" height="800px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M8.75 3.5V2C8.75 1.59 8.41 1.25 8 1.25C7.59 1.25 7.25 1.59 7.25 2V3.56C7.5 3.53 7.73 3.5 8 3.5H8.75Z"/>
        <path d="M16.75 3.56V2C16.75 1.59 16.41 1.25 16 1.25C15.59 1.25 15.25 1.59 15.25 2V3.5H16C16.27 3.5 16.5 3.53 16.75 3.56Z"/>
        <path d="M16.75 3.56V5C16.75 5.41 16.41 5.75 16 5.75C15.59 5.75 15.25 5.41 15.25 5V3.5H8.75V5C8.75 5.41 8.41 5.75 8 5.75C7.59 5.75 7.25 5.41 7.25 5V3.56C4.3 3.83 3 5.73 3 8.5V17C3 20 4.5 22 8 22H16C19.5 22 21 20 21 17V8.5C21 5.73 19.7 3.83 16.75 3.56ZM12 16.75H8C7.59 16.75 7.25 16.41 7.25 16C7.25 15.59 7.59 15.25 8 15.25H12C12.41 15.25 12.75 15.59 12.75 16C12.75 16.41 12.41 16.75 12 16.75ZM16 11.75H8C7.59 11.75 7.25 11.41 7.25 11C7.25 10.59 7.59 10.25 8 10.25H16C16.41 10.25 16.75 10.59 16.75 11C16.75 11.41 16.41 11.75 16 11.75Z"/>
    </svg>
    `,info:`
    <svg width="800px" height="800px" viewBox="-160 0 512 512" xmlns="http://www.w3.org/2000/svg">
        <path d="M20 424.229h20V279.771H20c-11.046 0-20-8.954-20-20V212c0-11.046 8.954-20 20-20h112c11.046 0 20 8.954 20 20v212.229h20c11.046 0 20 8.954 20 20V492c0 11.046-8.954 20-20 20H20c-11.046 0-20-8.954-20-20v-47.771c0-11.046 8.954-20 20-20zM96 0C56.235 0 24 32.235 24 72s32.235 72 72 72 72-32.235 72-72S135.764 0 96 0z"/>
    </svg>
    `,warning:`
    <svg height="800px" width="800px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 294.995 294.995" xml:space="preserve">
        <path d="M291.874,248.279L165.605,26.526c-4.007-7.037-10.776-11.26-18.107-11.26s-14.101,4.202-18.107,11.239L3.121,248.238 c-3.979,6.989-4.164,15.013-0.493,21.326c3.67,6.313,10.663,10.165,18.705,10.165h252.329c8.042,0,15.035-3.852,18.705-10.165 C296.038,263.251,295.854,255.268,291.874,248.279z M146.665,86.229c9.665,0,17.5,7.835,17.5,17.5v63c0,9.665-7.835,17.5-17.5,17.5 c-9.665,0-17.5-7.835-17.5-17.5v-63C129.165,94.064,137,86.229,146.665,86.229z M147.498,204.005c9.665,0,17.5,7.835,17.5,17.5 c0,9.665-7.835,17.5-17.5,17.5c-9.665,0-17.5-7.835-17.5-17.5C129.998,211.84,137.833,204.005,147.498,204.005z"/>
    </svg>
    `,caution:`
    <svg height="800px" width="800px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512"  xml:space="preserve">
        <path class="st0" d="M387.317,0.005H284.666h-57.332h-102.65L0,124.688v102.67v57.294v102.67l124.684,124.674h102.65h57.332
            h102.651L512,387.321v-102.67v-57.294v-102.67L387.317,0.005z M255.45,411.299c-19.082,0-34.53-15.467-34.53-34.549
            c0-19.053,15.447-34.52,34.53-34.52c19.082,0,34.53,15.467,34.53,34.52C289.98,395.832,274.532,411.299,255.45,411.299z
             M283.414,278.692c0,15.448-12.516,27.964-27.964,27.964c-15.458,0-27.964-12.516-27.964-27.964l-6.566-135.368
            c0-19.072,15.447-34.54,34.53-34.54c19.082,0,34.53,15.467,34.53,34.54L283.414,278.692z"/>
    </svg>
    `,tip:`
    <svg height="800px" width="800px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 256 256" xml:space="preserve">
        <path d="M216.2,92.5c-5.2-5.3-13.8-5.4-19-0.1L157.8,134l-0.3,0.3c-25.5,0.1-46.2,16.8-46.2,37.3h-5.8c0-23.6,23.1-42.8,51.6-43.1
            l-0.1-19.4c0,0-0.1-85.4-0.1-85.5c-0.7-5.8-5.6-10.3-11.7-10.3c-6.5,0-11.7,5.3-11.7,11.7c0,0.2,0,72.9,0,72.9l-5.2,0.2l-0.1-81.2
            c0-6.5-5.3-11.7-11.8-11.7s-11.7,5.3-11.7,11.8v81h-5.6l0.1-63.6c0-6.5-5.3-11.7-11.8-11.7S75.7,28,75.7,34.4V98h-5.2l0.1-34.2
            c0-6.5-5.3-11.7-11.8-11.7s-11.7,5.3-11.7,11.8c0,108.4,0,108.4,0,111c0,13.2,6.8,24.4,16.2,28.1v48.4h0.2v0.4l81.2-0.4v-51.1
            c2.5-0.9,5.1-2,7.6-3.3c15.4-7.9,26.1-20.3,29.5-32.5c2.9-4.3,36.8-56.2,36.8-56.2C221.4,103.7,220.6,96.9,216.2,92.5z"/>
    </svg>  
    `,success:`
        <svg width="800px" height="800px" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
          <path d="M24,2A22,22,0,1,0,46,24,21.9,21.9,0,0,0,24,2ZM35.4,18.4l-14,14a1.9,1.9,0,0,1-2.8,0l-5.9-5.9a2.2,2.2,0,0,1-.4-2.7,2,2,0,0,1,3.1-.2L20,28.2,32.6,15.6a2,2,0,0,1,2.8,2.8Z"/>
        </svg>    
    `},d={directive:"note",showIcon:!0,title:"default",style:1,onDirectiveCreate:e.noop};e.directiveSetup=function(m){d=r.extend({},d,m)},typeof window.metroDirectiveSetup!==void 0&&e.directiveSetup(window.metroDirectiveSetup),e.Component("directive",{init:function(m,f){return this._super(f,m,d,{}),this},_create:function(){let m=this,f=this.element,u=this.options;this._createStructure(),this._createEvents(),this._fireEvent("directive-create")},_createStructure:function(){let m=this,f=this.element,u=this.options,g=f.wrap("<div>").addClass("directive").addClass(`directive-style-${u.style}`).addClass(`directive-${u.directive}`),h=r("<div>").addClass("directive-title").html(u.title==="default"?this.strings[`label_${u.directive.toLowerCase()}`].toUpperCase():u.title);u.showIcon&&h.prepend(r("<span>").addClass("icon").html(c[u.directive])),g.prepend(h),this.component=g},_createEvents:function(){let m=this,f=this.element,u=this.options},changeAttribute:function(m,f){},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={donutDeferred:0,size:100,hole:.8,value:0,background:"transparent",color:"",stroke:"#d1d8e7",fill:"#49649f",fontSize:0,total:100,cap:"%",showText:!0,showValue:!1,animate:0,onChange:e.noop,onDrawValue:function(t){return t},onDonutCreate:e.noop};e.donutSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroDonutSetup!==void 0&&e.donutSetup(globalThis.metroDonutSetup),e.Component("donut",{init:function(t,o){return this._super(o,t,a,{value:0,animation_change_interval:null}),this},_create:function(){var t=this.element,o=this.options;t.addClass("donut"),this._setElementSize(),this._draw(),this._addEvents(),this.val(o.value),this._fireEvent("donut-create",{element:t})},_setElementSize:function(){var t=this.element,o=this.options,i=o.size;t.css({width:i,background:o.background}),t.css({height:t.width()})},_draw:function(){var t=this.element,o=this.options,i="",p=t.width()/2,c=p*(1-(1-o.hole)/2),d=p*(1-o.hole),m="rotate(-90 "+p+","+p+")",f=o.fontSize===0?c*o.hole*.6:o.fontSize;i+="<svg>",i+="   <circle class='donut-back' r='"+c+"px' cx='"+p+"px' cy='"+p+"px' transform='"+m+"' fill='none' stroke='"+o.stroke+"' stroke-width='"+d+"'/>",i+="   <circle class='donut-fill' r='"+c+"px' cx='"+p+"px' cy='"+p+"px' transform='"+m+"' fill='none' stroke='"+o.fill+"' stroke-width='"+d+"'/>",o.showText===!0&&(i+="   <text class='donut-title' x='"+p+"px' y='"+p+"px' dy='"+f/3+"px' text-anchor='middle' fill='"+(o.color!==""?o.color:o.fill)+"' font-size='"+f+"px'></text>"),i+="</svg>",t.html(i)},_addEvents:function(){var t=this;r(globalThis).on("resize",function(){t._setElementSize(),t._draw(),t.val(t.value)})},_setValue:function(t){var o=this.element,i=this.options,p=o.find(".donut-fill"),c=o.find(".donut-title"),d=o.width()/2,m=d*(1-(1-i.hole)/2),f=Math.round(2*Math.PI*m),u=i.showValue?t:l.percent(i.total,t,!0),g=Math.round(+t*f/i.total),h=p.attr("stroke-dasharray");typeof h>"u"?h=0:h=+h.split(" ")[0];var b=g-h;p.animate({draw:function(v,k){r(this).attr("stroke-dasharray",h+b*k+" "+f)},dur:i.animate}),c.html(e.utils.exec(i.onDrawValue,[u+i.cap]))},val:function(t){var o=this.options;if(t===void 0)return this.value;if(parseInt(t)<0||parseInt(t)>o.total)return!1;this._setValue(t),this.value=t,this._fireEvent("change",{value:this.value})},setColor:function(t){var o=["background","fill","stroke","color"],i=this;return r.each(t,function(p,c){o.indexOf(p)!==-1&&(i.options[p]=c)}),this._draw(),this.val(this.value),this},changeValue:function(){this.val(this.element.attr("data-value"))},changeAttribute:function(t,o){switch(t){case"data-value":this.changeValue();break;case"data-background":this.setColor({background:o});break;case"data-fill":this.setColor({fill:o});break;case"data-stroke":this.setColor({stroke:o});break;case"data-color":this.setColor({color:o});break}},destroy:function(){return this.element}})})(Metro,Dom);(function(e,r){"use strict";var l={height:"auto",multiSelect:!1,moveRightIcon:"&rsaquo;",moveRightAllIcon:"&raquo;",moveLeftIcon:"&lsaquo;",moveLeftAllIcon:"&laquo;",clsBox:"",clsMoveButton:"",clsMoveRightButton:"",clsMoveRightAllButton:"",clsMoveLeftButton:"",clsMoveLeftAllButton:"",clsListLeft:"",clsListRight:"",onDoubleSelectBoxCreate:e.noop};e.doubleSelectBoxSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroDoubleSelectBoxSetup!==void 0&&e.doubleSelectBoxSetup(globalThis.metroDoubleSelectBoxSetup),e.Component("double-select-box",{init:function(a,t){return this._super(t,a,l,{select1:null,select2:null,list1:null,list2:null}),this},_create:function(){var a=this,t=this.element,o=this.options;if(t.children("select").length!==2)throw new Error("Component DoubleSelectBox required two select elements!");this._createStructure(),this._createEvents(),this._fireEvent("double-select-box-create")},_drawList:function(){var a=this;this.list1.clear(),this.select1.find("option").each(function(t,o){let i=r(o),p=i.attr("data-icon"),c=i.attr("data-template")?i.attr("data-template").replace(/\$1/g,i.text()):i.text();p&&(c=r("<span>").addClass("icon").append(p).outerHTML()+c),a.list1.append(r("<li>").html(c).attr("data-value",o.value).data("option",o))}),this.list2.clear(),this.select2.find("option").each(function(t,o){let i=r(o),p=i.attr("data-icon"),c=i.attr("data-template")?i.attr("data-template").replace(/\$1/g,i.text()):i.text();p&&(c=r("<span>").addClass("icon").append(p).outerHTML()+c),a.list2.append(r("<li>").html(c).attr("data-value",o.value).data("option",o))})},_createStructure:function(){var a=this,t=this.element,o=this.options,i=t.children("select"),p=i.eq(0),c=i.eq(1),d=r("<div>").addClass("controls").insertBefore(c),m,f;t.addClass("double-select-box").addClass(o.clsBox).css({height:o.height}),i.prop("multiple",!0),d.append(r([r("<button>").attr("type","button").addClass("button square small --move-right").addClass(o.clsMoveButton).addClass(o.clsMoveRightButton).html(`<span class="icon">${o.moveRightIcon}</span>`),r("<button>").attr("type","button").addClass("button square small --move-right-all").addClass(o.clsMoveButton).addClass(o.clsMoveRightAllButton).html(`<span class="icon">${o.moveRightAllIcon}</span>`),r("<button>").attr("type","button").addClass("button square small --move-left-all").addClass(o.clsMoveButton).addClass(o.clsMoveLeftAllButton).html(`<span class="icon">${o.moveLeftAllIcon}</span>`),r("<button>").attr("type","button").addClass("button square small --move-left").addClass(o.clsMoveButton).addClass(o.clsMoveLeftButton).html(`<span class="icon">${o.moveLeftIcon}</span>`)])),m=r("<ul>").addClass("--list1").addClass(o.clsListLeft).insertBefore(p),f=r("<ul>").addClass("--list2").addClass(o.clsListRight).insertBefore(c),this.select1=p,this.select2=c,this.list1=m,this.list2=f,this._drawList()},_moveItems:function(a,t){r.each(a,function(){var o=r(this),i=o.data("option");r(i).appendTo(t[0]),o.removeClass("active").appendTo(t[1])})},_move:function(a,t){var o=this;t==="selected"?a==="ltr"?o._moveItems(this.list1.find("li.active"),[o.select2,o.list2]):o._moveItems(this.list2.find("li.active"),[o.select1,o.list1]):a==="ltr"?o._moveItems(this.list1.find("li"),[o.select2,o.list2]):o._moveItems(this.list2.find("li"),[o.select1,o.list1])},_createEvents:function(){var a=this,t=this.element,o=this.options,i=t.find("li");i.on("click",function(){var p=r(this);o.multiSelect===!1&&(a.list1.find("li").removeClass("active"),a.list2.find("li").removeClass("active")),p.addClass("active")}),i.on("dblclick",function(){var p=r(this),c=p.parent().hasClass("--list1")?"ltr":"rtl",d="selected";a.list1.find("li").removeClass("active"),a.list2.find("li").removeClass("active"),p.addClass("active"),a._move(c,d)}),t.on("click","button",function(){var p=r(this);if(p.hasClass("--move-right"))a._move("ltr","selected");else if(p.hasClass("--move-right-all"))a._move("ltr","all");else if(p.hasClass("--move-left"))a._move("rtl","selected");else if(p.hasClass("--move-left-all"))a._move("rtl","all");else throw new Error("Pressed unregistered button!")})},changeAttribute:function(a,t){},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={doublesliderDeferred:0,roundValue:!0,min:0,max:100,accuracy:0,showMinMax:!1,minMaxPosition:e.position.BOTTOM,valueMin:null,valueMax:null,hint:!1,hintAlways:!1,hintPositionMin:e.position.TOP,hintPositionMax:e.position.TOP,hintMaskMin:"$1",hintMaskMax:"$1",target:null,size:0,clsSlider:"",clsBackside:"",clsComplete:"",clsMarker:"",clsMarkerMin:"",clsMarkerMax:"",clsHint:"",clsHintMin:"",clsHintMax:"",clsMinMax:"",clsMin:"",clsMax:"",onStart:e.noop,onStop:e.noop,onMove:e.noop,onChange:e.noop,onChangeValue:e.noop,onFocus:e.noop,onBlur:e.noop,onDoubleSliderCreate:e.noop};e.doubleSliderSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroDoubleSliderSetup!==void 0&&e.doubleSliderSetup(globalThis.metroDoubleSliderSetup),e.Component("double-slider",{init:function(t,o){return this._super(o,t,a,{slider:null,valueMin:null,valueMax:null,keyInterval:!1,id:l.elementId("slider")}),this},_create:function(){var t=this.element,o=this.options;this.valueMin=l.isValue(o.valueMin)?+o.valueMin:+o.min,this.valueMax=l.isValue(o.valueMax)?+o.valueMax:+o.max,this._createSlider(),this._createEvents(),this.val(this.valueMin,this.valueMax),this._fireEvent("double-slider-create",{element:t})},_createSlider:function(){var t=this.element,o=this.options,i=r("<div>").addClass("slider-wrapper"),p=r("<div>").addClass("slider").addClass(o.clsSlider).addClass(this.elem.className),c=r("<div>").addClass("backside").addClass(o.clsBackside),d=r("<div>").addClass("complete").addClass(o.clsComplete),m=r("<button>").attr("type","button").addClass("marker marker-min").addClass(o.clsMarker).addClass(o.clsMarkerMin),f=r("<button>").attr("type","button").addClass("marker marker-max").addClass(o.clsMarker).addClass(o.clsMarkerMax),u=r("<div>").addClass("hint hint-min").addClass(o.hintPositionMin+"-side").addClass(o.clsHint).addClass(o.clsHintMin),g=r("<div>").addClass("hint hint-max").addClass(o.hintPositionMax+"-side").addClass(o.clsHint).addClass(o.clsHintMax),h;if(o.size>0&&p.outerWidth(o.size),p.insertBefore(t),t.appendTo(p),i.insertBefore(p),p.appendTo(i),c.appendTo(p),d.appendTo(p),m.appendTo(p),f.appendTo(p),u.appendTo(m),g.appendTo(f),o.hintAlways===!0&&r([u,g]).css({display:"block"}).addClass("permanent-hint"),o.showMinMax===!0){var b=r("<div>").addClass("slider-min-max").addClass(o.clsMinMax);r("<span>").addClass("slider-text-min").addClass(o.clsMin).html(`${o.min}`).appendTo(b),r("<span>").addClass("slider-text-max").addClass(o.clsMax).html(`${o.max}`).appendTo(b),o.minMaxPosition===e.position.TOP?b.insertBefore(p):b.insertAfter(p)}if(t[0].className="",o.copyInlineStyles===!0)for(h=0;h<t[0].style.length;h++)p.css(t[0].style[h],t.css(t[0].style[h]));t.is(":disabled")?this.disable():this.enable(),this.slider=p},_createEvents:function(){var t=this,o=this.slider,i=this.options,p=o.find(".marker");p.on(e.events.startAll,function(){var c=r(this),d=c.find(".hint");c.addClass("active"),i.hint===!0&&i.hintAlways!==!0&&d.fadeIn(300),r(document).on(e.events.moveAll,function(m){t._move(m),t._fireEvent("move",{min:t.valueMin,max:t.valueMax})},{ns:t.id}),r(document).on(e.events.stopAll,function(){o.find(".marker").removeClass("active"),r(document).off(e.events.moveAll,{ns:t.id}),r(document).off(e.events.stopAll,{ns:t.id}),i.hintAlways!==!0&&d.fadeOut(300),t._fireEvent("stop",{min:t.valueMin,max:t.valueMax})},{ns:t.id}),t._fireEvent("start",{min:t.valueMin,max:t.valueMax})}),p.on(e.events.focus,function(){t._fireEvent("focus",{min:t.valueMin,max:t.valueMax})}),p.on(e.events.blur,function(){t._fireEvent("blur",{min:t.valueMin,max:t.valueMax})}),r(globalThis).on(e.events.resize,function(){t.val(t.valueMin,t.valueMax)},{ns:t.id})},_convert:function(t,o){var i=this.slider,p=this.options,c=i.outerWidth()-i.find(".marker").outerWidth();switch(o){case"pix2prc":return t*100/c;case"pix2val":return this._convert(t,"pix2prc")*((p.max-p.min)/100)+p.min;case"val2prc":return(t-p.min)/((p.max-p.min)/100);case"prc2pix":return t/(100/c);case"val2pix":return this._convert(this._convert(t,"val2prc"),"prc2pix")}return 0},_correct:function(t){var o=t,i=this.options.accuracy,p=this.options.min,c=this.options.max,d=function(m){return m%1===0?0:m.toString().split(".")[1].length};return i===0||isNaN(i)?o:(o=Math.round(t/i)*i,o<p&&(o=p),o>c&&(o=c),o.toFixed(d(i)))},_move:function(t){var o=this.slider.find(".marker.active"),i=o.hasClass("marker-min"),p=this.slider,c=p.offset(),d=p.find(".marker").outerWidth(),m=p.find(".marker-min"),f=p.find(".marker-max"),u=p.outerWidth(),g,h,b;g=l.pageXY(t).x-c.left-d/2,i?(h=0,b=parseInt(f.css("left"))-d):(h=parseInt(m.css("left"))+d,b=u-d),!(g<h||g>b)&&(this[i?"valueMin":"valueMax"]=this._correct(this._convert(g,"pix2val")),this._redraw())},_hint:function(){var t=this,o=this.options,i=this.slider,p=i.find(".hint");p.each(function(){var c=r(this),d=c.hasClass("hint-min"),m=d?o.hintMaskMin:o.hintMaskMax,f=+(d?t.valueMin:t.valueMax)||0;c.text(m.replace("$1",f.toFixed(l.decCount(o.accuracy))))})},_value:function(){var t=this.element,o=this.options,i=+this.valueMin||0,p=+this.valueMax||0,c;if(o.roundValue&&(i=i.toFixed(l.decCount(o.accuracy)),p=p.toFixed(l.decCount(o.accuracy))),c=[i,p].join(", "),t[0].tagName==="INPUT"&&t.val(c),o.target!==null){var d=r(o.target);d.length!==0&&r.each(d,function(){var m=r(this);this.tagName==="INPUT"?m.val(c):m.text(c),m.trigger("change")})}this._fireEvent("change-value",{val:c}),this._fireEvent("change",{val:c})},_marker:function(){var t=this.slider,o=t.find(".marker-min"),i=t.find(".marker-max"),p=t.find(".complete"),c=parseInt(l.getStyleOne(o,"width")),d=l.isVisible(t);d&&r([o,i]).css({"margin-top":0,"margin-left":0}),d?(o.css("left",this._convert(this.valueMin,"val2pix")),i.css("left",this._convert(this.valueMax,"val2pix"))):(o.css({left:this._convert(this.valueMin,"val2prc")+"%","margin-top":this._convert(this.valueMin,"val2prc")===0?0:-1*c/2}),i.css({left:this._convert(this.valueMax,"val2prc")+"%","margin-top":this._convert(this.valueMax,"val2prc")===0?0:-1*c/2})),p.css({left:this._convert(this.valueMin,"val2pix"),width:this._convert(this.valueMax,"val2pix")-this._convert(this.valueMin,"val2pix")})},_redraw:function(){this._marker(),this._value(),this._hint()},val:function(t,o){var i=this.options;if(!l.isValue(t)&&!l.isValue(o))return[this.valueMin,this.valueMax];t<i.min&&(t=i.min),o<i.min&&(o=i.min),t>i.max&&(t=i.max),o>i.max&&(o=i.max),this.valueMin=this._correct(t),this.valueMax=this._correct(o),this._redraw()},changeValue:function(){var t=this.element,o=+t.attr("data-value-min"),i=+t.attr("data-value-max");this.val(o,i)},disable:function(){var t=this.element;t.data("disabled",!0),t.parent().addClass("disabled")},enable:function(){var t=this.element;t.data("disabled",!1),t.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(t){switch(t){case"data-value-min":this.changeValue();break;case"data-value-max":this.changeValue();break;case"disabled":this.toggleState();break}},destroy:function(){var t=this.element,o=this.slider,i=o.find(".marker");return i.off(e.events.startAll),i.off(e.events.focus),i.off(e.events.blur),i.off(e.events.keydown),i.off(e.events.keyup),o.off(e.events.click),r(globalThis).off(e.events.resize,{ns:this.id}),t}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={dragitemsDeferred:0,target:null,dragItem:"li",dragMarker:".drag-item-marker",drawDragMarker:!1,clsDragItemAvatar:"",clsDragItem:"",canDrag:!0,onDragStartItem:e.noop,onDragMoveItem:e.noop,onDragDropItem:e.noop,onTarget:e.noop,onTargetIn:e.noop,onTargetOut:e.noop,onDragItemsCreate:e.noop};e.dragItemsSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroDragItemsSetup!==void 0&&e.dragItemsSetup(globalThis.metroDragItemsSetup),e.Component("drag-items",{init:function(t,o){return this._super(o,t,a,{id:l.elementId("dragItems"),canDrag:!1}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("drag-items-create",{element:t})},_createStructure:function(){var t=this.element,o=this.options;t.addClass("drag-items-target"),o.drawDragMarker===!0&&t.find(o.dragItem).each(function(){r("<span>").addClass("drag-item-marker").appendTo(this)}),o.canDrag?this.on():this.off()},_createEvents:function(){var t=this,o=this.element,i=this.options,p=r.document(),c=r.body(),d,m={top:0,left:0},f,u,g=function(h,b,v){var k=l.pageXY(h).x,w=l.pageXY(h).y,T=w-m.top,_=k-m.left;b.css({top:T,left:_});var y=document.elementsFromPoint(k,w).filter(function(W){return r(W).hasClass("drag-items-target")});if(y.length!==0){t._fireEvent("target",{target:y});var C=document.elementsFromPoint(k,w).filter(function(W){var at=r(W);return r.matches(W,i.dragItem)&&!at.hasClass("dragged-item-avatar")})[0];if(!l.isValue(C))v.appendTo(y);else{var z=r(C),A=z.offset(),R=w-A.top,N=k-A.left,Y,q={w:z.width(),h:z.height()};N<q.w/3&&(R<q.h/2||R>q.h/2)?Y="left":N>q.w*2/3&&(R<q.h/2||R>q.h/2)?Y="right":N>q.w/3&&N<q.w*2/3&&R>q.h/2?Y="bottom":Y="top",z.hasClass("dragged-item")||(Y==="top"||Y==="left"?v.insertBefore(z):v.insertAfter(z))}}};o.on(e.events.startAll,i.drawDragMarker?i.dragMarker:i.dragItem,function(h){var b=r(h.target).closest(i.dragItem),v;l.isRightMouse(h)||t.canDrag===!0&&(b.addClass("dragged-item").addClass(i.clsDragItem),v=r("<div>").addClass("dragged-item-avatar").addClass(i.clsDragItemAvatar),d=b.offset(),f=b.width(),u=b.height(),m.top=l.pageXY(h).y-d.top,m.left=l.pageXY(h).x-d.left,v.css({top:d.top,left:d.left,width:f,height:u}).appendTo(c),t._fireEvent("drag-start-item",{dragItem:b[0],avatar:v[0]}),p.on(e.events.moveAll,function(k){g(k,v,b),t._fireEvent("drag-move-item",{dragItem:b[0],avatar:v[0]}),k.preventDefault()},{ns:t.id,passive:!1}),p.on(e.events.stopAll,function(){t._fireEvent("drag-drop-item",{dragItem:b[0],avatar:v[0]}),b.removeClass("dragged-item").removeClass(i.clsDragItem),v.remove(),p.off(e.events.moveAll,{ns:t.id}),p.off(e.events.stopAll,{ns:t.id})},{ns:t.id}),i.drawDragMarker&&(h.preventDefault(),h.stopPropagation()))})},on:function(){this.canDrag=!0,this.element.find(".drag-item-marker").show()},off:function(){this.canDrag=!1,this.element.find(".drag-item-marker").hide()},toggle:function(){this.canDrag=this.canDrag?this.off():this.on()},changeAttribute:function(t){var o=this,i=this.element,p=this.options,c=function(){p.canDtag=JSON.parse(i.attr("data-can-drag")),p.canDtag?o.on():o.off()};t==="data-can-drag"&&c()},destroy:function(){var t=this.element,o=this.options;return t.off(e.events.startAll,o.drawDragMarker?o.dragMarker:o.dragItem),t}})})(Metro,Dom);(function(e,r){"use strict";let l={dragContext:null,draggableDeferred:0,dragElement:"self",dragArea:"parent",timeout:0,boundaryRestriction:!0,onCanDrag:e.noop_true,onDragStart:e.noop,onDragStop:e.noop,onDragMove:e.noop,onDraggableCreate:e.noop};e.draggableSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroDraggableSetup!==void 0&&e.draggableSetup(globalThis.metroDraggableSetup),e.Component("draggable",{init:function(a,t){return this._super(t,a,l,{drag:!1,move:!1,backup:{cursor:"default",zIndex:"0"},dragArea:null,dragElement:null,id:e.utils.elementId("draggable")}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("draggable-create",{element:this.element})},_createStructure:function(){let a=this,t=this.element,o=this.options,i=t.offset(),p=o.dragElement!=="self"?t.find(o.dragElement):t;t.data("canDrag",!0),this.dragElement=p,p[0].ondragstart=function(){return!1},t.css("position","absolute"),(o.dragArea==="document"||o.dragArea==="window")&&(o.dragArea="body"),setTimeout(function(){a.dragArea=o.dragArea==="parent"?t.parent():r(o.dragArea),a.dragArea.css("position")==="static"&&a.dragArea.css("position","relative"),o.dragArea!=="parent"&&(t.appendTo(a.dragArea),t.css({top:i.top,left:i.left}))}),t.attr("id")||t.attr("id",e.utils.elementId("draggable"))},_createEvents:function(){let a=this,t=this.element,o=this.options,i={x:0,y:0};this.dragElement.on(e.events.startAll,function(p){let c=t.position(),d=e.utils.pageXY(p).x-c.left,m=e.utils.pageXY(p).y-c.top,f=function(u){let g=e.utils.pageXY(u).y-m,h=e.utils.pageXY(u).x-d;o.boundaryRestriction&&(g<0&&(g=0),h<0&&(h=0),g>a.dragArea.outerHeight()-t.outerHeight()&&(g=a.dragArea.outerHeight()-t.outerHeight()),h>a.dragArea.outerWidth()-t.outerWidth()&&(h=a.dragArea.outerWidth()-t.outerWidth())),i.y=g,i.x=h,t.css({left:h,top:g}),a._fireEvent("drag-move",{position:i,context:o.dragContext})};t.data("canDrag")===!1||e.utils.exec(o.onCanDrag,[t])!==!0||e.isTouchable===!1&&p.which!==1||(a.drag=!0,t.addClass("draggable"),a._fireEvent("drag-start",{position:i,context:o.dragContext}),r(document).on(e.events.moveAll,f,{ns:a.id,passive:!1}),r(document).on(e.events.stopAll,function(){t.removeClass("draggable"),r(document).off(e.events.moveAll,{ns:a.id}),r(document).off(e.events.stopAll,{ns:a.id}),a.drag=!1,a.move=!1,a._fireEvent("drag-stop",{position:i,context:o.dragContext})},{ns:a.id}))})},off:function(){this.element.data("canDrag",!1)},on:function(){this.element.data("canDrag",!0)},changeAttribute:function(a,t){},destroy:function(){let a=this.element;return this.dragElement.off(e.events.startAll),a}})})(Metro,Dom);(function(e,r){"use strict";let l={};e.evalSetup=function(a){l=r.extend({},l,a)},typeof window.metroEvalSetup!==void 0&&e.evalSetup(window.metroEvalSetup),e.Component("eval",{init:function(a,t){return this._super(t,a,l,{}),this},_create:function(){let a=this.element;a.text(this.eval(a.text()))},eval:a=>a.replace(/{{(.*?)}}/gs,(t,o)=>{try{let i=o.includes("return")?o:"return "+o;return new Function(i)()}catch{return t}}),destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={init:function(){return this},options:{csvDelimiter:"	",csvNewLine:`\r
`,includeHeader:!0},setup:function(t){return this.options=r.extend({},this.options,t),this},base64:function(t){return globalThis.btoa(unescape(encodeURIComponent(t)))},b64toBlob:function(t,o,i){o=o||"",i=i||512;var p=globalThis.atob(t),c=[],d;for(d=0;d<p.length;d+=i){var m=p.slice(d,d+i),f=new Array(m.length),u;for(u=0;u<m.length;u=u+1)f[u]=m.charCodeAt(u);var g=new globalThis.Uint8Array(f);c.push(g)}return new Blob(c,{type:o})},tableToCSV:function(t,o,i){var p,c,d,m="",f,u,g,h;if(p=r.extend({},this.options,i),t=r(t)[0],l.bool(p.includeHeader))for(d=t.querySelectorAll("thead")[0],f=0;f<d.rows.length;f++){for(g=d.rows[f],u=0;u<g.cells.length;u++)h=g.cells[u],m+=(u?p.csvDelimiter:"")+h.textContent.trim();m+=p.csvNewLine}for(c=t.querySelectorAll("tbody")[0],f=0;f<c.rows.length;f++){for(g=c.rows[f],u=0;u<g.cells.length;u++)h=g.cells[u],m+=(u?p.csvDelimiter:"")+h.textContent.trim();m+=p.csvNewLine}return l.isValue(o)?this.createDownload(this.base64("\uFEFF"+m),"application/csv",o):m},createDownload:function(t,o,i){var p,c,d;return c=document.createElement("a"),c.style.display="none",document.body.appendChild(c),p=this.b64toBlob(t,o),d=globalThis.URL.createObjectURL(p),c.href=d,c.download=i||l.elementId("download"),c.click(),globalThis.URL.revokeObjectURL(d),document.body.removeChild(c),!0},arrayToCsv:function(t,o,i){var p,c="",d,m;for(p=r.extend({},this.options,i),d=0;d<t.length;d++)m=t[d],typeof m!="object"?c+=m+p.csvNewLine:(r.each(m,function(f,u){c+=(f?p.csvDelimiter:"")+u.toString()}),c+=p.csvNewLine);return l.isValue(o)?this.createDownload(this.base64("\uFEFF"+c),"application/csv",o):c}};e.export=a.init(),globalThis.METRO_GLOBAL_COMMON===!0&&(globalThis.Export=e.export)})(Metro,Dom);(function(e,r){"use strict";let l={fileDeferred:0,label:"",mode:"input",buttonTitle:"",filesSelectedTitle:"",dropTitle:"",dropIcon:"\u{1F4E5}",clearButtonIcon:"\u274C",prepend:"",clsComponent:"",clsPrepend:"",clsButton:"",clsCaption:"",clsLabel:"",onSelect:e.noop,onFileCreate:e.noop};e.fileSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroFileSetup!==void 0&&e.fileSetup(globalThis.metroFileSetup),e.Component("file",{init:function(a,t){return this._super(t,a,l),this},_create:function(){let a=this.element;this._createStructure(),this._createEvents(),this._fireEvent("file-create",{element:a})},_createStructure:function(){let a=this.element,t=this.options,o=a.wrap("<div>").addClass((t.mode==="input"?" file ":t.mode==="button"?" file-button ":" drop-zone ")+a[0].className).addClass(t.clsComponent),i=r("<span>").addClass("caption").addClass(t.clsCaption),p=r("<span>").addClass("files").addClass(t.clsCaption),c,d;if(t.mode.includes("drop")?(c=r("<span>").addClass("icon").html(t.dropIcon).appendTo(o),i.html(t.dropTitle||this.strings.label_drop_file).insertAfter(c),p.html((t.filesSelectedTitle||this.strings.label_files_selected).replace("{n}",0)).insertAfter(i),d=r("<button>").addClass("button clear-button square").html(t.clearButtonIcon).appendTo(o)):(i.insertBefore(a),d=r("<button>").addClass("button select-files-button").attr("tabindex",-1).html(t.buttonTitle||this.strings.label_choose_file),d.appendTo(o),d.addClass(t.clsButton),o.hasClass("input-small")&&d.addClass("small"),a.attr("dir")==="rtl"&&o.addClass("rtl"),t.prepend!==""&&r("<div>").html(t.prepend).addClass("prepend").addClass(t.clsPrepend).appendTo(o)),a[0].className="",t.label){let m=r("<label>").addClass("label-for-input").addClass(t.clsLabel).html(t.label).insertBefore(o);if(a.attr("id"))m.attr("for",a.attr("id"));else{let f=Hooks.useId(a[0]);m.attr("for",f),a.attr("id",f)}a.attr("dir")==="rtl"&&m.addClass("rtl")}a.is(":disabled")?this.disable():this.enable()},_createEvents:function(){let a=this,t=this.element,o=this.options,i=t.closest("label"),p=i.find(".caption"),c=i.find(".files"),d=t.closest("form");d.length&&d.on("reset",function(){a.clear()}),i.on(e.events.click,".select-files-button",function(){t[0].click()}),i.on(e.events.click,".clear-button",function(){a.clear()}),t.on(e.events.change,function(){let m=this,f=[],u;Array.from(m.files).forEach(function(g){f.push(g.name)}),o.mode==="input"?(u=f.join(", "),p.html(u),p.attr("title",u)):c.html((o.filesSelectedTitle||a.strings.label_files_selected).replace("{n}",t[0].files.length)),a._fireEvent("select",{files:m.files})}),t.on(e.events.focus,function(){i.addClass("focused")}),t.on(e.events.blur,function(){i.removeClass("focused")}),o.mode!=="input"&&(i.on("drag dragstart dragend dragover dragenter dragleave drop",function(m){m.preventDefault()}),i.on("dragenter dragover",function(){i.addClass("drop-on")}),i.on("dragleave",function(){i.removeClass("drop-on")}),i.on("drop",function(m){t[0].files=m.dataTransfer.files,c.html((o.filesSelectedTitle||a.strings.label_files_selected).replace("{n}",t[0].files.length)),i.removeClass("drop-on"),t.trigger("change")}))},clear:function(){let a=this.element,t=this.options;t.mode==="input"?a.siblings(".caption").html(""):a.siblings(".files").html((t.filesSelectedTitle||this.strings.label_files_selected).replace("{n}",0)),a[0].value="",a.trigger("change")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggleDir:function(){this.element.attr("dir")==="rtl"?this.element.parent().addClass("rtl"):this.element.parent().removeClass("rtl")},changeAttribute:function(a){switch(a){case"disabled":this.toggleState();break;case"dir":this.toggleDir();break}},destroy:function(){let a=this.element,t=this.options,o=a.parent();a.off(e.events.change),o.off(e.events.click,"button"),t.label&&o.prev("label").remove(),o.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={gradientType:"linear",gradientShape:"",gradientPosition:"",gradientSize:"",gradientColors:"#000, #fff",gradientRepeat:!1,onGradientBoxCreate:e.noop};e.gradientBoxSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroGradientBoxSetup!==void 0&&e.gradientBoxSetup(globalThis.metroGradientBoxSetup),e.Component("gradient-box",{init:function(t,o){return this._super(o,t,a,{colors:[],shape:"",size:"",position:"",type:"linear",func:"linear-gradient",repeat:!1}),this},_create:function(){var t=this.options;this.colors=t.gradientColors.toArray(","),this.type=t.gradientType.toLowerCase(),this.shape=t.gradientShape.toLowerCase(),this.size=t.gradientSize.toLowerCase(),this.repeat=t.gradientRepeat,this.func=(this.repeat?"repeating-":"")+this.type+"-gradient",this.type==="linear"?t.gradientPosition?(this.position=isNaN(t.gradientPosition)===!1?t.gradientPosition+"deg":t.gradientPosition,this.position.indexOf("deg")===-1&&this.position.indexOf("to ")===-1&&(this.position="to "+this.position)):this.position="to bottom":(this.position=t.gradientPosition.toLowerCase(),this.position&&this.position.indexOf("at ")===-1&&(this.position="at "+this.position)),this._createStructure(),this._setGradient(),this._fireEvent("gradient-box-create")},_createStructure:function(){this.element.addClass("gradient-box")},_setGradient:function(){var t=this.element,o,i=[];this.type==="radial"&&this.shape&&i.push(this.shape),this.type==="radial"&&this.size&&i.push(this.size),this.position,o=this.func+"("+(i.length?i.join(" ")+", ":"")+this.colors.join(", ")+")",t.css({background:o})},changeAttribute:function(t,o){if(t.indexOf("data-gradient-")!==-1){switch(t){case"data-gradient-type":this.type=o,this.func=o.toLowerCase()+"-gradient";break;case"data-gradient-colors-css":this.colors=o?o.toArray(","):["#fff","#000"];break;case"data-gradient-shape":this.shape=o.toLowerCase();break;case"data-gradient-size":this.size=o.toLowerCase();break;case"data-gradient-position":this.position=o.toLowerCase();break;case"data-gradient-repeat":this.repeat=l.bool(o);break}this._setGradient()}},destroy:function(){return this.element}})})(Metro,Dom);(function(e){"use strict";e.md5=function(r){function l(V,P){return V<<P|V>>>32-P}function a(V,P){var D,U,X,$,J;return X=V&2147483648,$=P&2147483648,D=V&1073741824,U=P&1073741824,J=(V&1073741823)+(P&1073741823),D&U?J^2147483648^X^$:D|U?J&1073741824?J^3221225472^X^$:J^1073741824^X^$:J^X^$}function t(V,P,D){return V&P|~V&D}function o(V,P,D){return V&D|P&~D}function i(V,P,D){return V^P^D}function p(V,P,D){return P^(V|~D)}function c(V,P,D,U,X,$,J){return V=a(V,a(a(t(P,D,U),X),J)),a(l(V,$),P)}function d(V,P,D,U,X,$,J){return V=a(V,a(a(o(P,D,U),X),J)),a(l(V,$),P)}function m(V,P,D,U,X,$,J){return V=a(V,a(a(i(P,D,U),X),J)),a(l(V,$),P)}function f(V,P,D,U,X,$,J){return V=a(V,a(a(p(P,D,U),X),J)),a(l(V,$),P)}function u(V){for(var P,D=V.length,U=D+8,X=(U-U%64)/64,$=(X+1)*16,J=Array($-1),ee=0,kt=0;kt<D;)P=(kt-kt%4)/4,ee=kt%4*8,J[P]=J[P]|V.charCodeAt(kt)<<ee,kt++;return P=(kt-kt%4)/4,ee=kt%4*8,J[P]=J[P]|128<<ee,J[$-2]=D<<3,J[$-1]=D>>>29,J}function g(V){var P="",D="",U,X;for(X=0;X<=3;X++)U=V>>>X*8&255,D="0"+U.toString(16),P=P+D.substr(D.length-2,2);return P}function h(V){V=V.replace(/\r\n/g,`
`);for(var P="",D=0;D<V.length;D++){var U=V.charCodeAt(D);U<128?P+=String.fromCharCode(U):U>127&&U<2048?(P+=String.fromCharCode(U>>6|192),P+=String.fromCharCode(U&63|128)):(P+=String.fromCharCode(U>>12|224),P+=String.fromCharCode(U>>6&63|128),P+=String.fromCharCode(U&63|128))}return P}var b=[],v,k,w,T,_,y,C,z,A,R=7,N=12,Y=17,q=22,W=5,at=9,Et=14,vt=20,te=4,ct=11,M=16,gt=23,dt=6,et=10,_t=15,zt=21;for(r=h(r),b=u(r),y=1732584193,C=4023233417,z=2562383102,A=271733878,v=0;v<b.length;v+=16)k=y,w=C,T=z,_=A,y=c(y,C,z,A,b[v],R,3614090360),A=c(A,y,C,z,b[v+1],N,3905402710),z=c(z,A,y,C,b[v+2],Y,606105819),C=c(C,z,A,y,b[v+3],q,3250441966),y=c(y,C,z,A,b[v+4],R,4118548399),A=c(A,y,C,z,b[v+5],N,1200080426),z=c(z,A,y,C,b[v+6],Y,2821735955),C=c(C,z,A,y,b[v+7],q,4249261313),y=c(y,C,z,A,b[v+8],R,1770035416),A=c(A,y,C,z,b[v+9],N,2336552879),z=c(z,A,y,C,b[v+10],Y,4294925233),C=c(C,z,A,y,b[v+11],q,2304563134),y=c(y,C,z,A,b[v+12],R,1804603682),A=c(A,y,C,z,b[v+13],N,4254626195),z=c(z,A,y,C,b[v+14],Y,2792965006),C=c(C,z,A,y,b[v+15],q,1236535329),y=d(y,C,z,A,b[v+1],W,4129170786),A=d(A,y,C,z,b[v+6],at,3225465664),z=d(z,A,y,C,b[v+11],Et,643717713),C=d(C,z,A,y,b[v],vt,3921069994),y=d(y,C,z,A,b[v+5],W,3593408605),A=d(A,y,C,z,b[v+10],at,38016083),z=d(z,A,y,C,b[v+15],Et,3634488961),C=d(C,z,A,y,b[v+4],vt,3889429448),y=d(y,C,z,A,b[v+9],W,568446438),A=d(A,y,C,z,b[v+14],at,3275163606),z=d(z,A,y,C,b[v+3],Et,4107603335),C=d(C,z,A,y,b[v+8],vt,1163531501),y=d(y,C,z,A,b[v+13],W,2850285829),A=d(A,y,C,z,b[v+2],at,4243563512),z=d(z,A,y,C,b[v+7],Et,1735328473),C=d(C,z,A,y,b[v+12],vt,2368359562),y=m(y,C,z,A,b[v+5],te,4294588738),A=m(A,y,C,z,b[v+8],ct,2272392833),z=m(z,A,y,C,b[v+11],M,1839030562),C=m(C,z,A,y,b[v+14],gt,4259657740),y=m(y,C,z,A,b[v+1],te,2763975236),A=m(A,y,C,z,b[v+4],ct,1272893353),z=m(z,A,y,C,b[v+7],M,4139469664),C=m(C,z,A,y,b[v+10],gt,3200236656),y=m(y,C,z,A,b[v+13],te,681279174),A=m(A,y,C,z,b[v],ct,3936430074),z=m(z,A,y,C,b[v+3],M,3572445317),C=m(C,z,A,y,b[v+6],gt,76029189),y=m(y,C,z,A,b[v+9],te,3654602809),A=m(A,y,C,z,b[v+12],ct,3873151461),z=m(z,A,y,C,b[v+15],M,530742520),C=m(C,z,A,y,b[v+2],gt,3299628645),y=f(y,C,z,A,b[v],dt,4096336452),A=f(A,y,C,z,b[v+7],et,1126891415),z=f(z,A,y,C,b[v+14],_t,2878612391),C=f(C,z,A,y,b[v+5],zt,4237533241),y=f(y,C,z,A,b[v+12],dt,1700485571),A=f(A,y,C,z,b[v+3],et,2399980690),z=f(z,A,y,C,b[v+10],_t,4293915773),C=f(C,z,A,y,b[v+1],zt,2240044497),y=f(y,C,z,A,b[v+8],dt,1873313359),A=f(A,y,C,z,b[v+15],et,4264355552),z=f(z,A,y,C,b[v+6],_t,2734768916),C=f(C,z,A,y,b[v+13],zt,1309151649),y=f(y,C,z,A,b[v+4],dt,4149444226),A=f(A,y,C,z,b[v+11],et,3174756917),z=f(z,A,y,C,b[v+2],_t,718787259),C=f(C,z,A,y,b[v+9],zt,3951481745),y=a(y,k),C=a(C,w),z=a(z,T),A=a(A,_);var Pt=g(y)+g(C)+g(z)+g(A);return Pt.toLowerCase()},globalThis.METRO_GLOBAL_COMMON===!0&&(globalThis.md5=e.md5)})(Metro,Dom);(function(e,r){"use strict";var l={gravatarDeferred:0,email:"",size:80,default:"mp",onGravatarCreate:e.noop};e.gravatarSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroGravatarSetup!==void 0&&e.gravatarSetup(globalThis.metroGravatarSetup),e.Component("gravatar",{init:function(a,t){return this._super(t,a,l),this},_create:function(){var a=this.element;this.get(),this._fireEvent("gravatar-create",{element:a})},getImage:function(a,t,o,i){var p=r("<img>").attr("alt",a);return p.attr("src",this.getImageSrc(a,t)),i===!0?p:p[0]},getImageSrc:function(a,t,o){return a===void 0||a.trim()===""?"":(t=t||80,o=e.utils.encodeURI(o)||"404","//www.gravatar.com/avatar/"+e.md5(a.toLowerCase().trim())+"?size="+t+"&d="+o)},get:function(){var a=this.element,t=this.options,o=a[0].tagName==="IMG"?a:a.find("img");if(o.length!==0)return o.attr("src",this.getImageSrc(t.email,t.size,t.default)),this},resize:function(a){this.options.size=a!==void 0?a:this.element.attr("data-size"),this.get()},email:function(a){this.options.email=a!==void 0?a:this.element.attr("data-email"),this.get()},changeAttribute:function(a){switch(a){case"data-size":this.resize();break;case"data-email":this.email();break}},destroy:function(){return this.element}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={hintDeferred:0,hintHide:5e3,clsHint:"",hintText:"",hintPosition:e.position.TOP,hintOffset:4,onHintShow:e.noop,onHintHide:e.noop,onHintCreate:e.noop};e.hintSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroHintSetup!==void 0&&e.hintSetup(globalThis.metroHintSetup),e.Component("hint",{init:function(t,o){return this._super(o,t,a,{hint:null,hint_size:{width:0,height:0},id:l.elementId("hint")}),this},_create:function(){this._createEvents(),this._fireEvent("hint-create",{element:this.element})},_createEvents:function(){var t=this,o=this.element,i=this.options,p=!1;o.on(e.events.enter,function(){p=!0,setTimeout(function(){p&&(t.createHint(),+i.hintHide>0&&setTimeout(function(){t.removeHint()},i.hintHide))},i.hintDeferred)}),o.on(e.events.leave,function(){p=!1,t.removeHint()}),r(globalThis).on(e.events.scroll+" "+e.events.resize,function(){t.hint!==null&&t.setPosition()},{ns:this.id})},createHint:function(){var t=this.elem,o=this.element,i=this.options,p=r("<div>").addClass("hint").addClass(i.clsHint).html(i.hintText);if(this.hint=p,this.hint_size=l.hiddenElementSize(p),r(".hint:not(.permanent-hint)").remove(),t.tagName==="TD"||t.tagName==="TH"){var c=r("<div/>").css("display","inline-block").html(o.html());o.html(c),this.element=c}this.setPosition(),p.appendTo(r("body")),this._fireEvent("hint-show",{hint:p[0]})},setPosition:function(){var t=this.hint,o=this.hint_size,i=this.options,p=this.element;i.hintPosition===e.position.BOTTOM?(t.addClass("bottom"),t.css({top:p.offset().top-r(globalThis).scrollTop()+p.outerHeight()+i.hintOffset,left:p.offset().left+p.outerWidth()/2-o.width/2-r(globalThis).scrollLeft()})):i.hintPosition===e.position.RIGHT?(t.addClass("right"),t.css({top:p.offset().top+p.outerHeight()/2-o.height/2-r(globalThis).scrollTop(),left:p.offset().left+p.outerWidth()-r(globalThis).scrollLeft()+i.hintOffset})):i.hintPosition===e.position.LEFT?(t.addClass("left"),t.css({top:p.offset().top+p.outerHeight()/2-o.height/2-r(globalThis).scrollTop(),left:p.offset().left-o.width-r(globalThis).scrollLeft()-i.hintOffset})):(t.addClass("top"),t.css({top:p.offset().top-r(globalThis).scrollTop()-o.height-i.hintOffset,left:p.offset().left-r(globalThis).scrollLeft()+p.outerWidth()/2-o.width/2}))},removeHint:function(){var t=this,o=this.hint,i=this.options,p=i.onHintHide===e.noop?0:300;o!==null&&(this._fireEvent("hint-hide",{hint:o[0]}),setTimeout(function(){o.hide(0,function(){o.remove(),t.hint=null})},p))},changeText:function(){this.options.hintText=this.element.attr("data-hint-text")},changeAttribute:function(t){t==="data-hint-text"&&this.changeText()},destroy:function(){var t=this.element;this.removeHint(),t.off(e.events.enter+"-hint"),t.off(e.events.leave+"-hint"),r(globalThis).off(e.events.scroll+"-hint")}})})(Metro,Dom);(function(e,r){"use strict";let l={specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",188:",",190:".",191:"/",224:"meta"},shiftNums:{"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},shiftNumsInverse:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],getKey:function(t){let o,i=t.keyCode,p=String.fromCharCode(i).toLowerCase();return t.shiftKey?o=l.shiftNums[p]?l.shiftNums[p]:p:o=l.specialKeys[i]===void 0?p:l.specialKeys[i],l.getModifier(t).length?l.getModifier(t).join("+")+"+"+o:o},getModifier:function(t){let o=[];return t.altKey&&o.push("alt"),(t.ctrlKey||t.metaKey)&&o.push("ctrl"),t.shiftKey&&o.push("shift"),o}};function a(t,o){return this.each(function(){r(this).on(e.events.keydown+".hotkey-method-"+t,function(i){if(i.repeat)return;let p=l.getKey(i),c=r(this),d=""+c.attr("href");t===p&&(c.is("a")&&d&&d.trim()!=="#"&&(globalThis.location.href=d),e.utils.exec(o,[i,p,t],this))})})}r.fn.hotkey=a,globalThis.METRO_JQUERY&&globalThis.jquery_present&&(globalThis.jQuery.fn.hotkey=a),r(document).on(e.events.keydown+".hotkey-data",function(t){let o,i,p,c;if(!(METRO_HOTKEYS_FILTER_INPUT_ACCEPTING_ELEMENTS&&/textarea|input|select/i.test(t.target.nodeName)||METRO_HOTKEYS_FILTER_CONTENT_EDITABLE&&r(t.target).attr("contenteditable")||METRO_HOTKEYS_FILTER_TEXT_INPUTS&&l.textAcceptingInputTypes.indexOf(t.target.type)>-1)&&(p=l.getKey(t),e.utils.keyInObject(e.hotkeys,p))){if(o=r(e.hotkeys[p][0]),i=e.hotkeys[p][1],c=(""+o.attr("href")).trim(),t.repeat&&!o.attr("data-repeat"))return;t.preventDefault(),i?e.utils.exec(i):o.is("a")&&c&&c.length>0&&c.trim()!=="#"?globalThis.location.href=c:o[0].click()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={htmlcontainerDeferred:0,method:"get",htmlSource:null,requestData:null,requestOptions:null,insertMode:"default",onHtmlLoad:e.noop,onHtmlLoadFail:e.noop,onHtmlLoadDone:e.noop,onHtmlContainerCreate:e.noop};e.htmlContainerSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroHtmlContainerSetup!==void 0&&e.htmlContainerSetup(globalThis.metroHtmlContainerSetup),e.Component("html-container",{init:function(t,o){return this._super(o,t,a,{data:null,opt:{},htmlSource:""}),this},_create:function(){var t=this.element,o=this.options;typeof o.requestData=="string"&&(o.requestData=JSON.parse(o.requestData)),l.isObject(o.requestData)&&(this.data=l.isObject(o.requestData)),typeof o.requestOptions=="string"&&(o.requestOptions=JSON.parse(o.requestOptions)),l.isObject(o.requestOptions)&&(this.opt=l.isObject(o.requestOptions)),o.method=o.method.toUpperCase(),l.isValue(o.htmlSource)&&(this.htmlSource=o.htmlSource,this._load()),this._fireEvent("html-container-create",{element:t})},_load:function(){var t=this,o=this.element,i=this.options,p={method:i.method};this.data&&(p.body=this.data),this.opt&&(p.headers=this.opt),fetch(this.htmlSource,p).then(e.fetch.status).then(e.fetch.text).then(function(c){var d=r(c);switch(d.length===0&&(d=r("<div>").html(c)),i.insertMode.toLowerCase()){case"prepend":o.prepend(d);break;case"append":o.append(d);break;case"replace":d.insertBefore(o).script(),o.remove();break;default:o.html(d)}t._fireEvent("html-load",{data:c,source:i.htmlSource,requestData:t.data,requestOptions:t.opt})}).catch(function(c){t._fireEvent("html-load-fail",{error:c})})},load:function(t,o,i){t&&(this.htmlSource=t),o&&(this.data=l.isObject(o)),i&&(this.opt=l.isObject(i)),this._load()},changeAttribute:function(t){var o=this,i=this.element,p=this.options,c=function(){var f=i.attr("data-html-source");l.isNull(f)||(f.trim()===""&&i.html(""),p.htmlSource=f,o._load())},d=function(){var f=i.attr("data-insert-mode");l.isValue(f)&&(p.insertMode=f)},m=function(){var f=i.attr("data-request-data");o.load(p.htmlSource,f)};switch(t){case"data-html-source":c();break;case"data-insert-mode":d();break;case"data-request-data":m();break}},destroy:function(){}})})(Metro,Dom);(function(e,r){"use strict";var l={image:null,size:"cover",repeat:!1,color:"transparent",attachment:"scroll",origin:"border",onImageBoxCreate:e.noop};e.imageBoxSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroImageBoxSetup!==void 0&&e.imageBoxSetup(globalThis.metroImageBoxSetup),e.Component("image-box",{init:function(a,t){return this._super(t,a,l,{}),this},_create:function(){this._createStructure(),this._fireEvent("image-box-create")},_createStructure:function(){var a=this.element;a.addClass("image-box"),this._drawImage()},_drawImage:function(){var a=this.element,t=this.options,o=new Image,i;a.attr("data-original")||a.attr("data-original",t.image),a.css({backgroundImage:"url("+t.image+")",backgroundSize:t.size,backgroundRepeat:t.repeat?"repeat":"no-repeat",backgroundColor:t.color,backgroundAttachment:t.attachment,backgroundOrigin:t.origin}),o.src=t.image,o.onload=function(){i=this.height>=this.width,a.removeClass("image-box__portrait image-box__landscape").addClass("image-box__"+(i?"portrait":"landscape"))}},changeAttribute:function(a,t){var o=a.replace("data-","");["image","size","repeat","color","attachment","origin"].indexOf(o)>-1&&(this.options[o]=t,this._drawImage())},destroy:function(){return this.element}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={imagecompareDeferred:0,width:"100%",height:"auto",onSliderMove:e.noop,onImageCompareCreate:e.noop};e.imageCompareSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroImageCompareSetup!==void 0&&e.imageCompareSetup(globalThis.metroImageCompareSetup),e.Component("image-compare",{init:function(t,o){return this._super(o,t,a,{id:l.elementId("image-compare")}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("image-compare-create",{element:t})},_createStructure:function(){var t=this.element,o=this.options,i,p,c,d,m,f;switch(l.isValue(t.attr("id"))||t.attr("id",l.elementId("image-compare")),t.addClass("image-compare").css({width:o.width}),m=t.width(),o.height){case"16/9":f=l.aspectRatioH(m,o.height);break;case"21/9":f=l.aspectRatioH(m,o.height);break;case"4/3":f=l.aspectRatioH(m,o.height);break;case"auto":f=l.aspectRatioH(m,"16/9");break;default:f=o.height}t.css({height:f}),i=r("<div>").addClass("image-container").appendTo(t),p=r("<div>").addClass("image-container-overlay").appendTo(t).css({width:m/2}),c=r("<div>").addClass("image-slider").appendTo(t),c.css({top:f/2-c.height()/2,left:m/2-c.width()/2}),d=t.find("img"),r.each(d,function(u){var g=r("<div>").addClass("image-wrapper");g.css({width:m,height:f,backgroundImage:"url("+this.src+")"}),g.appendTo(u===0?i:p)})},_createEvents:function(){var t=this,o=this.element,i=this.options,p=o.find(".image-container-overlay"),c=o.find(".image-slider");c.on(e.events.startAll,function(){var d=o.width();r(document).on(e.events.moveAll,function(m){var f=l.getCursorPositionX(o[0],m),u;f<0&&(f=0),f>d&&(f=d),p.css({width:f}),u=f-c.width()/2,c.css({left:u}),t._fireEvent("slider-move",{x:f,l:u})},{ns:t.id}),r(document).on(e.events.stopAll,function(){r(document).off(e.events.moveAll,{ns:t.id}),r(document).off(e.events.stopAll,{ns:t.id})},{ns:t.id})}),r(globalThis).on(e.events.resize,function(){var d=o.width(),m;if(i.width==="100%"){switch(i.height){case"16/9":m=l.aspectRatioH(d,i.height);break;case"21/9":m=l.aspectRatioH(d,i.height);break;case"4/3":m=l.aspectRatioH(d,i.height);break;case"auto":m=l.aspectRatioH(d,"16/9");break;default:m=i.height}o.css({height:m}),r.each(o.find(".image-wrapper"),function(){r(this).css({width:d,height:m})}),o.find(".image-container-overlay").css({width:d/2}),c.css({top:m/2-c.height()/2,left:d/2-c.width()/2})}},{ns:this.id})},changeAttribute:function(t){},destroy:function(){var t=this.element;return t.off(e.events.start),r(globalThis).off(e.events.resize,{ns:this.id}),t}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={useBackground:!1,backgroundSize:"cover",backgroundPosition:"top left",clsImageGrid:"",clsImageGridItem:"",clsImageGridImage:"",onItemClick:e.noop,onDrawItem:e.noop,onImageGridCreate:e.noop};e.imageGridSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroImageGridSetup!==void 0&&e.imageGridSetup(globalThis.metroImageGridSetup),e.Component("image-grid",{init:function(t,o){return this._super(o,t,a,{items:[]}),this},_create:function(){this.items=this.element.children("img"),this._createStructure(),this._createEvents(),this._fireEvent("image-grid-create")},_createStructure:function(){var t=this.element,o=this.options;t.addClass("image-grid").addClass(o.clsImageGrid),this._createItems()},_createEvents:function(){var t=this,o=this.element;o.on(e.events.click,".image-grid__item",function(){t._fireEvent("item-click",{item:this})})},_createItems:function(){var t=this,o=this.element,i=this.options,p=this.items;o.clear(),p.each(function(){var c=r(this),d=this.src,m=r("<div>").addClass("image-grid__item").addClass(i.clsImageGridItem).appendTo(o),f=new Image;f.src=d,f.onload=function(){var u=this.height>=this.width;m.addClass(u?"image-grid__item-portrait":"image-grid__item-landscape"),c.addClass(i.clsImageGridImage).appendTo(m),i.useBackground&&(m.css({background:"url("+d+")",backgroundRepeat:"no-repeat",backgroundSize:i.backgroundSize,backgroundPosition:i.backgroundPosition}).attr("data-original",c.attr("data-original")||d).attr("data-title",c.attr("alt")||c.attr("data-title")||""),c.visible(!1)),t._fireEvent("draw-item",{item:m[0],image:c[0]})}})},changeAttribute:function(t,o){var i=this.options;t==="data-use-background"&&(i.useBackground=l.bool(o),this._createItems()),t==="data-background-size"&&(i.backgroundSize=o,this._createItems()),t==="data-background-position"&&(i.backgroundPosition=o,this._createItems())},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={imagemagnifierDeferred:0,width:"100%",height:"auto",lensSize:100,lensType:"square",magnifierZoom:2,magnifierMode:"glass",magnifierZoomElement:null,clsMagnifier:"",clsLens:"",clsZoom:"",onMagnifierMove:e.noop,onImageMagnifierCreate:e.noop};e.imageMagnifierSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroImageMagnifierSetup!==void 0&&e.imageMagnifierSetup(globalThis.metroImageMagnifierSetup),e.Component("image-magnifier",{init:function(t,o){return this._super(o,t,a,{zoomElement:null,id:l.elementId("image-magnifier")}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("image-magnifier-create",{element:t})},_createStructure:function(){var t=this.element,o=this.options,i,p,c,d=t.find("img");if(d.length===0)throw new Error("Image not defined");switch(l.isValue(t.attr("id"))||t.attr("id",l.elementId("image-magnifier")),t.addClass("image-magnifier").css({width:o.width}).addClass(o.clsMagnifier),p=t.width(),o.height){case"16/9":c=l.aspectRatioH(p,o.height);break;case"21/9":c=l.aspectRatioH(p,o.height);break;case"4/3":c=l.aspectRatioH(p,o.height);break;case"auto":c=l.aspectRatioH(p,"16/9");break;default:c=o.height}t.css({height:c});var m=p/2-o.lensSize/2,f=c/2-o.lensSize/2;if(o.magnifierMode==="glass")i=r("<div>").addClass("image-magnifier-glass").appendTo(t),i.css({width:o.lensSize,height:o.lensSize,borderRadius:o.lensType!=="circle"?0:"50%",top:f,left:m,backgroundImage:"url("+d[0].src+")",backgroundRepeat:"no-repeat",backgroundPosition:"-"+(m*o.magnifierZoom-o.lensSize/4+4)+"px -"+(f*o.magnifierZoom-o.lensSize/4+4)+"px",backgroundSize:d[0].width*o.magnifierZoom+"px "+d[0].height*o.magnifierZoom+"px"}).addClass(o.clsLens);else{i=r("<div>").addClass("image-magnifier-glass").appendTo(t),i.css({width:o.lensSize,height:o.lensSize,borderRadius:0,borderWidth:1,top:f,left:m}).addClass(o.clsLens),!l.isValue(o.magnifierZoomElement)||r(o.magnifierZoomElement).length===0?this.zoomElement=r("<div>").insertAfter(t):this.zoomElement=r(o.magnifierZoomElement);var u=i[0].offsetWidth*o.magnifierZoom,g=i[0].offsetHeight*o.magnifierZoom,h=u/o.lensSize,b=g/o.lensSize;this.zoomElement.css({width:u,height:g,backgroundImage:"url("+d[0].src+")",backgroundRepeat:"no-repeat",backgroundPosition:"-"+m*h+"px -"+f*b+"px",backgroundSize:d[0].width*h+"px "+d[0].height*b+"px"}).addClass(o.clsZoom)}},_createEvents:function(){var t=this,o=this.element,i=this.options,p=o.find(".image-magnifier-glass"),c=p[0].offsetWidth/2,d=o.find("img")[0],m=this.zoomElement,f,u;r(globalThis).on(e.events.resize,function(){var h=o.width()/2-i.lensSize/2,b=o.height()/2-i.lensSize/2;i.magnifierMode==="glass"&&p.css({backgroundPosition:"-"+(h*i.magnifierZoom-i.lensSize/4+4)+"px -"+(b*i.magnifierZoom-i.lensSize/4+4)+"px",backgroundSize:d.width*i.magnifierZoom+"px "+d.height*i.magnifierZoom+"px"})},{ns:this.id}),i.magnifierMode!=="glass"&&(f=m[0].offsetWidth/c/2,u=m[0].offsetHeight/c/2,m.css({backgroundSize:d.width*f+"px "+d.height*u+"px"}));var g=function(h){var b,v,k=4,w=parseInt(i.magnifierZoom);i.magnifierMode==="glass"?(b=h.x,v=h.y,b>d.width-c/w&&(b=d.width-c/w),b<c/w&&(b=c/w),v>d.height-c/w&&(v=d.height-c/w),v<c/w&&(v=c/w),p.css({top:v-c,left:b-c,backgroundPosition:"-"+(b*w-c+k)+"px -"+(v*w-c+k)+"px"})):(b=h.x-c,v=h.y-c,b>d.width-c*2&&(b=d.width-c*2),b<0&&(b=0),v>d.height-c*2&&(v=d.height-c*2),v<0&&(v=0),p.css({top:v,left:b}),m.css({backgroundPosition:"-"+b*f+"px -"+v*u+"px"}))};o.on(e.events.move,function(h){var b=l.getCursorPosition(d,h);g(b),t._fireEvent("magnifier-move",{pos:b,glass:p[0],zoomElement:m?m[0]:void 0}),h.preventDefault()}),o.on(e.events.leave,function(){var h=o.width()/2-i.lensSize/2,b=o.height()/2-i.lensSize/2;p.animate({draw:{top:b,left:h}}),g({x:h+i.lensSize/2,y:b+i.lensSize/2})})},changeAttribute:function(t){},destroy:function(){var t=this.element;return t.off(e.events.move),t.off(e.events.leave),t}})})(Metro,Dom);(function(e,r){"use strict";var l={size:"100x100",width:null,height:null,color:"#f8f8f8",textColor:"#292929",font:"12px sans-serif",text:"",showText:!0,onImagePlaceholderCreate:e.noop};e.imagePlaceholderSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroImagePlaceholderSetup!==void 0&&e.imagePlaceholderSetup(globalThis.metroImagePlaceholderSetup),e.Component("image-placeholder",{init:function(a,t){return this._super(t,a,l,{width:0,height:0}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("image-placeholder-create")},_createStructure:function(){var a=this.element,t=this.options,o=t.size.toArray("x");this.width=t.width?t.width:o[0],this.height=t.height?t.height:o[1],a.attr("src",this._createPlaceholder())},_createEvents:function(){},_createPlaceholder:function(){var a=this.options,t=document.createElement("canvas"),o=t.getContext("2d"),i=this.width,p=this.height;return t.width=parseInt(i),t.height=parseInt(p),o.clearRect(0,0,i,p),o.fillStyle=a.color,o.fillRect(0,0,i,p),o.fillStyle=a.textColor,o.font=a.font,o.translate(i/2,p/2),o.textAlign="center",o.textBaseline="middle",a.showText&&o.fillText(a.text?a.text:i+" \xD7 "+p,0,0),t.toDataURL()},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={infoboxDeferred:0,type:"",width:480,height:"auto",overlay:!0,overlayColor:"#000000",overlayAlpha:.5,overlayClickClose:!1,autoHide:0,removeOnClose:!1,closeButton:!0,clsBox:"",clsBoxContent:"",clsOverlay:"",onOpen:e.noop,onClose:e.noop,onInfoBoxCreate:e.noop};e.infoBoxSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroInfoBoxSetup!==void 0&&e.infoBoxSetup(globalThis.metroInfoBoxSetup),e.Component("info-box",{init:function(t,o){return this._super(o,t,a,{overlay:null,id:l.elementId("info-box")}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("info-box-create",{element:t})},_overlay:function(){var t=this.options,o=r("<div>");return o.addClass("overlay").addClass(t.clsOverlay),t.overlayColor==="transparent"?o.addClass("transparent"):o.css({background:Farbe.Routines.toRGBA(Farbe.Routines.parse(t.overlayColor),t.overlayAlpha)}),o},_createStructure:function(){var t=this.element,o=this.options,i,p;o.overlay===!0&&(this.overlay=this._overlay()),t.addClass("info-box").addClass(o.type).addClass(o.clsBox),i=t.find("closer"),i.length===0&&(i=r("<span>").addClass("button square closer"),i.appendTo(t)),o.closeButton!==!0&&i.hide(),p=t.find(".info-box-content"),p.length>0&&p.addClass(o.clsBoxContent),t.css({width:o.width,height:o.height,visibility:"hidden",top:"100%",left:(r(globalThis).width()-t.outerWidth())/2}),t.appendTo(r("body"))},_createEvents:function(){var t=this,o=this.element;o.on(e.events.click,".closer",function(){t.close()}),o.on(e.events.click,".js-dialog-close",function(){t.close()}),r(globalThis).on(e.events.resize,function(){t.reposition()},{ns:this.id})},_setPosition:function(){var t=this.element;t.css({top:(r(globalThis).height()-t.outerHeight())/2,left:(r(globalThis).width()-t.outerWidth())/2})},reposition:function(){this._setPosition()},setContent:function(t){var o=this.element,i=o.find(".info-box-content");i.length!==0&&(i.html(t),this.reposition())},setType:function(t){var o=this.element;o.removeClass("success info alert warning").addClass(t)},open:function(){var t=this,o=this.element,i=this.options;i.overlay===!0&&r(".overlay").length===0&&(this.overlay.appendTo(r("body")),i.overlayClickClose===!0&&this.overlay.on(e.events.click,function(){t.close()})),this._setPosition(),o.css({visibility:"visible"}),this._fireEvent("open"),o.data("open",!0),parseInt(i.autoHide)>0&&setTimeout(function(){t.close()},parseInt(i.autoHide))},close:function(){var t=this.element,o=this.options;o.overlay===!0&&r("body").find(".overlay").remove(),t.css({visibility:"hidden",top:"100%"}),this._fireEvent("close"),t.data("open",!1),o.removeOnClose===!0&&(this.destroy(),t.remove())},isOpen:function(){return this.element.data("open")===!0},changeAttribute:function(t){},destroy:function(){var t=this.element;return t.off("all"),r(globalThis).off(e.events.resize,{ns:this.id}),t}}),e.infobox={isInfoBox:function(t){return l.isMetroObject(t,"infobox")},open:function(t,o,i){if(!this.isInfoBox(t))return!1;var p=e.getPlugin(t,"infobox");o!==void 0&&p.setContent(o),i!==void 0&&p.setType(i),p.open()},close:function(t){if(!this.isInfoBox(t))return!1;var o=e.getPlugin(t,"infobox");o.close()},setContent:function(t,o){if(!this.isInfoBox(t))return!1;o===void 0&&(o="");var i=e.getPlugin(t,"infobox");i.setContent(o),i.reposition()},setType:function(t,o){if(!this.isInfoBox(t))return!1;var i=e.getPlugin(t,"infobox");i.setType(o),i.reposition()},isOpen:function(t){if(!this.isInfoBox(t))return!1;var o=e.getPlugin(t,"infobox");return o.isOpen()},create:function(t,o,i,p){var c=l.$(),d,m,f;f=o!==void 0?o:"",d=c("<div>").appendTo(c("body")),c("<div>").addClass("info-box-content").appendTo(d);var u=c.extend({},{removeOnClose:!0,type:f},i!==void 0?i:{});return u._runtime=!0,d.infobox(u),m=e.getPlugin(d,"infobox"),m.setContent(t),p!==!1&&m.open(),d}}})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={maskPattern:".",mask:null,maskPlaceholder:"_",maskEditableStart:0,thresholdInterval:300,onChar:e.noop,onInputMaskCreate:e.noop};e.inputMaskSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroInputMaskSetup!==void 0&&e.inputMaskSetup(globalThis.metroInputMaskSetup),e.Component("input-mask",{init:function(t,o){return this._super(o,t,a,{pattern:null,mask:"",maskArray:[],placeholder:"",length:0,thresholdTimer:null,id:l.elementId("input-mask")}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("input-mask-create")},_createStructure:function(){var t=this.options;if(!t.mask)throw new Error("You must provide a pattern for masked input.");if(typeof t.maskPlaceholder!="string"||t.maskPlaceholder.length>1)throw new Error("Mask placeholder should be a single character or an empty string.");this.placeholder=t.maskPlaceholder,this.mask=""+t.mask,this.maskArray=this.mask.split(""),this.pattern=new RegExp("^"+t.maskPattern+"+$"),this.length=this.mask.length,this._showValue()},_createEvents:function(){var t=this,o=this.element,i=this.options,p=i.maskEditableStart,c=this.id,d=function(h){return h<p?(u(p),!1):!0},m=function(h){return h<t.mask.length&&t.mask.charAt(h)===t.placeholder},f=function(h){var b,v=t.maskArray;for(b=h;b<=v.length;b++)if(v[b]===t.placeholder)return b;return h},u=function(h){t.elem.setSelectionRange(h,h)},g=function(){clearInterval(t.thresholdTimer),t.thresholdTimer=null};o.on("change",function(){this.value===""&&(this.value=t.mask,u(p))},{ns:c}),o.on("focus click",function(){d(this.selectionStart),u(f(this.selectionStart))},{ns:c}),o.on("keydown",function(h){var b=this.selectionStart,v=this.value,k=h.code,w=h.key;if(k==="ArrowRight"||k==="End")return!0;b>=t.length&&["Backspace","Home","ArrowLeft","ArrowUp"].indexOf(k)===-1?h.preventDefault():k==="Home"||k==="ArrowUp"?(h.preventDefault(),u(p)):k==="ArrowLeft"?b-1<p&&h.preventDefault():k==="Backspace"?(h.preventDefault(),b-1>=p&&(m(b-1)&&this.value.charAt(b-1)!==t.placeholder&&(this.value=v.substr(0,b-1)+t.placeholder+v.substr(b)),u(b-1))):k==="Space"?(h.preventDefault(),u(b+1)):t.pattern.test(w)?(h.preventDefault(),m(b)&&(this.value=v.substr(0,b)+(i.onChar===e.noop?w:l.exec(i.onChar,[w],this))+v.substr(b+1),u(f(b+1)))):h.preventDefault()},{ns:c}),o.on("keyup",function(){var h=this;g(),t.thresholdTimer=setInterval(function(){g(),u(f(h.selectionStart))},i.thresholdInterval)},{ns:c})},_showValue:function(){var t=this,o=this.elem,i=new Array(this.length),p;o.value?(p=o.value,r.each(this.maskArray,function(c,d){p[c]!==d&&!t.pattern.test(p[c])?i[c]=t.placeholder:i[c]=p[c]}),this.elem.value=i.join("")):o.value=this.mask},destroy:function(){var t=this.element,o=this.id;return t.off("change",{ns:o}),t.off("focus",{ns:o}),t.off("click",{ns:o}),t.off("keydown",{ns:o}),t.off("keyup",{ns:o}),t}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={materialinputDeferred:0,label:"",informer:"",icon:"",permanentLabel:!1,searchButton:!1,clearButton:!0,revealButton:!0,clearButtonIcon:"\u274C",revealButtonIcon:"\u{1F440}",searchButtonIcon:"\u{1F50D}",customButtons:[],searchButtonClick:"submit",clsComponent:"",clsInput:"",clsLabel:"",clsInformer:"",clsIcon:"",clsLine:"",onInputCreate:e.noop};e.materialInputSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroMaterialInputSetup!==void 0&&e.materialInputSetup(globalThis.metroMaterialInputSetup),e.Component("material-input",{init:function(t,o){return this._super(o,t,a,{history:[],historyIndex:-1}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("input-create",{element:t})},_createStructure:function(){var t=this.element,o=this.options,i,p;t[0].className="",t.attr("autocomplete","nope"),t.attr("type")===void 0&&t.attr("type","text"),i=t.wrap("<div>").addClass("input-material "+t[0].className),p=r("<div>").addClass("buttons").appendTo(i),o.label&&r("<span>").html(o.label).addClass("label").addClass(o.clsLabel).insertAfter(t),l.isValue(o.informer)&&r("<span>").html(o.informer).addClass("informer").addClass(o.clsInformer).insertAfter(t),l.isValue(o.icon)&&(i.addClass("with-icon"),r("<span>").html(o.icon).addClass("icon").addClass(o.clsIcon).insertAfter(t)),o.clearButton===!0&&!t[0].readOnly&&r("<button>").addClass("button input-clear-button").addClass(o.clsClearButton).attr("tabindex",-1).attr("type","button").html(o.clearButtonIcon).appendTo(p),t.attr("type")==="password"&&o.revealButton===!0&&r("<button>").addClass("button input-reveal-button").addClass(o.clsRevealButton).attr("tabindex",-1).attr("type","button").html(o.revealButtonIcon).appendTo(p),o.searchButton===!0&&r("<button>").addClass("button input-search-button").addClass(o.clsSearchButton).attr("tabindex",-1).attr("type",o.searchButtonClick==="submit"?"submit":"button").html(o.searchButtonIcon).appendTo(p);let c=l.isObject(o.customButtons);Array.isArray(c)&&r.each(c,function(){var d=this,m=r("<button>");m.addClass("button input-custom-button").addClass(o.clsCustomButton).addClass(d.cls).attr("tabindex",-1).attr("type","button").html(d.text),d.attr&&typeof d.attr=="object"&&r.each(d.attr,function(f,u){m.attr(Str.dashedName(f),u)}),d.onclick&&m.on("click",()=>{d.onclick.apply(m,[t.valueOf(),t])}),m.appendTo(p)}),i.append(r("<hr>").addClass(o.clsLine)),o.permanentLabel===!0&&i.addClass("permanent-label"),i.addClass(o.clsComponent),t.addClass(o.clsInput),t.is(":disabled")?this.disable():this.enable(),this.component=i},_createEvents:function(){let t=this,o=this.options,i=this.element;this.component.on(e.events.click,".input-clear-button",function(){let p=i.val();i.val("").fire("clear").fire("change").fire("keyup").focus(),t._fireEvent("clear-click",{prev:p})}),this.component.on(e.events.click,".input-reveal-button",function(){i.attr("type")==="password"?i.attr("type","text"):i.attr("type","password"),t._fireEvent("reveal-click",{val:i.val()})}),this.component.on(e.events.click,".input-search-button",function(){o.searchButtonClick!=="submit"?t._fireEvent("search-button-click",{val:i.val(),button:this}):this.form&&this.form.submit()}),i.on(e.events.keydown,function(p){p.keyCode===e.keyCode.ENTER&&t._fireEvent("enter-click",{val:i.val()})})},clear:function(){this.element.val("")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(t){t==="disabled"&&this.toggleState()},destroy:function(){return this.element}})})(Metro,Dom);(function(e,r){"use strict";let l={keypadDeferred:0,label:"",keySize:36,keys:"1, 2, 3, 4, 5, 6, 7, 8, 9, 0",exceptKeys:"",keySeparator:"",trimSeparator:!1,keyDelimiter:",",copyInlineStyles:!1,target:null,keyLength:0,shuffle:!1,shuffleCount:3,serviceButtons:!0,showValue:!0,open:!1,useElementSizeForKeys:!1,openMode:"auto",clsKeypad:"",clsInput:"",clsKeys:"",clsKey:"",clsServiceKey:"",clsBackspace:"",clsClear:"",clsLabel:"",onChange:e.noop,onClear:e.noop,onBackspace:e.noop,onShuffle:e.noop,onKey:e.noop,onKeypadCreate:e.noop};e.keypadSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroKeypadSetup!==void 0&&e.keypadSetup(globalThis.metroKeypadSetup),e.Component("keypad",{init:function(a,t){return this._super(t,a,l,{value:t.tagName==="INPUT"?t.value:t.innerText,positions:["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"],keypad:null,keys:[],keys_to_work:[],exceptKeys:[]}),this},_create:function(){let a=this.element,t=this.options;this.options.position="bottom-left",this.keys=t.keys.toArray(t.keyDelimiter),this.keys_to_work=this.keys,this.exceptKeys=t.exceptKeys.toArray(t.keyDelimiter),this._createKeypad(),t.shuffle===!0&&this.shuffle(),this._createKeys(),this._createEvents(),this._fireEvent("keypad-create",{element:a})},_createKeypad:function(){let a=this.element,t=this.options,o,i=a.wrap("<div>").addClass("input keypad").addClass(a[0].className).addClass(t.clsKeypad);if(a.attr("type")===void 0&&a.attr("type","text"),a.attr("readonly",!0),o=r("<div>").addClass("keys").addClass(t.clsKeys),o.appendTo(i),this._setKeysPosition(),t.open===!0&&o.addClass("open keep-open"),a[0].className="",t.copyInlineStyles===!0){let d=0,m=a[0].style.length;for(;d<m;d++)i.css(a[0].style[d],a.css(a[0].style[d]))}a.addClass(t.clsInput),i.addClass(t.clsKeypad),a.on(e.events.blur,function(){i.removeClass("focused")}),a.on(e.events.focus,function(){i.addClass("focused")});let p=r("<div>").addClass("button-group").appendTo(i);if(r("<button>").addClass("button input-kbd-button").addClass(t.clsKbdButton).attr("tabindex",-1).attr("type","button").html("\u2328").appendTo(p),t.label){let d=r("<label>").addClass("label-for-input").addClass(t.clsLabel).html(t.label).insertBefore(i);if(a.attr("id"))d.attr("for",a.attr("id"));else{let m=Hooks.useId(a[0]);a.id(m),d.attr("for",m)}a.attr("dir")==="rtl"&&d.addClass("rtl")}t.disabled===!0||a.is(":disabled")?this.disable():this.enable(),this.keypad=i},_setKeysPosition:function(){let a=this.element,t=this.options;a.parent().find(".keys").removeClass(this.positions.join(" ")).addClass(t.position)},_createKeys:function(){let a=this.element,t=this.options,o=a.parent(),i,p=o.find(".keys"),c=Math.round(Math.sqrt(this.keys.length+2)),d=t.keySize,m;if(p.html(""),r.each(this.keys_to_work,function(){i=r("<span>").addClass("key").addClass(t.clsKey).html(this),i.data("key",this),i.css({width:t.keySize,height:t.keySize,lineHeight:t.keySize-4}).appendTo(p)}),t.serviceButtons===!0){let f=["&larr;","&times;"];r.each(f,function(){i=r("<span>").addClass("key service-key").addClass(t.clsKey).addClass(t.clsServiceKey).html(this),this==="&larr;"&&i.addClass(t.clsBackspace),this==="&times;"&&i.addClass(t.clsClear),i.data("key",this),i.css({width:t.keySize,height:t.keySize,lineHeight:t.keySize-4}).appendTo(p)})}t.useElementSizeForKeys===!0?p.outerWidth(a.outerWidth()):(m=c*(d+2)-6,p.outerWidth(m))},_createEvents:function(){let a=this,t=this.element,o=this.options,i=t.parent(),p=i.find(".keys");p.on(e.events.click,".key",function(c){let d=r(this),m=d.data("key"),f;if(d.data("key")!=="&larr;"&&d.data("key")!=="&times;"){if(o.keyLength>0&&(""+a.value).length===o.keyLength)return!1;a.exceptKeys.indexOf(m)===-1&&(a.value=a.value+(a.value!==""?o.keySeparator:"")+m),o.shuffle===!0&&(a.shuffle(),a._createKeys()),o.dynamicPosition===!0&&(o.position=a.positions[r.random(0,a.positions.length-1)],a._setKeysPosition()),a._fireEvent("key",{key:d.data("key"),val:a.value})}else d.data("key")==="&times;"&&(a.value="",a._fireEvent("clear")),d.data("key")==="&larr;"&&(f=o.keySeparator&&a.value[a.value.length-1]!==o.keySeparator?2:1,a.value=a.value.substring(0,a.value.length-f),a._fireEvent("backspace",{val:a.value}));o.showValue===!0&&(t[0].tagName==="INPUT"?t.val(a.value):t.text(a.value)),a._fireEvent("change",{val:a.val}),c.preventDefault(),c.stopPropagation()}),i.on(e.events.click,function(c){o.open!==!0&&(p.hasClass("open")===!0?p.removeClass("open").removeClass("top-left"):(p.addClass("open"),o.openMode==="auto"?e.utils.inViewport(p[0])===!1&&p.addClass("top-left"):o.openMode==="up"&&p.addClass("top-left")),c.preventDefault(),c.stopPropagation())}),o.target!==null&&t.on(e.events.change,function(){let c=r(o.target);c.length!==0&&(c[0].tagName==="INPUT"?c.val(a.value):c.text(a.value))})},shuffle:function(){let a=this.options;for(let t=0;t<a.shuffleCount;t++)this.keys_to_work=this.keys_to_work.shuffle();this._fireEvent("shuffle",{keysToWork:this.keys_to_work,keys:this.keys})},shuffleKeys:function(a){a===void 0&&(a=this.options.shuffleCount);for(let t=0;t<a;t++)this.keys_to_work=this.keys_to_work.shuffle();this._createKeys()},val:function(a){let t=this.element,o=this.options;return typeof a>"u"?o.trimSeparator?this.value.replace(new RegExp(o.keySeparator,"g")):this.value:(this.value=""+a,t[0].tagName==="INPUT"?t.val(a):t.text(a),this)},open:function(){let a=this.element,t=this.options,i=a.parent().find(".keys");i.addClass("open"),t.openMode==="auto"?e.utils.inViewport(i[0])===!1&&i.addClass("top-left"):t.openMode==="up"&&i.addClass("top-left")},close:function(){this.element.parent().find(".keys").removeClass("open").removeClass("top-left")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},setPosition:function(a){let t=a!==void 0?a:this.element.attr("data-position");this.positions.indexOf(t)!==-1&&(this.options.position=t,this._setKeysPosition())},changeAttribute:function(a){switch(a){case"disabled":this.toggleState();break;case"data-position":this.setPosition();break}},destroy:function(){let a=this.element,t=this.options,o=this.keypad,i=o.find(".keys");o.off(e.events.click),i.off(e.events.click,".key"),a.off(e.events.change),t.label&&o.prev("label").remove(),o.remove()}}),r(document).on(e.events.click,function(){let a=r(".keypad .keys");r.each(a,function(){r(this).hasClass("keep-open")||r(this).removeClass("open")})})})(Metro,Dom);(function(e,r){"use strict";var l={loop:!0,source:"img",iconClose:"\u274C",iconPrev:"\u{1F850}",iconNext:"\u{1F852}",clsNext:"",clsPrev:"",clsClose:"",clsImage:"",clsImageContainer:"",clsImageWrapper:"",clsLightbox:"",onDrawImage:e.noop,onLightboxCreate:e.noop};e.lightboxSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroLightboxSetup!==void 0&&e.lightboxSetup(globalThis.metroLightboxSetup),e.Component("lightbox",{init:function(a,t){return this._super(t,a,l,{overlay:null,lightbox:null,current:null,items:[]}),this},_create:function(){var a=this.options;a.source||(a.source="img"),this._createStructure(),this._createEvents(),this._fireEvent("lightbox-create")},_createStructure:function(){var a=this.options,t,o;o=r(".lightbox-overlay"),o.length===0&&(o=r("<div>").addClass("lightbox-overlay").appendTo("body").hide()),t=r("<div>").addClass("lightbox").addClass(a.clsLightbox).appendTo("body").hide(),r("<span>").addClass("lightbox__prev").addClass(a.clsPrev).html(a.iconPrev).appendTo(t),r("<span>").addClass("lightbox__next").addClass(a.clsNext).html(a.iconNext).appendTo(t),r("<span>").addClass("lightbox__closer").addClass(a.clsClose).html(a.iconClose).appendTo(t),r("<div>").addClass("lightbox__image").addClass(a.clsImageContainer).appendTo(t),this.component=t[0],this.lightbox=t,this.overlay=o},_createEvents:function(){var a=this,t=this.element,o=this.options,i=r(this.component);t.on(e.events.click,o.source,function(){a.open(this)}),i.on(e.events.click,".lightbox__closer",function(){a.close()}),i.on(e.events.click,".lightbox__prev",function(){a.prev()}),i.on(e.events.click,".lightbox__next",function(){a.next()})},_setupItems:function(){var a=this.element,t=this.options,o=a.find(t.source);o.length!==0&&(this.items=o)},_goto:function(a){var t=this,o=this.options,i=r(a),p=r("<img>"),c,d,m,f;d=this.lightbox.find(".lightbox__image"),d.find(".lightbox__image-wrapper").remove(),m=r("<div>").addClass("lightbox__image-wrapper").addClass(o.clsImageWrapper).attr("data-title",i.attr("alt")||i.attr("data-title")||"").appendTo(d),f=r("<div>").appendTo(m),e.makePlugin(f,"activity",{type:"cycle",style:"color"}),this.current=a,(a.tagName==="IMG"||a.tagName==="DIV")&&(c=i.attr("data-original")||i.attr("src"),p.attr("src",c),p[0].onload=function(){var u=this.height>this.width;p.addClass(u?"lightbox__image-portrait":"lightbox__image-landscape").addClass(o.clsImage),p.attr("alt",i.attr("alt")),p.appendTo(m),f.remove(),t._fireEvent("draw-image",{image:p[0],item:m[0]})})},_index:function(a){var t=-1;return this.items.each(function(o){this===a&&(t=o)}),t},next:function(){var a,t=this.current;if(a=this._index(t),a+1>=this.items.length)if(this.options.loop)a=-1;else return;this._goto(this.items[a+1])},prev:function(){var a,t=this.current;if(a=this._index(t),a-1<0)if(this.options.loop)a=this.items.length;else return;this._goto(this.items[a-1])},open:function(a){return this._setupItems(),this._goto(a),this.overlay.show(),this.lightbox.show(),this},close:function(){this.overlay.hide(),this.lightbox.hide()},changeAttribute:function(){},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={listDeferred:0,templateBeginToken:"<%",templateEndToken:"%>",paginationDistance:5,paginationShortMode:!0,thousandSeparator:",",decimalSeparator:",",itemTag:"li",defaultTemplateTag:"div",sortClass:null,sortDir:"asc",sortInitial:!0,filterClass:null,filter:null,filterString:"",filters:null,source:null,showItemsSteps:!1,showSearch:!1,showListInfo:!1,showPagination:!1,showActivity:!0,muteList:!0,items:-1,itemsSteps:"all, 10,25,50,100",itemsAllTitle:"Show all",listItemsCountTitle:"Show entries:",listSearchTitle:"Search:",listInfoTitle:"Showing $1 to $2 of $3 entries",paginationPrevTitle:"Prev",paginationNextTitle:"Next",activityType:"cycle",activityStyle:"color",activityTimeout:100,searchWrapper:null,rowsWrapper:null,infoWrapper:null,paginationWrapper:null,searchThreshold:500,clsComponent:"",clsList:"",clsListItem:"",clsListTop:"",clsItemsCount:"",clsSearch:"",clsListBottom:"",clsListInfo:"",clsListPagination:"",clsPagination:"",clsTemplateTag:"",onDraw:e.noop,onDrawItem:e.noop,onSortStart:e.noop,onSortStop:e.noop,onSortItemSwitch:e.noop,onSearch:e.noop,onRowsCountChange:e.noop,onDataLoad:e.noop,onDataLoaded:e.noop,onDataLoadError:e.noop,onFilterItemAccepted:e.noop,onFilterItemDeclined:e.noop,onListCreate:e.noop};e.listSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroListSetup!==void 0&&e.listSetup(globalThis.metroListSetup),e.Component("list",{init:function(t,o){return this._super(o,t,a,{currentPage:1,pagesCount:1,filterString:"",data:null,activity:null,busy:!1,filters:[],wrapperInfo:null,wrapperSearch:null,wrapperRows:null,wrapperPagination:null,filterIndex:null,filtersIndexes:[],itemTemplate:null,sort:{dir:"asc",colIndex:0},header:null,items:[]}),this},_create:function(){var t=this,o=this.options;o.source?(t._fireEvent("data-load",{source:o.source}),fetch(o.source).then(e.fetch.status).then(e.fetch.json).then(function(i){t._fireEvent("data-loaded",{source:o.source,data:i}),t._build(i)}).catch(function(i){t._fireEvent("data-load-error",{source:o.source,error:i})})):t._build()},_build:function(t){l.isValue(t)?this._createItemsFromJSON(t):this._createItemsFromHTML(),this._createStructure(),this._createEvents(),this._fireEvent("list-create")},_createItemsFromHTML:function(){var t=this,o=this.element,i=this.options,p=(""+i.clsTemplateTag).toArray(",");this.items=[],r.each(o.children(i.itemTag),function(){var c=r(this).children("*");p.length&&(p.length===1?c.addClass(p[0]):c.each(function(d,m){r(m).addClass(p[d]?p[d]:p[p.length-1])})),t.items.push(this)})},_createItemsFromJSON:function(t){var o=this,i=this.options,p=(""+i.clsTemplateTag).toArray(",");this.items=[],l.isValue(t.template)&&(this.itemTemplate=t.template),l.isValue(t.header)&&(this.header=t.header),l.isValue(t.data)&&r.each(t.data,function(){var c="",d=this,m=document.createElement(i.itemTag),f=o.itemTemplate,u;if(l.isValue(f))c=e.template(f,d,{beginToken:i.templateBeginToken,endToken:i.templateEndToken});else for(var g in d)c+="<"+i.defaultTemplateTag+">"+d[g]+"</"+i.defaultTemplateTag+">";m.innerHTML=c,u=r(m).children("*"),p.length&&(p.length===1?u.addClass(p[0]):u.each(function(h,b){r(b).addClass(p[h]?p[h]:p[p.length-1])})),o.items.push(m)})},_createTopBlock:function(){var t=this,o=this.element,i=this.options,p=r("<div>").addClass("list-top").addClass(i.clsListTop).insertBefore(o),c,d,m,f;return c=l.isValue(this.wrapperSearch)?this.wrapperSearch:r("<div>").addClass("list-search-block").addClass(i.clsSearch).appendTo(p),d=r("<input>").attr("type","text").appendTo(c),e.makePlugin(d,"input",{prepend:i.listSearchTitle}),i.showSearch!==!0&&c.hide(),m=l.isValue(this.wrapperRows)?this.wrapperRows:r("<div>").addClass("list-rows-block").addClass(i.clsItemsCount).appendTo(p),f=r("<select>").appendTo(m),r.each(i.itemsSteps.toArray(),function(){var u=r("<option>").attr("value",this==="all"?-1:this).text(this==="all"?i.itemsAllTitle:this).appendTo(f);+this==+i.items&&u.attr("selected","selected")}),f.select({filter:!1,prepend:i.listItemsCountTitle,onChange:function(u){+u!=+i.items&&(i.items=parseInt(u),t.currentPage=1,t._draw(),t._fireEvent("rows-count-change",{val:u}))}}),i.showItemsSteps!==!0&&m.hide(),p},_createBottomBlock:function(){var t=this.element,o=this.options,i=r("<div>").addClass("list-bottom").addClass(o.clsListBottom).insertAfter(t),p,c;return p=r("<div>").addClass("list-info").addClass(o.clsListInfo).appendTo(i),o.showListInfo!==!0&&p.hide(),c=r("<div>").addClass("list-pagination").addClass(o.clsListPagination).appendTo(i),o.showPagination!==!0&&c.hide(),i},_createStructure:function(){var t=this,o=this.element,i=this.options,p,c=r(i.searchWrapper),d=r(i.infoWrapper),m=r(i.rowsWrapper),f=r(i.paginationWrapper);c.length>0&&(this.wrapperSearch=c),d.length>0&&(this.wrapperInfo=d),m.length>0&&(this.wrapperRows=m),f.length>0&&(this.wrapperPagination=f),o.parent().hasClass("list-component")?p=o.parent():(p=r("<div>").addClass("list-component").insertBefore(o),o.appendTo(p)),p.addClass(i.clsComponent),this.activity=r("<div>").addClass("list-progress").appendTo(p),r("<div>").activity({type:i.activityType,style:i.activityStyle}).appendTo(this.activity),i.showActivity!==!0&&this.activity.css({visibility:"hidden"}),o.addClass(i.clsList),this._createTopBlock(),this._createBottomBlock(),l.isValue(i.filterString)&&(this.filterString=i.filterString);var u;l.isValue(i.filter)&&(u=l.isFunc(i.filter),u===!1&&(u=l.func(i.filter)),t.filterIndex=t.addFilter(u)),l.isValue(i.filters)&&typeof i.filters=="string"&&r.each(i.filters.toArray(),function(){u=l.isFunc(this),u!==!1&&t.filtersIndexes.push(t.addFilter(u))}),this.currentPage=1,i.sortInitial!==!1?this.sorting(i.sortClass,i.sortDir,!0):this.draw()},_createEvents:function(){var t=this,o=this.element,i=this.options,p=o.parent(),c=p.find(".list-search-block input"),d;function m(u){t.filterString=this.value.trim().toLowerCase(),t.filterString[t.filterString.length-1]!==":"&&(t.currentPage=1,t._draw())}m=Hooks.useDebounce(m,i.searchThreshold),c.on(e.events.inputchange,m),l.isValue(this.wrapperSearch)&&(d=this.wrapperSearch.find("input"),d.length>0&&d.on(e.events.inputchange,m));function f(u){var g=r(u),h=g.parent();h.hasClass("active")||(h.hasClass("service")?g.data("page")==="prev"?(t.currentPage--,t.currentPage===0&&(t.currentPage=1)):(t.currentPage++,t.currentPage>t.pagesCount&&(t.currentPage=t.pagesCount)):t.currentPage=g.data("page"),t._draw())}p.on(e.events.click,".pagination .page-link",function(){f(this)}),l.isValue(this.wrapperPagination)&&this.wrapperPagination.on(e.events.click,".pagination .page-link",function(){f(this)})},_info:function(t,o,i){var p=this.element,c=this.options,d=p.parent(),m=l.isValue(this.wrapperInfo)?this.wrapperInfo:d.find(".list-info"),f;m.length!==0&&(o>i&&(o=i),this.items.length===0&&(t=o=i=0),f=c.listInfoTitle,f=f.replace("$1",t),f=f.replace("$2",o),f=f.replace("$3",i),m.html(f))},_paging:function(t){var o=this.element,i=this.options,p=o.parent();this.pagesCount=Math.ceil(t/i.items),e.pagination({length:t,rows:i.items,current:this.currentPage,target:l.isValue(this.wrapperPagination)?this.wrapperPagination:p.find(".list-pagination"),claPagination:i.clsPagination,prevTitle:i.paginationPrevTitle,nextTitle:i.paginationNextTitle,distance:i.paginationShortMode===!0?i.paginationDistance:0})},_filter:function(){var t=this,o=this.options,i,p,c,d,m,f;return l.isValue(this.filterString)||this.filters.length>0?(i=this.items.filter(function(u){if(c="",l.isValue(o.filterClass)){if(d=u.getElementsByClassName(o.filterClass),d.length>0)for(p=0;p<d.length;p++)c+=d[p].textContent}else c=u.textContent;if(m=c.replace(/[\n\r]+|[\s]{2,}/g," ").trim().toLowerCase(),f=l.isValue(t.filterString)?m.indexOf(t.filterString)>-1:!0,f===!0&&t.filters.length>0){for(p=0;p<t.filters.length;p++)if(l.exec(t.filters[p],[u])!==!0){f=!1;break}}return f?t._fireEvent("filter-item-accepted",{item:u}):t._fireEvent("filter-item-declined",{item:u}),f}),t._fireEvent("search",{search:t.filterString,items:i})):i=this.items,i},_draw:function(t){var o=this.element,i=this.options,p,c=i.items===-1?0:i.items*(this.currentPage-1),d=i.items===-1?this.items.length-1:c+i.items-1,m;for(m=this._filter(),o.children(i.itemTag).remove(),p=c;p<=d;p++)l.isValue(m[p])&&r(m[p]).addClass(i.clsListItem).appendTo(o),this._fireEvent("draw-item",{item:m[p]});this._info(c+1,d+1,m.length),this._paging(m.length),this.activity.hide(),this._fireEvent("draw"),t!==void 0&&l.exec(t,[o],o[0])},_getItemContent:function(t){let o=this.locale;var i=this.options,p=r(t),c,d,m,f,u=l.isValue(p.data("formatMask"))?p.data("formatMask"):null;if(l.isValue(i.sortClass)){if(m="",d=r(t).find("."+i.sortClass),d.length>0)for(c=0;c<d.length;c++)m+=d[c].textContent;f=d.length>0?d[0].getAttribute("data-format"):""}else m=t.textContent,f=t.getAttribute("data-format");if(m=(""+m).toLowerCase().replace(/[\n\r]+|[\s]{2,}/g," ").trim(),l.isValue(f))switch(["number","int","integer","float","money"].indexOf(f)!==-1&&(i.thousandSeparator!==","||i.decimalSeparator!==".")&&(m=l.parseNumber(m,i.thousandSeparator,i.decimalSeparator)),f){case"date":m=u?Datetime.from(m,u,o):datetime(m);break;case"number":m=Number(m);break;case"int":case"integer":m=parseInt(m);break;case"float":m=parseFloat(m);break;case"money":m=l.parseMoney(m);break;case"card":m=l.parseCard(m);break;case"phone":m=l.parsePhone(m);break}return m},deleteItem:function(t){var o,i=[],p,c=l.isFunc(t);for(o=0;o<this.items.length;o++)p=this.items[o],c?l.exec(t,[p])&&i.push(o):p.textContent.includes(t)&&i.push(o);return this.items=l.arrayDeleteByMultipleKeys(this.items,i),this},draw:function(){return this._draw()},sorting:function(t,o,i){var p=this,c=this.options;return l.isValue(t)&&(c.sortClass=t),l.isValue(o)&&["asc","desc"].indexOf(o)>-1&&(c.sortDir=o),this._fireEvent("sort-start",{items:this.items}),this.items.sort(function(d,m){var f=p._getItemContent(d),u=p._getItemContent(m),g=0;return f<u&&(g=c.sortDir==="asc"?-1:1),f>u&&(g=c.sortDir==="asc"?1:-1),g!==0&&p._fireEvent("sort-item-switch",{a:d,b:m,result:g}),g}),this._fireEvent("sort-stop",{items:this.items}),i===!0&&this._draw(),this},filter:function(t){this.filterString=t.trim().toLowerCase(),this.currentPage=1,this._draw()},setData:function(t){var o=this,i=this.element,p=this.options;if(l.isValue(t)===!0){o._createItemsFromJSON(t),i.html(""),l.isValue(p.filterString)&&(o.filterString=p.filterString);var c;l.isValue(p.filter)&&(c=l.isFunc(p.filter),c===!1&&(c=l.func(p.filter)),o.filterIndex=o.addFilter(c)),l.isValue(p.filters)&&typeof p.filters=="string"&&r.each(p.filters.toArray(),function(){c=l.isFunc(this),c!==!1&&o.filtersIndexes.push(o.addFilter(c))}),o.currentPage=1,o.sorting(p.sortClass,p.sortDir,!0)}},loadData:function(t){var o=this,i=this.options;l.isValue(t)===!0&&(i.source=t,this._fireEvent("data-load",{source:i.source}),fetch(i.source).then(e.fetch.status).then(e.fetch.json).then(function(p){o._fireEvent("data-loaded",{source:i.source,data:p}),o.setData(p)}).catch(function(p){o._fireEvent("data-load-error",{source:i.source,error:p})}))},next:function(){if(this.items.length!==0){if(this.currentPage++,this.currentPage>this.pagesCount){this.currentPage=this.pagesCount;return}this._draw()}},prev:function(){if(this.items.length!==0){if(this.currentPage--,this.currentPage===0){this.currentPage=1;return}this._draw()}},first:function(){this.items.length!==0&&(this.currentPage=1,this._draw())},last:function(){this.items.length!==0&&(this.currentPage=this.pagesCount,this._draw())},page:function(t){t<=0&&(t=1),t>this.pagesCount&&(t=this.pagesCount),this.currentPage=t,this._draw()},addFilter:function(t,o){var i=l.isFunc(t);if(i!==!1)return this.filters.push(i),o===!0&&(this.currentPage=1,this.draw()),this.filters.length-1},removeFilter:function(t,o){return l.arrayDeleteByKey(this.filters,t),o===!0&&(this.currentPage=1,this.draw()),this},removeFilters:function(t){this.filters=[],t===!0&&(this.currentPage=1,this.draw())},getFilters:function(){return this.filters},getFilterIndex:function(){return this.filterIndex},getFiltersIndexes:function(){return this.filtersIndexes},changeAttribute:function(t){var o=this,i=this.element,p=this.options,c=function(){var f=i.attr("data-sort-dir");l.isValue(f)&&(p.sortDir=f,o.sorting(p.sortClass,p.sortDir,!0))},d=function(){var f=i.attr("data-sort-source");l.isValue(f)&&(p.sortClass=f,o.sorting(p.sortClass,p.sortDir,!0))},m=function(){var f=i.attr("data-filter-string");l.isValue(f)&&(p.filterString=f,o.filter(p.filterString))};switch(t){case"data-sort-dir":c();break;case"data-sort-source":d();break;case"data-filter-string":m();break}},destroy:function(){var t=this.element,o=t.parent(),i=o.find(".list-search-block input"),p;return i.off(e.events.inputchange),l.isValue(this.wrapperSearch)&&(p=this.wrapperSearch.find("input"),p.length>0&&p.off(e.events.inputchange)),o.off(e.events.click,".pagination .page-link"),l.isValue(this.wrapperPagination)&&this.wrapperPagination.off(e.events.click,".pagination .page-link"),t}})})(Metro,Dom);(function(e,r){"use strict";let l=`
    <svg width="800px" height="800px" fill="none" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
        <path class="a" d="M39.5,15.5h-9a2,2,0,0,1-2-2v-9h-18a2,2,0,0,0-2,2v35a2,2,0,0,0,2,2h27a2,2,0,0,0,2-2Z"/>
        <line class="a" x1="28.5" y1="4.5" x2="39.5" y2="15.5"/>
    </svg>`,a='<svg aria-hidden="true" width="16" height="16" viewBox="0 0 24 24"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>',t={listviewDeferred:0,selectable:!1,duration:100,view:e.listView.LIST,selectCurrent:!0,defaultIcon:l,onNodeInsert:e.noop,onNodeDelete:e.noop,onNodeClean:e.noop,onCollapseNode:e.noop,onExpandNode:e.noop,onGroupNodeClick:e.noop,onNodeClick:e.noop,onNodeDblclick:e.noop,onListViewCreate:e.noop};e.listViewSetup=function(o){t=r.extend({},t,o)},typeof globalThis.metroListViewSetup!==void 0&&e.listViewSetup(globalThis.metroListViewSetup),e.Component("listview",{init:function(o,i){return this._super(i,o,t),this},_create:function(){let o=this.element;this._createStructure(),this._createEvents(),this._fireEvent("listview-create",{element:o})},_createIcon:function(o){return r("<div>").addClass("icon").html(o)},_createCaption:function(o=""){return r("<div>").addClass("caption").html(o)},_createContent:function(o=""){return r("<div>").addClass("content").html(o)},_createDesc:function(o=""){return r("<div>").addClass("desc").html(o)},_createDate:function(o=""){return r("<div>").addClass("date").html(o)},_createToggle:function(){return r("<span>").addClass("node-toggle").html(a)},_createNode:function(o){let i=this,p=this.options,c=r("<li>");return c.append(r("<input type='checkbox' data-role='checkbox'>").data("node",c)),c.append(i._createIcon(o.icon??p.defaultIcon)),c.append(i._createCaption(o.caption)),c.append(i._createDesc(o.desc)),c.append(i._createDate(o.date)),c.append(i._createContent(o.content)),c},_createStructure:function(){let o=this,i=this.element,p=this.options,c=i.find("li");i.addClass("listview"),i.find("ul").addClass("listview"),p.selectable&&i.addClass("selectable"),r.each(c,function(d){let m=r(this),f=m.html(),u=`Item_${d+1}`;m.children("ul").length>0?(m.prepend(o._createCaption(m.data("caption")??u)),m.addClass("node-group"),m.append(o._createToggle()),m.data("collapsed")!==!0&&m.addClass("expanded")):(m.clear().addClass("node"),m.append(r("<input type='checkbox' data-role='checkbox'>").data("node",m)),m.append(o._createIcon(m.data("icon")??p.defaultIcon)),m.append(o._createCaption(m.data("caption")??u)),m.append(o._createDesc(m.data("desc"))),m.append(o._createDate(m.data("date"))),m.append(o._createContent(f)))}),p.selectable&&i.addClass("selectable"),this.view(p.view)},_createEvents:function(){let o=this,i=this.element,p=this.options;i.on(e.events.dblclick,".node",function(){let c=r(this);o._fireEvent("node-dblclick",{node:c})}),i.on(e.events.click,".node",function(){let c=r(this),d=r(this).attr("href");if(d){globalThis.location.href=d;return}let m=c.hasClass("current");i.find(".node").removeClass("current"),m||c.addClass("current"),p.selectCurrent===!0&&(i.find(".node").removeClass("current-select"),m||c.addClass("current-select")),o._fireEvent("node-click",{node:c})}),i.on(e.events.click,".node-toggle",function(){let c=r(this).closest("li");o.toggleNode(c)}),i.on(e.events.click,".node-group > .caption",function(){let c=r(this).closest("li");i.find(".node-group").removeClass("current-group"),c.addClass("current-group"),o._fireEvent("group-node-click",{node:c})}),i.on(e.events.dblclick,".node-group > .caption",function(){let c=r(this).closest("li");o.toggleNode(c),o._fireEvent("node-dbl-click",{node:c})})},view:function(o){let i=this.element,p=this.options;if(o===void 0)return p.view;p.view=o,r.each(e.listView,function(c,d){i.removeClass("view-"+d),i.find("ul").removeClass("view-"+d)}),i.addClass("view-"+p.view),i.find("ul").addClass("view-"+p.view)},toggleNode:function(o){let i=this.options,p;o=r(o),o.hasClass("node-group")&&(o.toggleClass("expanded"),p=o.hasClass("expanded")!==!0?"slideUp":"slideDown",this._fireEvent("collapse-node",{node:o}),o.children("ul")[p](i.duration))},toggleSelectable:function(){let o=this.element,i=this.options;i.selectable=!i.selectable;let p=i.selectable===!0?"addClass":"removeClass";console.log(p),o[p]("selectable"),o.find("ul")[p]("selectable")},add:function(o,i=null){let p=this.element,c=this.options,d,m,f;if(i===null)d=p;else{if(i=r(i),!i.hasClass("node-group"))return;d=i.children("ul"),d.length===0&&(d=r("<ul>").addClass("listview").addClass("view-"+c.view).appendTo(i),f=this._createToggle(),f.appendTo(i),i.addClass("expanded"))}m=this._createNode(o),m.addClass("node").appendTo(d);let u=r("<input type='checkbox'>");return u.data("node",m),m.prepend(u),e.makePlugin(u,"checkbox",{}),this._fireEvent("node-insert",{newNode:m,parentNode:i,list:d}),m},addGroup:function(o){let i=this.element,p=this.options,c;return delete o.icon,c=this._createNode(o),c.addClass("node-group").appendTo(i),c.append(this._createToggle()),c.addClass("expanded"),c.append(r("<ul>").addClass("listview").addClass("view-"+p.view)),this._fireEvent("node-insert",{newNode:c,parentNode:null,list:i}),c},insertBefore:function(o,i){let p,c,d;if(i=r(i),!!i.length)return p=this._createNode(o),p.addClass("node").insertBefore(i),c=p.closest(".node"),d=p.closest("ul"),this._fireEvent("node-insert",{newNode:p,parentNode:c,list:d}),p},insertAfter:function(o,i){let p,c,d;if(i=r(i),!!i.length)return p=this._createNode(o),p.addClass("node").insertAfter(i),c=p.closest(".node"),d=p.closest("ul"),this._fireEvent("node-insert",{newNode:p,parentNode:c,list:d}),p},del:function(o){let i=this.element;if(o=r(o),!o.length)return;let p=o.closest("ul"),c=p.closest("li");o.remove(),p.children().length===0&&!p.is(i)&&(p.remove(),c.removeClass("expanded"),c.children(".node-toggle").remove()),this._fireEvent("node-delete",{node:o})},clean:function(o){o=r(o),o.length&&(o.children("ul").remove(),o.removeClass("expanded"),o.children(".node-toggle").remove(),this._fireEvent("node-clean",{node:o}))},getSelected:function(){let o=this.element,i=[];return r.each(o.find(":checked"),function(){let p=r(this);i.push(p.closest(".node")[0])}),i},clearSelected:function(){this.element.find(":checked").prop("checked",!1),this.element.trigger("change")},selectAll:function(o=!0){this.element.find(".checkbox input").prop("checked",o),this.element.trigger("change")},selectByAttribute:function(o,i,p=!0){this.element.find("li["+o+'="'+i+'"] > .checkbox input').prop("checked",p),this.element.trigger("change")},changeAttribute:function(o){let i=this,p=this.element,c=this.options,d=function(){let f="view-"+p.attr("data-view");i.view(f)},m=function(){c.selectable=JSON.parse(p.attr("data-selectable"))===!0,i.toggleSelectable()};switch(o){case"data-view":d();break;case"data-selectable":m();break}},destroy:function(){let o=this.element;o.off(e.events.click,".node"),o.off(e.events.click,".node-toggle"),o.off(e.events.click,".node-group > .caption"),o.off(e.events.dblclick,".node-group > .caption"),o.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l={items:null,loop:!0,height:"auto",width:"100%",duration:1e4,direction:"left",ease:"linear",mode:"default",accentPause:2e3,firstPause:1e3,stopOnHover:!0,clsMarquee:"",clsMarqueeItem:"",onMarqueeItem:e.noop,onMarqueeItemComplete:e.noop,onMarqueeComplete:e.noop,onMarqueeCreate:e.noop};e.marqueeSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroMarqueeSetup!==void 0&&e.marqueeSetup(globalThis.metroMarqueeSetup),e.Component("marquee",{init:function(a,t){return this._super(t,a,l,{origin:null,items:[],running:!1,current:-1,chain:[]}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("marquee-create")},_createStructure:function(){var a=this.element,t=this.options;a.addClass("marquee").addClass(t.clsMarquee),a.css({height:t.height,width:t.width});let o=a.html().split(`
`).map(p=>p.trim()).filter(p=>p.length),i=e.utils.isObject(t.items)||[];this.origin=[...o,...i],this.setItems(this.origin,!0),this.items.length&&(this.current=0,this.createChain(),console.log(this.chain),this.start())},setItems:function(a,t=!0){let o=this.element,i=this.options,p=i.direction.toLowerCase();if(t&&(this.items.length=0),o.clear(),this.items=a.map(c=>r("<div>").html(c).addClass("marquee__item").addClass(i.clsMarqueeItem).appendTo(o)[0]),r(this.items).addClass(p==="left"||p==="right"?"moveLeftRight":"moveUpDown"),i.height==="auto"){let c=0;r(this.items).each(function(){let m=+r(this).outerHeight(!0);m>c&&(c=m)}),o.height(c)}return this},setItem:function(a,t){var o=r(this.items[a]),i,p=this.options,c=this.element;if(o.length)return o.html(t),i=o.outerHeight(!0),p.height==="auto"&&c.height()<i&&c.height(i),this},addItem:function(a,t=-1){var o=this.element,i=this.options,p,c=r(a),d,m;return p=c.length?c:r("<div>").html(a),t<0?o.append(p):(d=this.items[t],d?p.insertBefore(d):o.append(p)),m=p.outerHeight(!0),i.height==="auto"&&o.height()<m&&o.height(m),this},createChain:function(){let a=this.element,t=this.options,o=20,i=t.direction,p=t.ease,c=+t.duration,d=0,m=a[0].getBoundingClientRect();if(this.chain.length=0,t.mode==="default")for(let f of this.items){let u=r(f),g=f.getBoundingClientRect(),h=(m.width-g.width)/2,b;u.attr("data-direction")&&(i=u.attr("data-direction")),u.attr("data-duration")&&(c=+u.attr("data-duration")),u.attr("data-ease")?p=u.attr("data-ease"):p=t.ease,["left","right"].indexOf(i)>-1?b={left:i==="left"?[m.width,-g.width-o]:[-g.width-o,m.width]}:b={top:i==="up"?[m.height,-g.height-o]:[-g.height-o,m.height]},this.chain.push({el:u[0],draw:b,dur:c,ease:p,defer:d===0?+t.firstPause:0}),d++}else for(let f of this.items){let u=r(f),g=f.getBoundingClientRect(),h=(m.width-g.width)/2,b=(m.height-g.height)/2,v,k;c=t.duration/2,u.attr("data-direction")&&(i=u.attr("data-direction").toLowerCase()),u.attr("data-duration")&&(c=+u.attr("data-duration")/2);let w=p?p.split(" "):["linear"];u.attr("data-ease")&&(w=u.attr("data-ease").split(" ")),["left","right"].includes(i)?(v={left:i==="left"?[m.width,h]:[-g.width-o,h]},k={left:i==="left"?[h,-g.width-o]:[h,m.width+o]}):(v={top:i==="up"?[m.height,b]:[-g.height-o,b]},k={top:i==="up"?[b,-g.height-o]:[b,m.height+o]}),this.chain.push({el:u[0],draw:v,dur:c,ease:w[0]||"linear",defer:d===0?+t.firstPause:0}),this.chain.push({el:u[0],draw:k,dur:c,ease:w[1]?w[1]:w[0]?w[0]:"linear",defer:+t.accentPause}),d++}},_createEvents:function(){var a=this,t=this.element,o=this.options;t.on(e.events.enter,function(){o.stopOnHover&&r.pauseAll(a.items)}),t.on(e.events.leave,function(){o.stopOnHover&&r.resumeAll(a.items)});let i=Hooks.useDebounce(p=>{a.stop(),a.setItems(this.items,!0),a.createChain(),a.start()},1e3);r(window).on(e.events.resize,i)},start:function(){let a=this.options;return this.running=!0,r.chain(this.chain,{loop:a.loop,onChainItem:e.utils.isFunc(a.onMarqueeItem),onChainItemComplete:e.utils.isFunc(a.onMarqueeItemComplete),onChainComplete:e.utils.isFunc(a.onMarqueeComplete)}),this},stop:function(){return this.running=!1,r.stopAll(!1),this},changeAttribute:function(){},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={masterDeferred:0,effect:"slide",effectFunc:"linear",duration:METRO_ANIMATION_DURATION,controlPrev:"\u{1F850}",controlNext:"\u{1F852}",controlTitle:"Master, page $1 of $2",backgroundImage:"",clsMaster:"",clsControls:"",clsControlPrev:"",clsControlNext:"",clsControlTitle:"",clsPages:"",clsPage:"",onBeforePage:e.noop_true,onBeforeNext:e.noop_true,onBeforePrev:e.noop_true,onNextPage:e.noop,onPrevPage:e.noop,onMasterCreate:e.noop};e.masterSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroMasterSetup!==void 0&&e.masterSetup(globalThis.metroMasterSetup),e.Component("master",{init:function(t,o){return this._super(o,t,a,{pages:[],currentIndex:0,isAnimate:!1,id:l.elementId("master")}),this},_create:function(){var t=this.element,o=this.options;t.addClass("master").addClass(o.clsMaster),t.css({backgroundImage:"url("+o.backgroundImage+")"}),this._createControls(),this._createPages(),this._createEvents(),this._fireEvent("master-create",{element:t})},_createControls:function(){var t=this.element,o=this.options,i=["top","bottom"],p,c,d=t.find(".page");c=String(o.controlTitle).replace("$1","1"),c=String(c).replace("$2",d.length),r.each(i,function(){p=r("<div>").addClass("controls controls-"+this).addClass(o.clsControls).appendTo(t),r("<span>").addClass("prev").addClass(o.clsControlPrev).html(o.controlPrev).appendTo(p),r("<span>").addClass("next").addClass(o.clsControlNext).html(o.controlNext).appendTo(p),r("<span>").addClass("title").addClass(o.clsControlTitle).html(c).appendTo(p)}),this._enableControl("prev",!1)},_enableControl:function(t,o){var i=this.element.find(".controls ."+t);o===!0?i.removeClass("disabled"):i.addClass("disabled")},_setTitle:function(){var t=this.element.find(".controls .title"),o=this.options.controlTitle.replace("$1",this.currentIndex+1);o=o.replace("$2",String(this.pages.length)),t.html(o)},_createPages:function(){var t=this,o=this.element,i=this.options,p=o.find(".pages"),c=o.find(".page");p.length===0&&(p=r("<div>").addClass("pages").appendTo(o)),p.addClass(i.clsPages),r.each(c,function(){var d=r(this);d.data("cover")!==void 0?o.css({backgroundImage:"url("+d.data("cover")+")"}):o.css({backgroundImage:"url("+i.backgroundImage+")"}),d.css({left:"100%"}),d.addClass(i.clsPage).hide(0),t.pages.push(d)}),c.appendTo(p),this.currentIndex=0,this.pages[this.currentIndex]!==void 0&&(this.pages[this.currentIndex].data("cover")!==void 0&&o.css({backgroundImage:"url("+this.pages[this.currentIndex].data("cover")+")"}),this.pages[this.currentIndex].css("left","0").show(0),setTimeout(function(){p.css({height:t.pages[0].outerHeight(!0)+2})},0))},_createEvents:function(){var t=this,o=this.element,i=this.options;o.on(e.events.click,".controls .prev",function(){t.isAnimate!==!0&&l.exec(i.onBeforePrev,[t.currentIndex,t.pages[t.currentIndex],o])===!0&&l.exec(i.onBeforePage,["prev",t.currentIndex,t.pages[t.currentIndex],o])===!0&&t.prev()}),o.on(e.events.click,".controls .next",function(){t.isAnimate!==!0&&l.exec(i.onBeforeNext,[t.currentIndex,t.pages[t.currentIndex],o])===!0&&l.exec(i.onBeforePage,["next",t.currentIndex,t.pages[t.currentIndex],o])===!0&&t.next()}),r(globalThis).on(e.events.resize,function(){o.find(".pages").height(t.pages[t.currentIndex].outerHeight(!0)+2)},{ns:this.id})},_slideToPage:function(t){var o,i,p;this.pages[t]!==void 0&&this.currentIndex!==t&&(p=t>this.currentIndex?"next":"prev",o=this.pages[this.currentIndex],i=this.pages[t],this.currentIndex=t,this._effect(o,i,p))},_slideTo:function(t){var o,i,p=t.toLowerCase()==="next";if(o=this.pages[this.currentIndex],p){if(this.currentIndex+1>=this.pages.length)return;this.currentIndex++}else{if(this.currentIndex-1<0)return;this.currentIndex--}i=this.pages[this.currentIndex],this._fireEvent(p?"next-page":"prev-page",{current:o,next:i,forward:p}),this._effect(o,i,t)},_effect:function(t,o,i){var p=this,c=this.element,d=this.options,m=c.width(),f=c.find(".pages");this._setTitle(),this.currentIndex===this.pages.length-1?this._enableControl("next",!1):this._enableControl("next",!0),this.currentIndex===0?this._enableControl("prev",!1):this._enableControl("prev",!0),setTimeout(function(){p.isAnimate=!0,f.animate({draw:{height:o.outerHeight(!0)+2},onDone:function(){u()}})},0),f.css("overflow","hidden");function u(){o.data("cover")!==void 0?c.css({backgroundImage:"url("+o.data("cover")+")"}):c.css({backgroundImage:"url("+d.backgroundImage+")"}),f.css("overflow","initial"),p.isAnimate=!1}function g(){t.stop(!0).animate({draw:{left:i==="next"?-m:m},dur:d.duration,ease:d.effectFunc,onDone:function(){t.hide(0)}}),o.stop(!0).css({left:i==="next"?m:-m}).show(0).animate({draw:{left:0},dur:d.duration,ease:d.effectFunc,onDone:function(){u()}})}function h(){t.hide(),o.css({top:0,left:0,opacity:0}).show(function(){u()})}function b(){t.fadeOut(d.duration),o.css({top:0,left:0,opacity:0}).fadeIn(d.duration,"linear",function(){u()})}switch(d.effect){case"fade":b();break;case"switch":h();break;default:g()}},toPage:function(t){this._slideToPage(t)},next:function(){this._slideTo("next")},prev:function(){this._slideTo("prev")},changeEffect:function(){this.options.effect=this.element.attr("data-effect")},changeEffectFunc:function(){this.options.effectFunc=this.element.attr("data-effect-func")},changeEffectDuration:function(){this.options.duration=this.element.attr("data-duration")},changeAttribute:function(t){switch(t){case"data-effect":this.changeEffect();break;case"data-effect-func":this.changeEffectFunc();break;case"data-duration":this.changeEffectDuration();break}},destroy:function(){var t=this.element;return t.off(e.events.click,".controls .prev"),t.off(e.events.click,".controls .next"),r(globalThis).off(e.events.resize,{ns:this.id}),t}})})(Metro,Dom);(function(e,r){"use strict";let l={navviewDeferred:0,expandPoint:null,toggle:null,animate:!0,activeState:!0,initialView:"expand",onMenuItemClick:e.noop,onPaneClose:e.noop,onBeforePaneClose:e.noop,onPaneOpen:e.noop,onBeforePaneOpen:e.noop,onNavviewCreate:e.noop};e.navViewSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroNavViewSetup!==void 0&&e.navViewSetup(globalThis.metroNavViewSetup),e.Component("nav-view",{init:function(a,t){return this._super(t,a,l,{pane:null,content:null,paneToggle:null,id:null,menuScrollDistance:0,menuScrollStep:0}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("navview-create")},_calcMenuHeight:function(){let a=this.element,t,o,i=0;t=a.children(".navview-pane"),t.length!==0&&(o=t.children(".navview-menu-container"),o.length!==0&&(r.each(o.prevAll(),function(){i+=r(this).outerHeight(!0)}),r.each(o.nextAll(),function(){i+=r(this).outerHeight(!0)}),o.css({height:"calc(100% - "+i+"px)"}),this.menuScrollStep=48,this.menuScrollDistance=e.utils.nearest(o[0].scrollHeight-o.height(),48)))},_recalc:function(){let a=this;setTimeout(function(){a._calcMenuHeight()},200)},_createStructure:function(){let a=this.element,t=this.options,o,i,p,c;a.addClass("navview"),a.attr("id")===void 0?(this.id=e.utils.elementId("navview"),a.attr("id",this.id)):this.id=a.attr("id"),t.initialView!=="compact"&&e.utils.mediaExist(t.expandPoint)?a.addClass("expanded"):a.addClass("compacted handmade"),e.storage.getItem("navview:compacted")===!0&&(a.removeClass("expanded"),a.addClass("compacted handmade")),o=a.children(".navview-pane"),i=a.children(".navview-content"),p=r(t.toggle),c=o.children(".navview-menu"),c.length&&(c.prevAll().reverse().wrapAll(r("<div>").addClass("navview-container")),c.wrap(r("<div>").addClass("navview-menu-container")),c.find("a").each(function(){let m=r(this),f=m.children(".icon"),u=m.children(".caption");f.length||m.prepend(r("<span>").addClass("icon").html(u.text()[0]))})),this.pane=o.length>0?o:null,this.content=i.length>0?i:null,this.paneToggle=p.length>0?p:null,t.animate&&a.addClass("animate-panes"),this._recalc()},_createEvents:function(){let a=this,t=this.element,o=this.options,i=t.find(".navview-menu-container"),p=i.children(".navview-menu");i.on("mousewheel",function(c){let d=t.find(".navview-pane").width(),m=c.deltaY>0?-1:1,f=a.menuScrollStep,u=a.menuScrollDistance,g=parseInt(p.css("top"));if(d>50)return!1;m===-1&&Math.abs(g)<=u&&p.css("top",parseInt(p.css("top"))+f*m),m===1&&g<=-f&&p.css("top",parseInt(p.css("top"))+f*m)},{passive:!0}),t.on(e.events.click,".pull-button",function(){a._pullClick(this,"pull")}),t.on(e.events.click,".holder",function(){a._pullClick(this,"holder")}),t.on(e.events.click,".navview-menu li",function(){o.activeState===!0&&(t.find(".navview-menu li.active").removeClass("active"),r(this).toggleClass("active"))}),t.on(e.events.click,".navview-menu li > a",function(){a._fireEvent("menu-item-click",{item:this})}),this.paneToggle!==null&&this.paneToggle.on(e.events.click,function(){}),p.find("a").on(e.events.enter,function(){if(!t.hasClass("compacted"))return;let c=r(this),d=e.utils.rect(this);c.children(".caption").css({position:"fixed",top:d.top,left:d.left+i.width(),borderRadius:4,paddingLeft:10,boxShadow:"0 0 5px 0 var(--shadow-color)"})}),p.find("a").on(e.events.leave,function(){if(!t.hasClass("compacted"))return;let d=r(this).children(".caption");d[0].style=""}),r(globalThis).on(e.events.resize,()=>{this._recalc(),t.hasClass("handmade")||(e.utils.isValue(o.expandPoint)&&e.utils.mediaExist(o.expandPoint)?(t.removeClass("compacted"),t.addClass("expanded")):(t.removeClass("expanded"),t.addClass("compacted")))},{ns:this.id})},_togglePaneMode:function(a=!1){let t=this.element,o=this.options;t.toggleClass("expanded"),t.toggleClass("compacted"),t.toggleClass("handmade"),t.hasClass("compacted")?(e.storage.setItem("navview:compacted",!0),e.utils.exec(o.onPaneClose,null,this)):(e.storage.setItem("navview:compacted",!1),e.utils.exec(o.onPaneOpen,null,this))},_pullClick:function(a,t){let o,i=r(a);return i&&i.hasClass("holder")&&(o=i.parent().find("input"),setTimeout(function(){o.focus()},200)),this._togglePaneMode(t==="pull"),this._recalc(),!0},toggle:function(){this._togglePaneMode()},compact:function(){let a=this.element;a.addClass("compacted handmade"),a.removeClass("expanded"),this._recalc()},expand:function(){let a=this.element;a.addClass("expanded"),a.removeClass("compacted handmade"),this._recalc()},state(){return this.element.hasClass("expanded")?"expand":"compact"},changeAttribute:function(a){},destroy:function(){let a=this.element;a.off(e.events.click,".pull-button, .holder"),a.off(e.events.click,".navview-menu li"),a.off(e.events.click,".navview-menu li > a"),this.paneToggle!==null&&this.paneToggle.off(e.events.click),r(globalThis).off(e.events.resize,{ns:this.id}),a.remove()}})})(Metro,Dom);(function(e,r){"use strict";let l={container:null,width:220,timeout:3e3,duration:METRO_ANIMATION_DURATION,distance:"max",animation:"linear",clsNotify:"",onClick:e.noop,onClose:e.noop,onShow:e.noop,onAppend:e.noop,onNotifyCreate:e.noop};e.notifySetup=function(t){l=r.extend({},l,t)},typeof globalThis.metroNotifySetup!==void 0&&e.notifySetup(globalThis.metroNotifySetup);let a={container:null,options:{},notifies:[],setup:function(t){return this.options=r.extend({},l,t),this},reset:function(){let t={width:220,timeout:METRO_TIMEOUT,duration:METRO_ANIMATION_DURATION,distance:"max",animation:"linear"};this.options=r.extend({},l,t)},_createContainer:function(){let t=r("<div>").addClass("notify-container");return r("body").prepend(t),t},create:function(t,o,i={}){let p=this,c=this.options,d,m,f,u=e.utils.elementId("notify");if(!t)return!1;d=r("<div>").addClass("notify").addClass(c.clsNotify).attr("id",u),d.css({width:c.width}),o&&(f=r("<div>").addClass("notify-title").html(o),d.prepend(f)),m=r("<div>").addClass("notify-message").html(t),m.appendTo(d),i!==void 0&&(i.clsNotify!==void 0&&d.addClass(i.clsNotify),i.width!==void 0&&d.css({width:i.width})),d.on(e.events.click,function(){e.utils.exec(e.utils.isValue(i.onClick)?i.onClick:c.onClick,null,this),p.kill(r(this).closest(".notify"),e.utils.isValue(i.onClose)?i.onClose:c.onClose)}),a.container===null&&(a.container=a._createContainer()),d.appendTo(a.container),d.hide(function(){e.utils.exec(e.utils.isValue(i.onAppend)?i.onAppend:c.onAppend,null,d[0]);let g=e.utils.isValue(i.duration)?i.duration:c.duration,h=e.utils.isValue(i.animation)?i.animation:c.animation,b=e.utils.isValue(i.distance)?i.distance:c.distance;(b==="max"||isNaN(b))&&(b=r(globalThis).height()),d.show().animate({draw:{marginTop:[b,4],opacity:[0,1]},dur:g,ease:h,onDone:function(){e.utils.exec(c.onNotifyCreate,null,this),i!==void 0&&i.keepOpen===!0||setTimeout(function(){p.kill(d,e.utils.isValue(i.onClose)?i.onClose:c.onClose)},c.timeout),e.utils.exec(e.utils.isValue(i.onShow)?i.onShow:c.onShow,null,d[0])}})})},kill:function(t,o){let i=this,p=this.options;t.off(e.events.click),t.zoomOut(300,"linear",function(){e.utils.exec(o||i.options.onClose,null,t[0]),t.remove()})},killAll:function(){let t=this,o=r(".notify");r.each(o,function(){t.kill(r(this))})}};e.notify=a.setup()})(Metro,Dom);(function(e,r){"use strict";let l={tabsDeferred:0,expand:!1,expandPoint:null,type:"default",updateUri:!1,position:"top",align:"left",link:"",clsTabs:"",clsTabsList:"",clsTabsListItem:"",clsTabsListItemActive:"",onTab:e.noop,onTabOpen:e.noop,onTabClose:e.noop,onBeforeTab:e.noop_true,onTabsCreate:e.noop};e.tabsSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroTabsSetup!==void 0&&e.tabsSetup(globalThis.metroTabsSetup),e.Component("tabs",{init:function(a,t){return this._super(t,a,l,{_targets:[],id:e.utils.elementId("tabs")}),this},_create:function(){let a=this.element,t=a.find(".active")[0];this._createStructure(),this._createEvents(),this._open(t),this._fireEvent("tabs-create",{element:a})},_createStructure:function(){let a=this.element,t=this.options,o=a.wrap("<div>").addClass("tabs"),i,p;if(o.addClass(`tabs-${t.position}`),a.addClass("tabs-list"),a.addClass("tabs-"+t.type),a.addClass("align-"+t.align),a.data("expanded",!1),i=r("<div>").addClass("expand-title"),o.prepend(i),p=o.find(".hamburger"),p.length===0){p=r("<button>").attr("type","button").addClass("hamburger menu-down").appendTo(o);for(let c=0;c<3;c++)r("<span>").addClass("line").appendTo(p)}o.addClass(t.clsTabs),a.addClass(t.clsTabsList),a.children("li").addClass(t.clsTabsListItem),t.expand===!0?["left","right"].includes(t.position)||o.addClass("tabs-expand"):e.utils.isValue(t.expandPoint)&&e.utils.mediaExist(t.expandPoint)&&!["left","right"].includes(t.position)&&o.addClass("tabs-expand"),["left","right"].includes(t.position)&&o.addClass("tabs-expand")},_createEvents:function(){let a=this,t=this.element,o=this.options,i=t.parent();r(globalThis).on(e.events.resize,function(){["left","right"].includes(o.position)||(o.expand===!0?["left","right"].includes(o.position)||i.addClass("tabs-expand"):e.utils.isValue(o.expandPoint)&&e.utils.mediaExist(o.expandPoint)&&!["left","right"].includes(o.position)?i.hasClass("tabs-expand")||i.addClass("tabs-expand"):i.hasClass("tabs-expand")&&i.removeClass("tabs-expand"))},{ns:this.id}),i.on(e.events.click,".hamburger, .expand-title",function(){t.data("expanded")===!1?(t.addClass("expand"),t.data("expanded",!0),i.find(".hamburger").addClass("active")):(t.removeClass("expand"),t.data("expanded",!1),i.find(".hamburger").removeClass("active"))}),t.on(e.events.click,"li",function(p){let c=r(this).children("a"),d=c.attr("href").trim(),m=c.parent("li");if(a._fireEvent("tab",{tab:m[0],target:m.children("a").href()}),m.hasClass("active"),t.data("expanded")===!0&&(t.removeClass("expand"),t.data("expanded",!1),i.find(".hamburger").removeClass("active")),e.utils.exec(o.onBeforeTab,[m,t],m[0])!==!0)return!1;d&&(d.startsWith("#")?(a._open(m),p.preventDefault()):globalThis.location.href=d)}),r(globalThis).on("hashchange",function(){let p,c;o.updateUri&&(p=globalThis.location.hash,c=a._findTabByTarget(p),a._open(r(c)))})},_findTabByTarget:function(a){let o=this.element.find("li"),i;return o.each(function(p,c){!i&&r(c).children("a").attr("href")===a&&(i=c)}),i},_collectTargets:function(){let a=this,o=this.element.find("li");this._targets=[],r.each(o,function(){let i=r(this);if(i.hasClass("divider"))return;let p=i.find("a").attr("href").trim();p.length>1&&p[0]==="#"&&a._targets.push(p)})},_open:function(a){let t=this.element,o=this.options,i=t.find("li"),p=t.siblings(".expand-title"),c=t.find("li.active");if(i.length===0)return;this._collectTargets(),a===void 0?a=r(i[0]):a=r(a);let d=a.find("a").attr("href"),m=a.index();d!==void 0&&(i.removeClass("active").removeClass(o.clsTabsListItemActive),a.parent().hasClass("d-menu")?a.parent().parent().addClass("active"):a.addClass("active"),o.link&&r(`[data-link=${o.link}]`).each((f,u)=>{if(u===this.elem)return;let g=r(u).find("li");g.length&&g[m]&&g[m].click()}),r.each(this._targets,function(){let f=r(this);f.length>0&&f.hide()}),d!=="#"&&d[0]==="#"&&(o.updateUri&&(globalThis.location.hash=d),r(d).show()),p.html(a.find("a").html()),a.addClass(o.clsTabsListItemActive),c.is(a)||(this._fireEvent("tab-open",{tab:a[0],target:a.children("a").attr("href")}),this._fireEvent("tab-close",{tab:c[0],target:c.children("a").attr("href")})))},next:function(){let a=this.element,t;t=a.find("li.active").next("li"),t.length>0&&this._open(t)},prev:function(){let a=this.element,t;t=a.find("li.active").prev("li"),t.length>0&&this._open(t)},openByTarget:function(a){let t=this._findTabByTarget(a);t&&this._open(r(t))},openByIndex:function(a){let o=this.element.find("li");e.utils.isValue(o[a])&&this._open(r(o[a]))},open:function(a){let o=this.element.find("li");e.utils.isValue(a)||(a=1),e.utils.isInt(a)?e.utils.isValue(o[a-1])&&this._open(r(o[a-1])):this._open(r(a))},changeAttribute:function(){},destroy:function(){let a=this.element,t=a.parent();r(globalThis).off(e.events.resize,{ns:this.id}),t.off(e.events.click,".hamburger, .expand-title"),a.off(e.events.click,"a"),a.remove()}})})(Metro,Dom);(function(e,r){"use strict";let l=`<svg width="800px" height="800px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M21 8C21 6.34315 19.6569 5 18 5H10C8.34315 5 7 6.34315 7 8V20C7 21.6569 8.34315 23 10 23H18C19.6569 23 21 21.6569 21 20V8ZM19 8C19 7.44772 18.5523 7 18 7H10C9.44772 7 9 7.44772 9 8V20C9 20.5523 9.44772 21 10 21H18C18.5523 21 19 20.5523 19 20V8Z"/>
        <path d="M6 3H16C16.5523 3 17 2.55228 17 2C17 1.44772 16.5523 1 16 1H6C4.34315 1 3 2.34315 3 4V18C3 18.5523 3.44772 19 4 19C4.55228 19 5 18.5523 5 18V4C5 3.44772 5.44772 3 6 3Z"/>
    </svg>`,a=`<svg width="800px" height="800px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
        <path d="M0 9.781v10.667h8.885v1.771h7.115v-1.771h16v-10.667zM8.885 18.661h-1.771v-5.333h-1.781v5.333h-3.552v-7.104h7.104zM14.219 18.661v1.787h-3.552v-8.891h7.115v7.109h-3.563zM30.224 18.661h-1.776v-5.333h-1.781v5.333h-1.781v-5.333h-1.771v5.333h-3.563v-7.104h10.672zM14.219 13.333h1.781v3.557h-1.781z"/>
    </svg>`,t=`<svg width="800px" height="800px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
        <path d="M30,10.75H21.251V2H30Z" />
        <path d="M20.374,10.75h-8.75V2h8.75Z" />
        <path d="M10.749,10.75H2V2h8.749Z" />
        <path d="M30,20.375H21.251v-8.75H30Z" />
        <path d="M20.374,20.375h-8.75v-8.75h8.75Z"/>
        <path d="M20.374,30h-8.75V21.25h8.75Z"/>
        <path d="M30,30H21.251V21.25H30Z" />
        <path d="M10.749,30H2V21.25h8.749Z" />
    </svg>`,o=`<svg width="800px" height="800px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
        <path d="M28.208,24.409a10.493,10.493,0,0,0-3.959,1.822,23.743,23.743,0,0,1-5.835,2.642,1.632,1.632,0,0,1-.983.55A62.228,62.228,0,0,1,10.984,30c-1.163.009-1.876-.3-2.074-.776a1.573,1.573,0,0,1,.866-2.074,3.759,3.759,0,0,1-.514-.379c-.171-.171-.352-.514-.406-.388-.225.55-.343,1.894-.947,2.5-.83.839-2.4.559-3.328.072-1.019-.541.072-1.813.072-1.813a.73.73,0,0,1-.992-.343,4.847,4.847,0,0,1-.667-2.949,5.374,5.374,0,0,1,1.749-2.895,9.334,9.334,0,0,1,.658-4.4,10.445,10.445,0,0,1,3.165-3.661S6.628,10.747,7.35,8.817c.469-1.262.658-1.253.812-1.308a3.633,3.633,0,0,0,1.452-.857,5.265,5.265,0,0,1,4.41-1.7S15.2,1.4,16.277,2.09a18.349,18.349,0,0,1,1.533,2.886s1.281-.748,1.425-.469a11.334,11.334,0,0,1,.523,6.132,14.01,14.01,0,0,1-2.6,5.411c-.135.225,1.551.938,2.615,3.887.983,2.7.108,4.96.262,5.212.027.045.036.063.036.063s1.127.09,3.391-1.308A8.5,8.5,0,0,1,27.739,22.3a1.081,1.081,0,0,1,.469,2.11Z"/>
    </svg>`,i=`<svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M11.966 22.566c6.609 0 11.966-4.326 11.966-9.661 0-3.308-2.051-6.23-5.204-7.963-1.283-.713-2.291-1.353-3.13-1.885-1.58-1.004-2.555-1.623-3.632-1.623-1.094 0-2.327.783-3.955 1.816a49.78 49.78 0 0 1-2.808 1.692C2.051 6.675 0 9.597 0 12.905c0 5.335 5.357 9.66 11.966 9.66Zm-1.397-17.83a5.885 5.885 0 0 0 .497-2.403c0-.144.201-.186.229-.028.656 2.775-.9 4.15-2.051 4.61-.124.048-.199-.12-.103-.208a5.748 5.748 0 0 0 1.428-1.971Zm2.052-.102a5.795 5.795 0 0 0-.78-2.3v-.015c-.068-.123.086-.263.185-.172 1.956 2.105 1.303 4.055.554 5.037-.082.102-.229-.003-.188-.126a5.837 5.837 0 0 0 .229-2.424Zm1.771-.559a5.708 5.708 0 0 0-1.607-1.801V2.26c-.112-.085-.024-.274.113-.218 2.588 1.084 2.766 3.171 2.452 4.395a.116.116 0 0 1-.048.071.11.11 0 0 1-.153-.026.118.118 0 0 1-.022-.083 5.864 5.864 0 0 0-.735-2.324Zm-5.072.559c-.616.544-1.279.758-2.058.997-.116 0-.194-.078-.155-.18 1.747-.907 2.369-1.645 2.99-2.771 0 0 .155-.117.188.085 0 .303-.348 1.325-.965 1.869Zm4.931 11.205a2.949 2.949 0 0 1-.935 1.549 2.16 2.16 0 0 1-1.282.618 2.167 2.167 0 0 1-1.323-.618 2.95 2.95 0 0 1-.923-1.549.243.243 0 0 1 .064-.197.23.23 0 0 1 .192-.069h3.954a.226.226 0 0 1 .19.07.239.239 0 0 1 .063.196Zm-5.443-2.17a1.85 1.85 0 0 1-2.377-.244 1.969 1.969 0 0 1-.233-2.44c.207-.318.502-.565.846-.711a1.84 1.84 0 0 1 1.089-.11c.365.075.701.26.964.53.264.27.443.616.515.99a1.98 1.98 0 0 1-.108 1.118 1.923 1.923 0 0 1-.696.866Zm8.471.005a1.849 1.849 0 0 1-2.374-.252 1.956 1.956 0 0 1-.546-1.362c0-.383.11-.758.319-1.076.207-.318.502-.566.847-.711a1.84 1.84 0 0 1 1.09-.108c.366.076.702.261.965.533s.44.617.512.993a1.98 1.98 0 0 1-.113 1.118 1.922 1.922 0 0 1-.7.865Z"/>
    </svg>`,p={link:"package-manager",default:"npm",deps:"",package:"",onPackageManagerCreate:e.noop};e.packageManagerSetup=function(c){p=r.extend({},p,c)},typeof window.metroPackageManagerSetup!==void 0&&e.packageManagerSetup(window.metroPackageManagerSetup),e.Component("package-manager",{init:function(c,d){return this._super(d,c,p,{}),this},_create:function(){let c=this,d=this.element,m=this.options;this._createStructure(),this._createEvents(),this._fireEvent("component-create")},_createStructure:function(){let c=this,d=this.element,m=this.options,f=new Date().getTime(),u=Hooks.useId(`pm-npm-${f}`),g=Hooks.useId(`pm-pnpm-${f}`),h=Hooks.useId(`pm-yarn-${f}`),b=Hooks.useId(`pm-bun-${f}`);d.addClass("package-manager"),d.html(`
                <ul data-role="tabs" data-expand="true" data-link="${m.link}">
                    <li class="${m.default==="npm"?"active":""}"><a href="#${u}">${a} npm</a></li>
                    <li class="${m.default==="pnpm"?"active":""}"><a href="#${g}">${t} pnpm</a></li>
                    <li class="${m.default==="yarn"?"active":""}"><a href="#${h}">${o} yarn</a></li>
                    <li class="${m.default==="bun"?"active":""}"><a href="#${b}">${i} bun</a></li>
                </ul>
                <div>
                    <div class="pm-command" id="${u}">
                        <button class="small square"><span class="icon">${l}</span></button>
                        <code>npm i ${m.deps===""?"":m.deps==="dev"?"-D":""} ${m.package}</code>
                    </div>
                    <div class="pm-command" id="${g}">
                        <button class="small square"><span class="icon">${l}</span></button>
                        <code>pnpm add ${m.deps===""?"":m.deps==="dev"?"-D":"--save-peer"} ${m.package}</code>
                    </div>
                    <div class="pm-command" id="${h}">
                        <button class="small square"><span class="icon">${l}</span></button>
                        <code>yarn add ${m.deps===""?"":m.deps==="dev"?"-D":"-P"} ${m.package}</code>
                    </div>
                    <div class="pm-command" id="${b}">
                        <button class="small square"><span class="icon">${l}</span></button>
                        <code>bun add ${m.deps===""?"":m.deps==="dev"?"-D":"--peer"} ${m.package}</code>
                    </div>
                </div>
            `)},_createEvents:function(){let c=this,d=this.element,m=this.options;d.on("click",".pm-command button",function(){let f=r(this).parent().find("code").text();e.utils.copy2clipboard(f)})},changeAttribute:function(c,d){},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";let l={appendButton:!0,tabsPosition:"left",customButtons:null,activateNewTab:!0,defaultNewTabTitle:"New File",defaultNewCanClose:!0,defaultNewTabIcon:"",defaultNewTabImage:"",defaultNewTabPosition:"before",appendActions:null,tabsActions:null,tabActions:null,refControl:!1,onAppendButtonClick:e.noop,onTabCreate:e.noop_arg,onTabActivate:e.noop,onTabDeactivate:e.noop,onTabBeforeClose:e.noop_true,onTabClose:e.noop,onTabRename:e.noop,onTabPropChange:e.noop,onTabOrganized:e.noop};e.pageControlSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroPageControlSetup!==void 0&&e.pageControlSetup(globalThis.metroPageControlSetup),e.Component("page-control",{init:function(a,t){return this._super(t,a,l,{newFileIndex:1,invisibleTabsHolderToggle:null,invisibleTabsHolder:null}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("page-control-create")},_createStructure:function(){let a=this,t=this.element,o=this.options;this.component=r("<div>").addClass("page-control").insertBefore(t),t.addClass("page-control__tabs").appendTo(this.component),t.addClass(`tabs-position-${o.tabsPosition}`);let i=t.children("li:not(.page-control__tab-custom)"),p=!1;if(i.each(function(m,f){let u=r(f),g=u.html(),h=u.hasClass("active"),b=a.createTab({caption:g,icon:u.attr("data-icon"),image:u.attr("data-image"),canClose:u.attr("data-close")!=="false",data:u.attr("data-data"),ref:u.attr("data-ref")});h&&!p&&(p=!0,b.addClass("active"),a._fireEvent("tab-activate",{tab:b[0]})),t.append(b),u.remove()}),!p){let m=this.element.children(".page-control__tab").first();m.addClass("active"),this._fireEvent("tab-activate",{tab:m[0]})}if(o.refControl&&this._updateRefs(),o.appendButton){let m=r("<li>").addClass("page-control__tab__append").html('<span class="toggle">+</span>');if(o.appendActions){let f=e.utils.exec(o.appendActions,null,this);if(!Array.isArray(f))throw"PageControl Error! Prop appendActions must be a function that returns an array.";let u=r("<ul data-role='dropdown' class='d-menu context'>");f.map(g=>u.append(a._renderMenuItem(g))),m.append(u)}t.append(m)}let c=r("<li>").addClass("page-control__tab__service").addClass("invisible-tabs").appendTo(t);c.append(r("<div>").addClass("page-control__service-button").html(`
                    <span class="toggle">\u21A7</span>
                    <ul class="d-menu place-right context page-control__invisible_tabs_holder"></ul>
                `)),this.invisibleTabsHolderToggle=c.find(".page-control__tab__service.invisible-tabs > .page-control__service-button"),this.invisibleTabsHolder=e.makePlugin(c.find(".page-control__invisible_tabs_holder"),"dropdown",{onClick:m=>{let f=r(m.target.parentNode);f.hasClass("page-control__tab__closer")?this.closeButtonClick(m):this.activateTab(f[0]),m.preventDefault(),m.stopPropagation()}}),this.invisibleTabsHolderToggle.hide(),this.organizeTabs();let d=r("<li>").addClass("page-control__tab__service").addClass("tabs-menu").appendTo(t);if(d.append(r("<div>").addClass("page-control__service-button").html(`
                    <span class="toggle">\uFE19</span>
                    <ul class="d-menu place-right context" data-role="dropdown"></ul>
                `)),!o.tabsActions)d.hide();else{let m=d.find("ul");e.utils.exec(o.tabsActions,null,this).map(u=>m.append(a._renderMenuItem(u)))}},_updateRefs:function(){let a=this.element.find(".page-control__tab"),t=this.element.find(".page-control__tab.active");a.each((o,i)=>r(r(i).data("ref")).hide()),r(t.data("ref")).show()},_createEvents:function(){let a=this,t=this.element,o=this.options;t.on("click",".page-control__tab__closer",this.closeButtonClick.bind(this)),t.on("click",".page-control__tab__menu > li > a",function(i){let p=r(this).attr("data-action"),c=e.getPlugin(r(this).closest("ul"),"dropdown"),d=r(this).closest(".page-control__tab")[0];switch(c.close(),p){case"close":{a.closeTab(d);break}case"close-all":{a.closeAll();break}case"close-other":{a.closeOtherTabs(d);break}case"close-inactive":{a.closeInactiveTabs();break}case"close-left":{a.closeTabsOnTheLeft(d);break}case"close-right":{a.closeTabsOnTheRight(d);break}case"rename":{a.renameTab(d);break}}i.preventDefault(),i.stopPropagation()}),t.on("click",".page-control__tab",function(){r(this).hasClass("active")||a.activateTab(this)}),t.on("click",".page-control__tab__append > span",i=>{i.preventDefault(),i.stopPropagation();let p=a.createTab({caption:`${o.defaultNewTabTitle} ${a.newFileIndex++}`,canClose:o.defaultNewCanClose,icon:o.defaultNewTabIcon,image:o.defaultNewTabImage,data:null});a._fireEvent("tab-append",{tab:p}),a.activateTab(p),a.organizeTabs(),a._fireEvent("append-button-click",{tab:p})}),r(globalThis).on("resize",()=>{this.organizeTabs()})},_renderMenuItem:function(a){let t=r("<li>"),o=r("<a>");return(a.icon||a.image)&&o.append(a.icon?r("<span class='icon'>").addClass(a.icon):r("<img class='icon'>").attr("src",a.image).attr("alt","")),a.title&&o.append(r("<span>").addClass("caption").text(a.title)),o.data("data",a.data),a.onclick&&o.on("click",i=>a.onclick(i)),t.append(o),t},createTab:function({caption:a,icon:t,image:o,canClose:i=!0,hasMenu:p=!0,data:c,ref:d}){let m=this,f=this.element,u=this.options,g=r("<li>").addClass("page-control__tab").appendTo(f);if(p&&(g.append(r("<div>").addClass("page-control__tab__menu__holder").html(`
                        <span class="">\uFE19</span>
                        <ul class="d-menu context page-control__tab__menu" data-role="dropdown">
                            <li><a data-action="rename">${this.strings.label_rename_tab}</a></li>
                            <li class="divider"></li>
                            <li><a data-action="close">${this.strings.label_close_tab}</a></li>
                            <li><a data-action="close-other">${this.strings.label_close_other_tabs}</a></li>
                            <li><a data-action="close-left">${this.strings.label_close_tabs_left}</a></li>
                            <li><a data-action="close-right">${this.strings.label_close_tabs_right}</a></li>
                            <li><a data-action="close-all">${this.strings.label_close_all_tabs}</a></li>
                            <li><a data-action="close-inactive">${this.strings.label_close_inactive_tabs}</a></li>
                        </ul>
                    `)),u.tabActions)){let h=g.find("ul"),b=e.utils.exec(u.tabActions);if(!Array.isArray(b))throw"PageControl Error! Prop tabActions must be a function that returns an array.";h.append(r("<li class='divider'>")),b.map(v=>h.append(m._renderMenuItem(v)))}return(t||o)&&g.append(r("<span>").addClass("page-control__tab__icon").html(t?`<span class="${t}">`:`<img src="${o}" alt=""/>`)),g.append(r("<span>").addClass("page-control__tab__caption").html(a)),i&&g.append(r("<span>").addClass("page-control__tab__closer").html("<span>\u2715</span>")),g.data("data",c),g.data("ref",d),this._fireEvent("tab-create",{tab:g[0]}),f[u.defaultNewTabPosition==="before"?"prepend":"append"](g),g[0]},closeButtonClick:function(a){let t=this,o=this.options,i=r(a.target).closest(".page-control__tab"),p=i.closest("ul");o.onTabBeforeClose(i[0])&&(t.closeTab(i[0]),p.hasClass("page-control__invisible_tabs_holder")&&p.children(".page-control__tab").length===0&&(e.getPlugin(this.invisibleTabsHolder,"dropdown").close(),this.invisibleTabsHolderToggle.hide()),a.preventDefault(),a.stopPropagation())},closeTab:function(a,t=!0){let o=r(a);if(o.hasClass("active")){let i=o.prev(".page-control__tab"),p=o.next(".page-control__tab");i.length?this.activateTab(i[0]):p.length?this.activateTab(p[0]):o.parent().hasClass("page-control__invisible_tabs_holder")&&parent.children(".page-control__tab").length===1&&element.children(".page-control__tab").length&&this.activateTab(element.children(".page-control__tab").last()[0])}return this._fireEvent("tab-close",{tab:a}),this.options.refControl&&r(o.data("ref")).remove(),o.remove(),t&&this.organizeTabs(),this},activateTab:function(a){let t=this.element,o=this.options;return t.find(".page-control__tab").each((i,p)=>{let c=r(p);c.hasClass("active")&&(this._fireEvent("tab-deactivate",{tab:p}),c.removeClass("active"))}),r(a).addClass("active"),o.refControl&&this._updateRefs(),this._fireEvent("tab-activate",{tab:a}),r(a).parent().hasClass("page-control__invisible_tabs_holder")&&(t.prepend(a),this.organizeTabs()),this},organizeTabs:function(){let a=this.element,t=this.elem.getBoundingClientRect().width,o=this.invisibleTabsHolder,i=a.find(".page-control__tab__append");o.children(".page-control__tab").each((d,m)=>{let f=r(m);i.length?f.insertBefore(i):f.appendTo(a)});let p=a.children(".page-control__tab"),c=0;for(let d of p){let m=d.getBoundingClientRect();if(c+m.width+50>t){r(d).nextAll(".page-control__tab").appendTo(o),r(d).appendTo(o);break}c+=m.width}o.children().length?this.invisibleTabsHolderToggle.show(function(){r(this).css({display:"flex"})}):this.invisibleTabsHolderToggle.hide(),this._fireEvent("tab-organized",null)},addTab:function({caption:a,icon:t,image:o,canClose:i=!0,hasMenu:p=!0,data:c,ref:d},m="before"){let f=this.options,u=this.createTab({caption:a,icon:t,image:o,canClose:i,hasMenu:p,data:c,ref:d});return f.activateNewTab&&this.activateTab(u),this.element[m==="before"?"prepend":"append"](u),this.organizeTabs(),u},getActiveTab:function(){return this.component.find(".page-control__tab.active")[0]},getActiveTabIndex:function(){return this.component.find(".page-control__tab").index(".active",!1)},getTabByIndex:function(a){return this.component.find(".page-control__tab").get(a)},getTabByTitle:function(a){if(!a)return;let t=this.component.find(".page-control__tab");for(let o of t)if(r(o).find(".caption").text()===a)return o},closeAll:function(){return this.component.find(".page-control__tab").each((a,t)=>{this.closeTab(t,!1)}),this.organizeTabs(),this},closeInactiveTabs:function(){return this.component.find(".page-control__tab").each((a,t)=>{r(t).hasClass("active")||this.closeTab(t,!1)}),this.organizeTabs(),this},closeOtherTabs:function(a){let t=typeof a=="number"?this.getTabByIndex(a):r(a);return this.component.find(".page-control__tab").each((o,i)=>{t[0]!==i&&this.closeTab(i,!1)}),this.activateTab(a),this.organizeTabs(),this},closeTabsOnTheLeft:function(a){let o=this.component.find(".page-control__tab").indexOf(r(a));return this.component.find(".page-control__tab").each((i,p)=>{i<o&&this.closeTab(p,!1)}),this.organizeTabs(),this},closeTabsOnTheRight:function(a){let o=this.component.find(".page-control__tab").indexOf(r(a));return this.component.find(".page-control__tab").each((i,p)=>{i>o&&this.closeTab(p,!1)}),this.organizeTabs(),this},setupTab:function(a,t,o){let i=r(a);switch(t){case"caption":{i.find(".page-control__tab__caption").text(o);break}case"icon":{i.find(".page-control__tab__icon")[0].className=o;break}case"image":{i.find(".page-control__tab__image").attr("src",o);break}case"data":{i.data("data",o);break}case"ref":{i.data("ref",o);break}}this._fireEvent("tab-prop-change",{tab:a}),this.organizeTabs()},renameTab:function(a){let t=this,o=r(a).find(".page-control__tab__caption");e.dialog.create({title:t.strings.label_rename_tab,content:`
                    <form style="width: 100%">
                        <input type="text" data-role="input" value="${o.text()}">
                    </form>
                `,defaultActions:!1,customButtons:[{text:t.strings.label_ok,cls:"js-dialog-close info",onclick:function(i){t.setupTab(a,"caption",i.find("input").val())}},{text:t.strings.label_cancel,cls:"js-dialog-close"}]})},changeAttribute:function(a,t){},destroy:function(){this.component.remove()}})})(Metro,Dom);(function(e,r){"use strict";e.pagination=function(l){var a={length:0,rows:0,current:0,target:"body",clsPagination:"",prevTitle:"",nextTitle:"",distance:5,islandSize:3,shortTrack:10},t,o=e.locales[r("html").attr("lang")||"en"],i,p,c;t=r.extend({},a,l);var d=parseInt(t.distance),m=parseInt(t.shortTrack),f=parseInt(t.islandSize),u=parseInt(t.length),g=parseInt(t.rows),h=Math.ceil(u/g),b=parseInt(t.current),v=r(t.target);v.html("");var k=r("<ul>").addClass("pagination").addClass(t.clsPagination).appendTo(v);if(u!==0&&g!==-1){var w=function(T,_,y){var C,z;return C=r("<li>").addClass("page-item").addClass(_),z=r("<a>").addClass("page-link").html(T),z.data("page",y),z.appendTo(C),C};if(p=w(t.prevTitle||o.label_prev,"service prev-page","prev"),k.append(p),k.append(w(1,b===1?"active":"",1)),d===0||h<=m)for(i=2;i<h;i++)k.append(w(i,i===b?"active":"",i));else if(b<d){for(i=2;i<=d;i++)k.append(w(i,i===b?"active":"",i));h>d&&k.append(w("...","no-link",null))}else if(b<=h&&b>h-d+1)for(h>d&&k.append(w("...","no-link",null)),i=h-d+1;i<h;i++)k.append(w(i,i===b?"active":"",i));else{k.append(w("...","no-link",null));for(let T=f;T>0;T--)k.append(w(b-T,"",b-T));k.append(w(b,"active",b));for(let T=1;T<=f;T++)k.append(w(b+T,"",b+T));k.append(w("...","no-link",null))}return(h>1||b<h)&&k.append(w(h,b===h?"active":"",h)),c=w(t.nextTitle||o.label_next,"service next-page","next"),k.append(c),b===1&&p.addClass("disabled"),b===h&&c.addClass("disabled"),u===0&&(k.addClass("disabled"),k.children().addClass("disabled")),k}}})(Metro,Dom);(function(e,r){"use strict";let l='<svg aria-hidden="true" width="16" height="16" viewBox="0 0 24 24"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>';var a={panelDeferred:0,id:null,titleCaption:"",titleIcon:"",collapsible:!1,collapsed:!1,collapseDuration:100,width:"auto",height:"auto",draggable:!1,customButtons:null,clsCustomButton:"",clsPanel:"",clsTitle:"",clsTitleCaption:"",clsTitleIcon:"",clsContent:"",clsCollapseToggle:"",onCollapse:e.noop,onExpand:e.noop,onDragStart:e.noop,onDragStop:e.noop,onDragMove:e.noop,onPanelCreate:e.noop};e.panelSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroPanelSetup!==void 0&&e.panelSetup(globalThis.metroPanelSetup),e.Component("panel",{init:function(t,o){return this._super(o,t,a),this},_addCustomButtons:function(t){var o=this.element,i=this.options,p=o.closest(".panel").find(".panel-title"),c,d=[];if(d=e.utils.isObject(t),!d){console.warn("Unknown format for custom buttons",t);return}if(p.length===0){console.warn("No place for custom buttons");return}return c=p.find(".custom-buttons"),c.length===0?c=r("<div>").addClass("custom-buttons").appendTo(p):(c.find(".btn-custom").off(e.events.click),c.html("")),r.each(d,function(){var m=this,f=r("<span>");f.addClass("button btn-custom").addClass(i.clsCustomButton).addClass(m.cls).attr("tabindex",-1).html(m.html),m.attr&&typeof m.attr=="object"&&r.each(m.attr,function(u,g){f.attr(Str.dashedName(u),g)}),f.data("action",m.onclick),c.prepend(f)}),p.on(e.events.click,".btn-custom",function(m){if(!e.utils.isRightMouse(m)){var f=r(this),u=f.data("action");e.utils.exec(u,[f],this)}}),this},_create:function(){var t=this.element,o=this.options,i=r("<div>").addClass("panel").addClass(o.clsPanel),p=o.id?o.id:e.utils.elementId("panel"),c=t[0].className,d;if(i.attr("id",p).addClass(c),i.insertBefore(t),t.appendTo(i),t[0].className="",t.addClass("panel-content").addClass(o.clsContent).appendTo(i),o.titleCaption!==""||o.titleIcon!==""||o.collapsible===!0){if(d=r("<div>").addClass("panel-title").addClass(o.clsTitle),o.titleCaption!==""&&r("<span>").addClass("caption").addClass(o.clsTitleCaption).html(o.titleCaption).appendTo(d),o.titleIcon!==""&&r(o.titleIcon).addClass("icon").addClass(o.clsTitleIcon).appendTo(d),o.collapsible===!0){var m=r("<span>").addClass("dropdown-toggle marker-center active-toggle").addClass(o.clsCollapseToggle).appendTo(d);m.append(l),e.makePlugin(t,"collapse",{toggleElement:m,duration:o.collapseDuration,onCollapse:o.onCollapse,onExpand:o.onExpand}),o.collapsed===!0&&this.collapse()}d.appendTo(i)}if(d&&e.utils.isValue(o.customButtons)&&this._addCustomButtons(o.customButtons),o.draggable===!0){var f;d?f=d.find(".caption, .icon"):f=i,e.makePlugin(i,"draggable",{dragContext:i[0],dragElement:f,onDragStart:o.onDragStart,onDragStop:o.onDragStop,onDragMove:o.onDragMove})}o.width!=="auto"&&parseInt(o.width)>=0&&i.outerWidth(parseInt(o.width)),o.height!=="auto"&&parseInt(o.height)>=0&&(i.outerHeight(parseInt(o.height)),t.css({overflow:"auto"})),this.panel=i,this._fireEvent("panel-create",{element:t,panel:i})},customButtons:function(t){return this._addCustomButtons(t)},collapse:function(){var t=this.element;e.utils.isMetroObject(t,"collapse")!==!1&&e.getPlugin(t,"collapse").collapse()},open:function(){this.expand()},close:function(){this.collapse()},expand:function(){var t=this.element;e.utils.isMetroObject(t,"collapse")!==!1&&e.getPlugin(t,"collapse").expand()},changeAttribute:function(t){},destroy:function(){var t=this.element,o=this.options;return o.collapsible===!0&&e.getPlugin(t,"collapse").destroy(),o.draggable===!0&&e.getPlugin(t,"draggable").destroy(),t}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={popoverDeferred:0,popoverText:"",popoverHide:3e3,popoverTimeout:10,popoverOffset:10,popoverTrigger:e.popoverEvents.HOVER,popoverPosition:e.position.TOP,hideOnLeave:!1,closeButton:!0,clsPopover:"",clsPopoverContent:"",onPopoverShow:e.noop,onPopoverHide:e.noop,onPopoverCreate:e.noop};e.popoverSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroPopoverSetup!==void 0&&e.popoverSetup(globalThis.metroPopoverSetup),e.Component("popover",{init:function(t,o){return this._super(o,t,a,{popover:null,popovered:!1,size:{width:0,height:0},id:l.elementId("popover")}),this},_create:function(){this._createEvents(),this._fireEvent("popover-create",{element:this.element})},_createEvents:function(){var t=this,o=this.element,i=this.options,p;switch(i.popoverTrigger){case e.popoverEvents.CLICK:p=e.events.click;break;case e.popoverEvents.FOCUS:p=e.events.focus;break;default:p=e.events.enter}o.on(p,function(){t.popover!==null||t.popovered===!0||setTimeout(function(){t.createPopover(),t._fireEvent("popover-show",{popover:t.popover}),i.popoverHide>0&&setTimeout(function(){t.removePopover()},i.popoverHide)},i.popoverTimeout)}),i.hideOnLeave===!0&&o.on(e.events.leave,function(){t.removePopover()}),r(globalThis).on(e.events.scroll,function(){t.popover!==null&&t.setPosition()},{ns:this.id})},setPosition:function(){var t=this.popover,o=this.size,i=this.options,p=this.element;i.popoverPosition===e.position.BOTTOM?(t.addClass("bottom"),t.css({top:p.offset().top-r(globalThis).scrollTop()+p.outerHeight()+i.popoverOffset,left:p.offset().left+p.outerWidth()/2-o.width/2-r(globalThis).scrollLeft()})):i.popoverPosition===e.position.RIGHT?(t.addClass("right"),t.css({top:p.offset().top+p.outerHeight()/2-o.height/2-r(globalThis).scrollTop(),left:p.offset().left+p.outerWidth()-r(globalThis).scrollLeft()+i.popoverOffset})):i.popoverPosition===e.position.LEFT?(t.addClass("left"),t.css({top:p.offset().top+p.outerHeight()/2-o.height/2-r(globalThis).scrollTop(),left:p.offset().left-o.width-r(globalThis).scrollLeft()-i.popoverOffset})):(t.addClass("top"),t.css({top:p.offset().top-r(globalThis).scrollTop()-o.height-i.popoverOffset,left:p.offset().left+p.outerWidth()/2-o.width/2-r(globalThis).scrollLeft()}))},createPopover:function(){var t=this,o=this.elem,i=this.element,p=this.options,c,d,m=l.elementId("popover"),f;if(!this.popovered){switch(c=r("<div>").addClass("popover neb").addClass(p.clsPopover),c.attr("id",m),r("<div>").addClass("popover-content").addClass(p.clsPopoverContent).html(p.popoverText).appendTo(c),p.popoverHide===0&&p.closeButton===!0&&(f=r("<button>").addClass("square small popover-close-button").html("&times;").appendTo(c),f.on(e.events.click,function(){t.removePopover()})),p.popoverPosition){case e.position.TOP:d="neb-s";break;case e.position.BOTTOM:d="neb-n";break;case e.position.RIGHT:d="neb-w";break;case e.position.LEFT:d="neb-e";break}if(c.addClass(d),p.closeButton!==!0&&c.on(e.events.click,function(){t.removePopover()}),this.popover=c,this.size=l.hiddenElementSize(c),o.tagName==="TD"||o.tagName==="TH"){var u=r("<div/>").css("display","inline-block").html(i.html());i.html(u),i=u}this.setPosition(),c.appendTo(r("body")),this.popovered=!0,this._fireEvent("popover-create",{popover:c})}},removePopover:function(){var t=this,o=this.options.onPopoverHide===e.noop?0:300,i=this.popover;this.popovered&&(this._fireEvent("popover-hide",{popover:i}),setTimeout(function(){i.hide(0,function(){i.remove(),t.popover=null,t.popovered=!1})},o))},show:function(){var t=this,o=this.options;this.popovered!==!0&&setTimeout(function(){t.createPopover(),t._fireEvent("popover-show",{popover:t.popover}),o.popoverHide>0&&setTimeout(function(){t.removePopover()},o.popoverHide)},o.popoverTimeout)},hide:function(){this.removePopover()},changeAttribute:function(t){var o=this,i=this.element,p=this.options,c=function(){p.popoverText=i.attr("data-popover-text"),o.popover&&(o.popover.find(".popover-content").html(p.popoverText),o.setPosition())},d=function(){p.popoverPosition=i.attr("data-popover-position"),o.setPosition()};switch(t){case"data-popover-text":c();break;case"data-popover-position":d();break}},destroy:function(){var t=this.element,o=this.options,i;switch(o.popoverTrigger){case e.popoverEvents.CLICK:i=e.events.click;break;case e.popoverEvents.FOCUS:i=e.events.focus;break;default:i=e.events.enter}return t.off(i),o.hideOnLeave===!0&&t.off(e.events.leave),r(globalThis).off(e.events.scroll,{ns:this.id}),t}})})(Metro,Dom);(function(e,r){"use strict";let l={progressDeferred:0,showValue:!1,showLabel:!1,label:"Progress:",value:0,buffer:0,type:"bar",small:!1,segmentSize:10,clsProgress:"",clsBack:"",clsBar:"",clsBuffer:"",clsValue:"",clsLabel:"",clsData:"",onValueChange:e.noop,onBufferChange:e.noop,onComplete:e.noop,onBuffered:e.noop,onProgressCreate:e.noop};e.progressSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroProgressSetup!==void 0&&e.progressSetup(globalThis.metroProgressSetup),e.Component("progress",{init:function(a,t){return this._super(t,a,l,{value:0,buffer:0}),this},_create:function(){let a=this.element,t=this.elem,o=this.options;typeof o.type=="string"&&(o.type=o.type.toLowerCase()),a.html("").addClass("progress"),this.component=a.wrap("<div>").addClass("progress-component").addClass(o.clsProgress);function i(){t.innerHTML='<div class="bar"></div>'}function p(){t.innerHTML=`
                    <div class="bar"></div>
                    <div class="buffer"></div>
                `}function c(){a.addClass("with-load"),t.innerHTML=`
                    <div class="bar"></div>
                    <div class="buffer"></div>
                    <div class="load"></div>
                `}function d(){a.addClass("line")}function m(){a.addClass("segments"),a.append('<div class="bar"></div>');let h=a.width(),b=Math.ceil(h/(o.segmentSize||10));for(let v=0;v<b;v++)t.innerHTML+=`<div class="segment" style="width: ${o.segmentSize}px"></div>`}switch(o.type){case"buffer":p();break;case"load":c();break;case"line":d();break;case"segment":m();break;default:i()}o.small===!0&&a.addClass("small"),a.addClass(o.clsBack),a.find(".bar").addClass(o.clsBar),a.find(".buffer").addClass(o.clsBuffer);let f=r("<div>").addClass("progress-data").addClass(o.clsData).insertBefore(a),u=r("<div>").addClass("progress-label").addClass(o.clsLabel).html(o.label).appendTo(f),g=r("<div>").addClass("progress-value").addClass(o.clsLabel).html(o.value).appendTo(f);o.showLabel===!1&&u.hide(),o.showValue===!1&&g.hide(),this.val(o.value),this.buff(o.buffer),this._fireEvent("progress-create",{element:a})},val:function(a){let t=this,o=this.element,i=this.options,p=this.component.find(".progress-value");if(a===void 0)return t.value;let c=o.find(".bar");if(c.length===0)return!1;this.value=parseInt(a,10),c.css("width",this.value+"%"),p.html(this.value+"%"),this._fireEvent("value-change",{val:this.value}),this.value===100&&this._fireEvent("complete",{val:this.value})},buff:function(a){let t=this,o=this.element;if(a===void 0)return t.buffer;let i=o.find(".buffer");if(i.length===0)return!1;this.buffer=parseInt(a,10),i.css("width",this.buffer+"%"),this._fireEvent("buffer-change",{val:this.buffer}),this.buffer===100&&this._fireEvent("buffered",{val:this.buffer})},changeValue:function(){this.val(this.element.attr("data-value"))},changeBuffer:function(){this.buff(this.element.attr("data-buffer"))},changeAttribute:function(a){switch(a){case"data-value":this.changeValue();break;case"data-buffer":this.changeBuffer();break}},destroy:function(){this.component.remove()}})})(Metro,Dom);(function(e,r){"use strict";let l={ratingDeferred:0,label:"",static:!1,title:null,value:0,values:null,message:"",stars:5,onColor:null,offColor:null,roundFunc:"round",half:!0,symbol:"\u2605",clsRating:"",clsTitle:"",clsStars:"",clsResult:"",clsLabel:"",onStarClick:e.noop,onRatingCreate:e.noop};e.ratingSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroRatingSetup!==void 0&&e.ratingSetup(globalThis.metroRatingSetup),e.Component("rating",{init:function(a,t){return this._super(t,a,l,{value:0,originValue:0,values:[],rate:0,rating:null}),this},_create:function(){let a=this.element,t=this.options,o;if(isNaN(t.value)?t.value=0:t.value=parseFloat(t.value).toFixed(1),t.values!==null)Array.isArray(t.values)?this.values=t.values:typeof t.values=="string"&&(this.values=t.values.toArray());else for(o=1;o<=t.stars;o++)this.values.push(o);this.originValue=t.value,this.value=t.value>0&&t.roundFunc!=="none"?Math[t.roundFunc](t.value):Math.abs(t.value),this._createRating(),this._createEvents(),this._fireEvent("rating-create",{element:a})},_createRating:function(){let a=this.element,t=this.options,o=e.utils.elementId("rating"),i,p,c,d,m=e.sheet,f=t.static?Math.floor(this.originValue):this.value,u=a.wrap("<div>").addClass("rating "+a[0].className).addClass(t.clsRating);for(a.val(this.value),u.attr("id",a.id()?"rating--"+a.id():o),p=r("<ul>").addClass("stars").addClass(t.clsStars).appendTo(u),i=1;i<=t.stars;i++)d=r("<li>").attr("data-symbol",t.symbol).data("value",this.values[i-1]).appendTo(p),i<=f&&d.addClass("on");if(c=r("<span>").addClass("result").addClass(t.clsResult).appendTo(u),c.html(t.message),t.offColor!==null&&(t.offColor.includes("var(")||Farbe.Routines.isColor(t.offColor)),t.onColor!==null&&(t.onColor.includes("var(")||Farbe.Routines.isColor(t.onColor))&&(e.utils.addCssRule(m,"#"+o+" .stars:hover li","color: "+t.onColor+";"),e.utils.addCssRule(m,"#"+o+" .stars li.on","color: "+t.onColor+";"),e.utils.addCssRule(m,"#"+o+" .stars li.half::after","color: "+t.onColor+";")),t.title!==null){let g=r("<span>").addClass("title").addClass(t.clsTitle).html(t.title);u.prepend(g)}if(t.static===!0&&(u.addClass("static"),t.half===!0)){let g=Math.round(this.originValue%1*10);g>0&&g<=9&&u.find(".stars li.on").last().next("li").addClass("half half-"+g*10)}if(a[0].className="",t.label){let g=r("<label>").addClass("label-for-input").addClass(t.clsLabel).html(t.label).insertBefore(u);if(a.attr("id"))g.attr("for",a.attr("id"));else{let h=Hooks.useId(a[0]);g.attr("for",h),a.attr("id",h)}a.attr("dir")==="rtl"&&g.addClass("rtl")}a.is(":disabled")?this.disable():this.enable(),this.rating=u},_createEvents:function(){let a=this,t=this.element,o=this.options;this.rating.on(e.events.click,".stars li",function(){if(o.static===!0)return;let p=r(this),c=p.data("value");p.addClass("scale"),setTimeout(function(){p.removeClass("scale")},300),t.val(c).trigger("change"),p.addClass("on"),p.prevAll().addClass("on"),p.nextAll().removeClass("on"),a._fireEvent("star-click",{value:c,star:p[0]})})},val:function(a){let t=this,o=this.element,i=this.options,p=this.rating;if(a===void 0)return this.value;this.value=a>0?Math[i.roundFunc](a):0,o.val(this.value).trigger("change");let c=p.find(".stars li").removeClass("on");return r.each(c,function(){var d=r(this);d.data("value")<=t.value&&d.addClass("on")}),this},msg:function(a){let t=this.rating;if(a!==void 0)return t.find(".result").html(a),this},static:function(a){let t=this.options,o=this.rating;t.static=a,a===!0?o.addClass("static"):o.removeClass("static")},changeAttributeStatic:function(){let a=this.element,t=JSON.parse(a.attr("data-static"))===!0;this.static(t)},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(a,t){switch(a){case"value":case"data-value":this.val(t);break;case"disabled":this.toggleState();break;case"data-message":this.msg(t);break;case"data-static":this.changeAttributeStatic();break}},destroy:function(){let a=this.options,t=this.rating;t.off(e.events.click,".stars li"),a.label&&t.prev("label").remove(),t.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l={caption:"",url:"",searchUrl:"",method:"GET",limit:10,offset:0,sort:"",limitKey:"limit",offsetKey:"offset",searchKey:"query",totalKey:"total",dataKey:"data",sortKey:"sortBy",orderKey:"order",shortPagination:!1,rows:10,rowsSteps:"10,25,50,100",sortRules:"",showSearch:!0,showOrder:!0,showRowsCount:!0,template:"",clsBody:"",clsItem:"",clsPagination:"",clsSearchBlock:"",clsOrderBlock:"",clsRowsCountBlock:"",onLoad:a=>a,onDrawRow:e.noop,onDrawCell:e.noop,onDatasetCreate:e.noop};e.remoteDatasetSetup=function(a){l=r.extend({},l,a)},typeof window.metroRemoteDatasetSetup!==void 0&&e.remoteDatasetSetup(window.metroRemoteDatasetSetup),e.Component("remote-dataset",{init:function(a,t){return this._super(t,a,l,{data:null,total:0}),this},_create:function(){let a=this.options;this.offset=a.offset,this.rowSteps=a.rowsSteps.toArray(","),this.limit=+a.rows,this.url=a.url,this.search="";let[t,o]=a.sort.toArray(":");this.sortField=t,this.sortOrder=o,this.template=e.utils.exec(a.template),this.sortRules=a.sortRules.toArray(",").filter(i=>i).map(i=>i.toArray(":")),this._createStructure(),this._createEvents(),this._loadData().then(()=>{}),this._fireEvent("dataset-create")},_loadData:async function(a=!1){let t=this.options;if(!this.url)return;let o=this.url+"?"+t.limitKey+"="+this.limit+"&"+t.offsetKey+"="+this.offset;this.sortField&&(o+="&"+t.sortKey+"="+this.sortField+"&"+t.orderKey+"="+this.sortOrder),this.search&&(o+="&"+t.searchKey+"="+this.search);let i=await fetch(o,{method:t.method});i.ok!==!1&&(this.data=e.utils.exec(t.onLoad,[await i.json()],this),this._createEntries(a))},_createStructure:function(){var a=this,t=this.element,o=this.options;let i;t.addClass("remote-dataset"),t.append(i=r("<div>").addClass("dataset-entry")),i.html(`
                <div class="service-block">
                    <div class="search-block ${o.clsSearchBlock} ${o.showSearch?"":"hide-block"}">
                        <input name="search" type="text" data-role="input" 
                            data-prepend="${this.strings.label_search}" 
                            data-search-button="true" 
                            />
                    </div>
                   
                    <div class="order-block ${o.clsOrderBlock} ${this.sortRules.length===0||o.showOrder===!1?"hide-block":""}">
                        <select name="sort-order" data-role="select" data-filter="false">
                            ${this.sortRules.map(p=>`
                                <option value="${p[0]}:${p[1]}" 
                                        ${p[0]===this.sortField&&p[1]===this.sortOrder?"selected":""}
                                        data-icon="${p[3]?p[3]:""}"
                                >
                                    ${p[2]}
                                </option>
                            `).join("")}
                        </select>
                    </div>
                   
                    <div class="count-block ${o.clsRowsCountBlock} ${o.showRowsCount?"":"hide-block"}">
                        <select name="rows-count" data-role="select" data-prepend="${this.strings.label_rows_count}" data-filter="false">
                            ${this.rowSteps.map(p=>`
                                <option value="${p}" ${+p===this.rowsCount?"selected":""}>
                                    ${p}
                                </option>
                            `).join("")}
                        </select>
                    </div>
                </div>
                <div class="dataset-body"></div>
            `),this.body=i.find(".dataset-body").addClass(o.clsBody),this.loadMore=r("<div>").addClass("dataset-load-more"),this.loadMore.html(`
                <button class="button large cycle link load-more-button">
                    <span class="icon">\u27F3</span>
                    ${this.strings.label_load_more}
                </button>
            `).appendTo(t),t.append(this.pagination=r("<div>").addClass("dataset-pagination"))},_createEvents:function(){let a=this,t=this.element,o=this.options;t.on("click",".page-link",function(){let p=r(this).parent();if(p.hasClass("service")){p.hasClass("prev-page")?(a.offset-=a.limit,a.offset<0&&(a.offset=0)):a.offset+=a.limit,a._loadData().then(()=>{});return}a.offset=r(this).data("page")*a.limit-a.limit,a._loadData().then(()=>{})});let i=Hooks.useDebounce(()=>{let p=t.find("input[name=search]").val().trim();if(p===""){this.search="",this.url=o.url,this._loadData().then(()=>{});return}p.length<3||(this.search=p,this.url=o.searchUrl,this._loadData().then(()=>{}))},300);t.on(e.events.inputchange,"input[name=search]",i),t.on("change","select[name=rows-count]",function(){a.limit=+r(this).val(),a.offset=0,a._loadData().then(()=>{})}),t.on("change","select[name=sort-order]",function(){let[p,c]=r(this).val().split(":");a.url=o.url,a.sortField=p,a.sortOrder=c,a.offset=0,a._loadData().then(()=>{})}),t.on("click",".load-more-button",function(){a.offset+=a.limit,a._loadData(!0).then(()=>{})})},_createEntries:function(a=!1){var t=this,o=this.element,i=this.options;if(!this.data)return;let p=e.utils.isValue(this.data[i.totalKey]);this.entries=this.data[i.dataKey],this.total=this.data[i.totalKey],a===!1&&this.body.clear(),this.entries.forEach((c,d)=>{let m=r("<div>").addClass("dataset-item").addClass(i.clsItem).addClass(d%2===0?"even":"odd"),f=e.utils.exec(i.template,[c],c);m.html(f).appendTo(t.body)}),p&&!i.shortPagination?e.pagination({length:this.total,rows:this.limit,current:this.offset===0?1:Math.round(this.offset/this.limit)+1,target:this.pagination,clsPagination:i.clsPagination}):this.pagination.html(`
                    <div class="short-pagination">
                        <div class="button service prev-page"><a href="javascript:void(0)" class="page-link">${this.strings.label_prev}</a></div>
                        <div class="button service next-page"><a href="javascript:void(0)" class="page-link">${this.strings.label_next}</a></div>
                    </div>
                `)},setup:function(a){},changeAttribute:function(a,t){},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";let l={caption:"",url:"",searchUrl:"",method:"GET",limit:10,offset:0,fields:"",sortableFields:"",colSize:"",sort:"",sortOrder:"asc",captions:null,limitKey:"limit",offsetKey:"offset",searchKey:"query",totalKey:"total",dataKey:"data",sortKey:"sortBy",orderKey:"order",shortPagination:!1,rows:10,rowsSteps:"10,25,50,100",clsTable:"",clsPagination:"",onLoad:a=>a,onDrawRow:e.noop,onDrawCell:e.noop,onDrawHeadCell:e.noop,onTableCreate:e.noop};e.remoteTableSetup=function(a){l=r.extend({},l,a)},typeof window.metroRemoteTableSetup!==void 0&&e.remoteTableSetup(window.metroRemoteTableSetup),e.Component("remote-table",{init:function(a,t){return this._super(t,a,l,{data:null,total:0}),this},_create:function(){let a=this.options;this.offset=a.offset,this.fields=a.fields.toArray(","),this.captions=a.captions?a.captions.toArray(","):null,this.rowSteps=a.rowsSteps.toArray(","),this.colSize=a.colSize.toArray(","),this.limit=+a.rows,this.url=a.url,this.search="",this.sortField=a.sort,this.sortOrder=a.sortOrder,this._createStructure(),this._createEvents(),this._loadData().then(()=>{}),this._fireEvent("table-create")},_loadData:async function(){let a=this.options;if(!this.url)return;let t=this.url+"?"+a.limitKey+"="+this.limit+"&"+a.offsetKey+"="+this.offset;this.sortField&&(t+="&"+a.sortKey+"="+this.sortField+"&"+a.orderKey+"="+this.sortOrder),this.search&&(t+="&"+a.searchKey+"="+this.search);let o=await fetch(t,{method:a.method});o.ok!==!1&&(this.data=e.utils.exec(a.onLoad,[await o.json()],this),this._createEntries())},_createStructure:function(){let a=this.element,t=this.options,o;a.addClass("table-component remote-table"),a.append(o=r("<div>").addClass("table-entry")),o.html(`
                <div class="search-block row">
                    <div class="cell-sm-10">
                        <input name="search" type="text" data-role="input" 
                            data-prepend="${this.strings.label_search}" 
                            data-search-button="true" 
                            />
                    </div>
                    <div class="cell-sm-2">
                        <select name="rows-count" data-role="select" data-prepend="${this.strings.label_rows_count}" data-filter="false">
                            ${this.rowSteps.map(i=>`<option value="${i}" ${+i===this.rowsCount?"selected":""}>${i}</option>`).join("")}
                        </select>
                    </div>
                </div>
                <table class="table ${t.clsTable}">
                    <caption>${t.caption}</caption>
                    <thead></thead>
                    <tbody></tbody>
                </table>
            `),this.header=o.find("thead"),this.body=o.find("tbody"),a.append(this.pagination=r("<div>").addClass("table-pagination"))},_createEvents:function(){let a=this,t=this.element,o=this.options;t.on("click",".page-link",function(){let p=r(this).parent();if(p.hasClass("service")){p.hasClass("prev-page")?(a.offset-=a.limit,a.offset<0&&(a.offset=0)):a.offset+=a.limit,a._loadData().then(()=>{});return}a.offset=r(this).data("page")*a.limit-a.limit,a._loadData().then(()=>{})});let i=Hooks.useDebounce(()=>{let p=t.find("input[name=search]").val().trim();if(p===""){this.search="",this.url=o.url,this._loadData().then(()=>{});return}p.length<3||(this.search=p,this.url=o.searchUrl,this._loadData().then(()=>{}))},300);t.on(e.events.inputchange,"input[name=search]",i),t.on("change","select[name=rows-count]",function(){a.limit=+r(this).val(),a.offset=0,a._loadData().then(()=>{})}),t.on("click",".sortable-column",function(){let p=r(this).attr("data-field");a.sortField===p?a.sortOrder=a.sortOrder==="asc"?"desc":"asc":(a.sortField=p,a.sortOrder="asc"),a._loadData().then(()=>{})})},_createEntries:function(){let a=this.options;if(!this.data)return;let t=e.utils.isValue(this.data[a.totalKey]);this.entries=this.data[a.dataKey],this.total=this.data[a.totalKey],this.header.clear(),this.body.clear();let o=r("<tr>").addClass("table-header").appendTo(this.header),i=0;for(let p of Object.keys(this.entries[0])){if(this.fields.length&&!this.fields.includes(p))continue;let c=this.captions?this.captions[i]:p,d=r("<th>").html(c).attr("data-field",p);a.sortableFields&&a.sortableFields.includes(p)&&(d.addClass("sortable-column"),this.sortField===p&&d.addClass(`sort-${this.sortOrder}`)),d.appendTo(o).addClass(`head-cell-${p}`),this.colSize[i]&&d.css("width",this.colSize[i]),e.utils.exec(a.onDrawHeadCell,[d[0],c,p,i,a.sortableFields.includes(p),this.sortField===p,this.sortOrder],this),i++}this.entries.forEach((p,c)=>{let d=r("<tr>").addClass("table-row");this.body.append(d),e.utils.exec(a.onDrawRow,[d,p,c],this);let m=0;for(let f in p){if(this.fields.length&&!this.fields.includes(f))continue;let u=r("<td>").attr("data-label",this.captions?this.captions[m]:f).addClass(`data-cell-${f}`).html(p[f]);d.append(u),e.utils.exec(a.onDrawCell,[u[0],p[f],f,p,c],this),m++}}),t&&!a.shortPagination?e.pagination({length:this.total,rows:this.limit,current:this.offset===0?1:Math.round(this.offset/this.limit)+1,target:this.pagination,clsPagination:a.clsPagination}):this.pagination.html(`
                    <div class="short-pagination">
                        <div class="button service prev-page"><a href="javascript:void(0)" class="page-link">${this.strings.label_prev}</a></div>
                        <div class="button service next-page"><a href="javascript:void(0)" class="page-link">${this.strings.label_next}</a></div>
                    </div>
                `)},changeAttribute:function(a,t){},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={resizableDeferred:0,canResize:!0,resizeElement:".resize-element",minWidth:0,minHeight:0,maxWidth:0,maxHeight:0,preserveRatio:!1,onResizeStart:e.noop,onResizeStop:e.noop,onResize:e.noop,onResizableCreate:e.noop};e.resizableSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroResizableSetup!==void 0&&e.resizableSetup(globalThis.metroResizableSetup),e.Component("resizable",{init:function(t,o){return this._super(o,t,a,{resizer:null,id:l.elementId("resizable")}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("resizable-create")},_createStructure:function(){var t=this.element,o=this.options;t.data("canResize",!0),t.addClass("resizable-element"),l.isValue(o.resizeElement)&&t.find(o.resizeElement).length>0?this.resizer=t.find(o.resizeElement):this.resizer=r("<span>").addClass("resize-element").appendTo(t),t.data("canResize",o.canResize)},_createEvents:function(){var t=this,o=this.element,i=this.options;this.resizer.on(e.events.start,function(p){if(o.data("canResize")!==!1){var c=l.pageXY(p),d=parseInt(o.outerWidth()),m=parseInt(o.outerHeight()),f={width:d,height:m};o.addClass("stop-pointer"),t._fireEvent("resize-start",{size:f}),r(document).on(e.events.move,function(u){var g=l.pageXY(u),h={width:d+g.x-c.x,height:m+g.y-c.y};if(i.maxWidth>0&&h.width>i.maxWidth||i.minWidth>0&&h.width<i.minWidth||i.maxHeight>0&&h.height>i.maxHeight||i.minHeight>0&&h.height<i.minHeight)return!0;o.css(h),t._fireEvent("resize",{size:h})},{ns:t.id}),r(document).on(e.events.stop,function(){o.removeClass("stop-pointer"),r(document).off(e.events.move,{ns:t.id}),r(document).off(e.events.stop,{ns:t.id});var u={width:parseInt(o.outerWidth()),height:parseInt(o.outerHeight())};t._fireEvent("resize-stop",{size:u})},{ns:t.id}),p.preventDefault(),p.stopPropagation()}})},off:function(){this.element.data("canResize",!1)},on:function(){this.element.data("canResize",!0)},changeAttribute:function(t){var o=this.element,i=this.options,p=function(){i.canResize=JSON.parse(o.attr("data-can-resize"))===!0};switch(t){case"data-can-resize":p();break}},destroy:function(){return this.resizer.off(e.events.start),this.element}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={resizerDeferred:0,onMediaPoint:e.noop,onMediaPointEnter:e.noop,onMediaPointLeave:e.noop,onWindowResize:e.noop,onElementResize:e.noop,onResizerCreate:e.noop};e.resizerSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroResizerSetup!==void 0&&e.resizerSetup(globalThis.metroResizerSetup),e.Component("resizer",{init:function(t,o){return this._super(o,t,a,{size:{width:0,height:0},media:globalThis.METRO_MEDIA,id:l.elementId("resizer")}),this},_create:function(){var t=this.element;this.size={width:t.width(),height:t.height()},this._createStructure(),this._createEvents(),this._fireEvent("resizer-create",{element:t})},_createStructure:function(){},_createEvents:function(){var t=this,o=this.element,i=r.window();i.on("resize",function(){var p=i.width(),c=i.height(),d=o.width(),m=o.height(),f=t.size,u;t._fireEvent("window-resize",{width:p,height:c,media:globalThis.METRO_MEDIA}),(t.size.width!==d||t.size.height!==m)&&(t.size={width:d,height:m},t._fireEvent("element-resize",{width:d,height:m,oldSize:f,media:globalThis.METRO_MEDIA})),t.media.length!==globalThis.METRO_MEDIA.length&&(t.media.length>globalThis.METRO_MEDIA.length?(u=t.media.filter(function(g){return!globalThis.METRO_MEDIA.includes(g)}),t._fireEvent("media-point-leave",{point:u,media:globalThis.METRO_MEDIA})):(u=globalThis.METRO_MEDIA.filter(function(g){return!t.media.includes(g)}),t._fireEvent("media-point-enter",{point:u,media:globalThis.METRO_MEDIA})),t.media=globalThis.METRO_MEDIA,t._fireEvent("media-point",{point:u,media:globalThis.METRO_MEDIA}))},{ns:this.id})},changeAttribute:function(){},destroy:function(){r(globalThis).off("resize",{ns:this.id})}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={ribbonmenuDeferred:0,onStatic:e.noop,onBeforeTab:e.noop_true,onTab:e.noop,onRibbonMenuCreate:e.noop};e.ribbonMenuSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroRibbonMenuSetup!==void 0&&e.ribbonMenuSetup(globalThis.metroRibbonMenuSetup),e.Component("ribbon-menu",{init:function(t,o){return this._super(o,t,a),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("ribbon-menu-create",{element:t})},_createStructure:function(){var t=this.element;t.addClass("ribbon-menu");var o=t.find(".ribbon-toggle-group");r.each(o,function(){var c=r(this);c.buttongroup({clsActive:"active"});var d=0,m=c.find(".ribbon-icon-button");r.each(m,function(){var f=r(this),u=f.outerWidth(!0);u>d&&(d=u)}),c.css("width",d*Math.ceil(m.length/3)+4)}),t.find(".section").addClass("non-active");var i=t.find(".tabs-holder li:not(.static)"),p=t.find(".tabs-holder li.active");p.length>0?this.open(r(p[0])):i.length>0&&this.open(r(i[0]))},_createEvents:function(){var t=this,o=this.element,i=this.options;o.on(e.events.click,".tabs-holder li a",function(p){var c=r(this),d=r(this).parent("li");d.hasClass("static")?i.onStatic===e.noop&&c.attr("href")!==void 0?document.location.href=c.attr("href"):t._fireEvent("static",{tab:d[0]}):l.exec(i.onBeforeTab,[d[0]],o[0])===!0&&t.open(d[0]),p.preventDefault()})},open:function(t){var o=this.element,i=r(t),p=o.find(".tabs-holder li"),c=o.find(".content-holder .section"),d=i.children("a").attr("href"),m=d!=="#"?o.find(d):null;c.addClass("non-active"),p.removeClass("active"),i.addClass("active"),c.removeClass("active"),m&&m.addClass("active").removeClass("non-active"),this._fireEvent("tab",{tab:i[0]})},changeAttribute:function(){},destroy:function(){var t=this.element;return t.off(e.events.click,".tabs-holder li a"),t}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={rippleDeferred:0,rippleColor:"#fff",rippleAlpha:.4,rippleTarget:"default",onRippleCreate:e.noop};e.rippleSetup=function(o){a=r.extend({},a,o)},typeof globalThis.metroRippleSetup!==void 0&&e.rippleSetup(globalThis.metroRippleSetup);var t=function(o,i,p,c){var d=r(o),m=l.rect(d[0]),f,u;if(d.length!==0){l.isValue(i)||(i="#fff"),l.isValue(p)||(p=.4),d.css("position")==="static"&&d.css("position","relative"),d.css({overflow:"hidden"}),r(".ripple").remove();var g=Math.max(d.outerWidth(),d.outerHeight()),h=r("<span class='ripple'></span>").css({width:g,height:g});d.prepend(h),c?(f=c.pageX-d.offset().left-h.width()/2,u=c.pageY-d.offset().top-h.height()/2):(f=m.width/2-h.width()/2,u=m.height/2-h.height()/2),h.css({background:Farbe.Routines.toRGBA(Farbe.Routines.parse(i),p),width:g,height:g,top:u+"px",left:f+"px"}).addClass("rippleEffect"),setTimeout(function(){h.remove()},400)}};e.Component("ripple",{init:function(o,i){return this._super(i,o,a),this},_create:function(){var o=this.element,i=this.options,p=i.rippleTarget==="default"?null:i.rippleTarget;o.on(e.events.click,p,function(c){t(this,i.rippleColor,i.rippleAlpha,c)}),this._fireEvent("riopple-create",{element:o})},changeAttribute:function(o){var i=this.element,p=this.options;function c(){var m=i.attr("data-ripple-color");Farbe.Routines.isColor(m)&&(p.rippleColor=m)}function d(){var m=+i.attr("data-ripple-alpha");isNaN(m)||(p.rippleColor=m)}switch(o){case"data-ripple-color":c();break;case"data-ripple-alpha":d();break}},destroy:function(){var o=this.element,i=this.options,p=i.rippleTarget==="default"?null:i.rippleTarget;o.off(e.events.click,p)}}),e.ripple=t})(Metro,Dom);(function(e,r){"use strict";var l={onSearcherCreate:e.noop};e.searcherSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroSearcherSetup!==void 0&&e.searcherSetup(globalThis.metroSearcherSetup),e.Component("searcher",{init:function(a,t){return this._super(t,a,l,{}),this},_create:function(){var a=this,t=this.element,o=this.options;this._createStructure(),this._createEvents(),this._fireEvent("searcher-create")},_createStructure:function(){var a=this,t=this.element,o=this.options},_createEvents:function(){var a=this,t=this.element,o=this.options},changeAttribute:function(a,t){},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";let l={menuScrollbar:!1,sidebarDeferred:0,position:"left",shift:null,staticShift:null,toggle:null,duration:METRO_ANIMATION_DURATION,static:null,closeOutside:!0,onOpen:e.noop,onClose:e.noop,onToggle:e.noop,onStaticSet:e.noop,onStaticLoss:e.noop,onSidebarCreate:e.noop};e.sidebarSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroSidebarSetup!==void 0&&e.sidebarSetup(globalThis.metroSidebarSetup),e.Component("sidebar",{init:function(a,t){return this._super(t,a,l,{toggle_element:null,id:e.utils.elementId("sidebar")}),this},_create:function(){let a=this.element;this._createStructure(),this._createEvents(),r(globalThis).resize(),this._checkStatic(),this._fireEvent("sidebar-create",{element:a})},_createStructure:function(){let a=this.element,t=this.options,o=a.find(".sidebar-header"),i=e.sheet,p=a.find(".sidebar-menu"),c=a.outerWidth();a.addClass("sidebar").addClass("on-"+t.position),t.menuScrollbar===!1&&p.addClass("hide-scroll"),t.toggle!==null&&r(t.toggle).length>0&&(this.toggle_element=r(t.toggle)),o.length>0&&o.data("image")!==void 0&&o.css({backgroundImage:"url("+o.data("image")+")"}),t.static!==null&&t.staticShift!==null&&(t.position==="left"?e.utils.addCssRule(i,"@media screen and "+e.media_queries[t.static.toUpperCase()],t.staticShift+"{margin-left: "+c+"px; width: calc(100% - "+c+"px);}"):e.utils.addCssRule(i,"@media screen and "+e.media_queries[t.static.toUpperCase()],t.staticShift+"{margin-right: "+c+"px; width: calc(100% - "+c+"px);}"))},_createEvents:function(){let a=this,t=this.element,o=this.options,i=this.toggle_element;i!==null?i.on(e.events.click,function(p){a.toggle(),p.stopPropagation()}):o.toggle&&r.document().on("click",o.toggle,function(p){a.toggle(),p.stopPropagation()}),o.static!==null&&e.media_modes.includes(o.static)&&r(globalThis).on(e.events.resize,function(){a._checkStatic()},{ns:this.id}),t.on(e.events.click,".sidebar-menu .js-sidebar-close",function(p){a.close(),p.stopPropagation()}),t.on(e.events.click,function(p){p.stopPropagation()}),r(document).on(e.events.click,function(){o.closeOutside===!0&&a.isOpen()&&a.close()})},_checkStatic:function(){let a=this.element,t=this.options;e.utils.mediaExist(t.static)&&!a.hasClass("static")&&(a.addClass("static"),a.data("opened",!1).removeClass("open"),t.shift!==null&&r.each(t.shift.split(","),function(){r(this).animate({draw:{left:0},dur:t.duration})}),this._fireEvent("static-set")),e.utils.mediaExist(t.static)||(a.removeClass("static"),this._fireEvent("static-loss"))},isOpen:function(){return this.element.data("opened")===!0},open:function(){let a=this.element,t=this.options;a.hasClass("static")||(a.data("opened",!0).addClass("open"),t.shift!==null&&r(t.shift).animate({draw:{left:a.outerWidth()},dur:t.duration}),this._fireEvent("open"))},close:function(){let a=this.element,t=this.options;a.hasClass("static")||(a.data("opened",!1).removeClass("open"),t.shift!==null&&r(t.shift).animate({draw:{left:0},dur:t.duration}),this._fireEvent("close"))},toggle:function(){this.isOpen()?this.close():this.open(),this._fireEvent("toggle")},changeAttribute:function(){},destroy:function(){let a=this.element,t=this.options,o=this.toggle_element;return o!==null&&o.off(e.events.click),t.static!==null&&e.media_modes.includes(t.static)&&r(globalThis).off(e.events.resize,{ns:this.id}),a.off(e.events.click,".js-sidebar-close"),a}}),e.sidebar={isSidebar:function(a){return e.utils.isMetroObject(a,"sidebar")},open:function(a){this.isSidebar(a)&&e.getPlugin(a,"sidebar").open()},close:function(a){this.isSidebar(a)&&e.getPlugin(a,"sidebar").close()},toggle:function(a){this.isSidebar(a)&&e.getPlugin(a,"sidebar").toggle()},isOpen:function(a){if(this.isSidebar(a))return e.getPlugin(a,"sidebar").isOpen()}}})(Metro,Dom);(function(e,r){"use strict";var l={compacted:!1,toggle:null,expandPoint:"fs",onMenuItemClick:e.noop,onCollapse:e.noop,onExpand:e.noop,onSidenavCreate:e.noop};e.sidenavCounterSetup=function(a){l=r.extend({},l,a)},typeof window.metroSidenavCounterSetup!==void 0&&e.sidenavCounterSetup(window.metroSidenavCounterSetup),e.Component("sidenav-counter",{init:function(a,t){return this._super(t,a,l,{}),this},_create:function(){var a=this,t=this.element,o=this.options;this._createStructure(),this._createEvents(),this._fireEvent("sidenav-create")},_createStructure:function(){var a=this,t=this.element,o=this.options;t.addClass("sidenav-counter"),e.utils.mediaExist(o.expandPoint)&&t.addClass("expanded"),e.storage.getItem("sidenav-counter:compacted")===!0&&(t.removeClass("expanded"),t.addClass("handmade"))},_createEvents:function(){var a=this,t=this.element,o=this.options;o.toggle&&r(o.toggle).on("click",function(){t.toggleClass("expanded"),t.toggleClass("handmade"),e.storage.setItem("sidenav-counter:compacted",!t.hasClass("expanded"))}),r(globalThis).on(e.events.resize,()=>{t.hasClass("handmade")||(e.utils.mediaExist(o.expandPoint)?t.addClass("expanded"):t.removeClass("expanded"))},{ns:this.id})},changeAttribute:function(a,t){},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={sorterDeferred:0,thousandSeparator:",",decimalSeparator:",",sortTarget:null,sortSource:null,sortDir:"asc",sortStart:!0,saveInitial:!0,onSortStart:e.noop,onSortStop:e.noop,onSortItemSwitch:e.noop,onSorterCreate:e.noop};e.sorterSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroSorterSetup!==void 0&&e.sorterSetup(globalThis.metroSorterSetup),e.Component("sorter",{init:function(t,o){return this._super(o,t,a,{initial:[]}),this},_create:function(){var t=this.element;this._createStructure(),this._fireEvent("sorter-create",{element:t})},_createStructure:function(){var t=this.element,o=this.options;o.sortTarget===null&&(o.sortTarget=t.children()[0].tagName),this.initial=t.find(o.sortTarget).get(),o.sortStart===!0&&this.sort(o.sortDir)},_getItemContent:function(t){var o=this.options,i,p,c,d;if(l.isValue(o.sortSource)){if(i="",p=t.getElementsByClassName(o.sortSource),p.length>0)for(c=0;c<p.length;c++)i+=p[c].textContent;d=p[0].dataset.format}else i=t.textContent,d=t.dataset.format;if(i=(""+i).toLowerCase().replace(/[\n\r]+|[\s]{2,}/g," ").trim(),l.isValue(d))switch(["number","int","float","money"].indexOf(d)!==-1&&(o.thousandSeparator!==","||o.decimalSeparator!==".")&&(i=l.parseNumber(i,o.thousandSeparator,o.decimalSeparator)),d){case"date":i=l.isDate(i)?new Date(i):"";break;case"number":i=Number(i);break;case"int":i=parseInt(i);break;case"float":i=parseFloat(i);break;case"money":i=l.parseMoney(i);break;case"card":i=l.parseCard(i);break;case"phone":i=l.parsePhone(i);break}return i},sort:function(t){var o=this,i=this.element,p=this.options,c,d=l.elementId("temp"),m;t!==void 0&&(p.sortDir=t),c=i.find(p.sortTarget).get(),c.length!==0&&(m=r("<div>").attr("id",d).insertBefore(r(i.find(p.sortTarget)[0])),this._fireEvent("sort-start",{items:c}),c.sort(function(f,u){var g=o._getItemContent(f),h=o._getItemContent(u),b=0;return g<h&&(b=-1),g>h&&(b=1),b!==0&&o._fireEvent("sort-item-switch",{a:f,b:u,result:b}),b}),p.sortDir==="desc"&&c.reverse(),i.find(p.sortTarget).remove(),r.each(c,function(){var f=r(this);f.insertAfter(m),m=f}),r("#"+d).remove(),this._fireEvent("sort-stop",{items:c}))},reset:function(){var t=this.element,o=this.options,i,p=l.elementId("sorter"),c;i=this.initial,i.length!==0&&(c=r("<div>").attr("id",p).insertBefore(r(t.find(o.sortTarget)[0])),t.find(o.sortTarget).remove(),r.each(i,function(){var d=r(this);d.insertAfter(c),c=d}),r("#"+p).remove())},changeAttribute:function(t){var o=this,i=this.element,p=this.options,c=function(){var m=i.attr("data-sort-dir").trim();m!==""&&(p.sortDir=m,o.sort())},d=function(){var m=i.attr("data-sort-content").trim();m!==""&&(p.sortContent=m,o.sort())};switch(t){case"data-sort-dir":c();break;case"data-sort-content":d();break}},destroy:function(){return this.element}}),e.sorter={create:function(t,o){return l.$()(t).sorter(o)},isSorter:function(t){return l.isMetroObject(t,"sorter")},sort:function(t,o){if(!this.isSorter(t))return!1;o===void 0&&(o="asc"),e.getPlugin(t,"sorter").sort(o)},reset:function(t){if(!this.isSorter(t))return!1;e.getPlugin(t,"sorter").reset()}}})(Metro,Dom);(function(e,r){"use strict";let l={VERTICAL:"vertical",HORIZONTAL:"horizontal"},a=e.storage,t={splitterDeferred:0,split:l.VERTICAL,splitSizes:null,gutterSize:5,gutterStyle:"default",minSizes:null,children:"*",gutterClick:"expand",saveState:!1,noResize:!1,onResizeStart:e.noop,onResizeStop:e.noop,onResizeSplit:e.noop,onResizeWindow:e.noop,onSplitterCreate:e.noop};e.splitterSetup=function(o){t=r.extend({},t,o)},typeof globalThis.metroSplitterSetup<"u"&&e.splitterSetup(globalThis.metroSplitterSetup),e.Component("splitter",{init:function(o,i){return this._super(i,o,t,{storage:e.utils.isValue(a)?a:null,storageKey:"SPLITTER:",id:e.utils.elementId("splitter")}),this},_create:function(){let o=this.element;this._createStructure(),this._createEvents(),this._fireEvent("splitter-create",{element:o})},_createStructure:function(){let o=this.element,i=this.options,p=o.children(i.children).addClass("split-block"),c,d=[],m=i.split===l.HORIZONTAL?"height":"width";for(o.addClass("splitter"),o.addClass(i.split.toLowerCase()===l.VERTICAL?"vertical":"horizontal"),i.gutterStyle!=="default"&&o.addClass(`gutter-style-${i.gutterStyle}`),i.noResize===!0&&o.addClass("static-size"),c=0;c<p.length-1;c++)r("<div>").addClass("gutter").css(m,i.gutterSize).insertAfter(r(p[c]));if(this._setSize(),e.utils.isValue(i.minSizes))if((""+i.minSizes).includes(","))for(d=i.minSizes.toArray(),c=0;c<d.length;c++)r(p[c]).data("min-size",d[c]),p[c].style.setProperty("min-"+m,(""+d[c]).includes("%")?d[c]:(""+d[c]).replace("px","")+"px","important");else r.each(p,function(){this.style.setProperty("min-"+m,(""+i.minSizes).includes("%")?i.minSizes:(""+i.minSizes).replace("px","")+"px","important")});i.saveState&&this.storage!==null&&this._getSize()},_setSize:function(){let o=this.element,i=this.options,p,c,d=o.children(".split-block"),m=o.width();if(p=o.children(".gutter"),!e.utils.isValue(i.splitSizes))d.css({flexBasis:`calc(${100/d.length}% - ${p.length*i.gutterSize}px)`});else{c=(""+i.splitSizes).toArray();let f=100,u=0;for(;u<c.length;u++){let g=c[u];g.includes("%")?g=parseInt(g):g=+g*100/m,f-=g,r(d[u]).css({flexBasis:`calc(${g}% - ${p.length*i.gutterSize}px)`})}for(;u<d.length;u++)r(d[u]).css({flexBasis:`calc(${f/(d.length-u)}% - ${p.length*i.gutterSize}px)`})}},_createEvents:function(){let o=this,i=this.element,p=this.options,c=i.children(".gutter");c.on(e.events.startAll,function(d){if(p.noResize===!0)return!1;let m=p.split===l.VERTICAL?i.width():i.height(),f=r(this),u=f.prev(".split-block"),g=f.next(".split-block"),h=100*(p.split===l.VERTICAL?u.outerWidth(!0):u.outerHeight(!0))/m,b=100*(p.split===l.VERTICAL?g.outerWidth(!0):g.outerHeight(!0))/m,v=e.utils.getCursorPosition(i[0],d);f.addClass("active"),u.addClass("stop-pointer"),g.addClass("stop-pointer"),o._fireEvent("resize-start",{pos:v,gutter:f[0],prevBlock:u[0],nextBlock:g[0]}),r(globalThis).on(e.events.moveAll,function(k){let w=e.utils.getCursorPosition(i[0],k),T;p.split===l.VERTICAL?T=w.x*100/m-v.x*100/m:T=w.y*100/m-v.y*100/m,u.css("flex-basis","calc("+(h+T)+"% - "+c.length*p.gutterSize+"px)"),g.css("flex-basis","calc("+(b-T)+"% - "+c.length*p.gutterSize+"px)"),o._fireEvent("resize-split",{pos:w,gutter:f[0],prevBlock:u[0],nextBlock:g[0]})},{ns:o.id}),r(globalThis).on(e.events.stopAll,function(k){let w;u.removeClass("stop-pointer"),g.removeClass("stop-pointer"),o._saveSize(),f.removeClass("active"),r(globalThis).off(e.events.moveAll,{ns:o.id}),r(globalThis).off(e.events.stopAll,{ns:o.id}),w=e.utils.getCursorPosition(i[0],k),o._fireEvent("resize-stop",{pos:w,gutter:f[0],prevBlock:u[0],nextBlock:g[0]})},{ns:o.id})},{passive:!0}),r(globalThis).on(e.events.resize,function(){let d=i.children(".gutter"),m=d.prev(".split-block"),f=d.next(".split-block");o._fireEvent("resize-window",{prevBlock:m[0],nextBlock:f[0]})},{ns:o.id})},_saveSize:function(){let o=this.element,i=this.options,p=this.storage,c=[],d=o.attr("id")||this.id;i.saveState===!0&&p!==null&&(r.each(o.children(".split-block"),function(){let m=r(this);c.push(m.css("flex-basis"))}),p&&p.setItem(this.storageKey+d,c))},_getSize:function(){let o=this.element,i=this.options,p=this.storage,c=[],d=o.attr("id")||this.id;i.saveState===!0&&p!==null&&(c=p.getItem(this.storageKey+d),r.each(o.children(".split-block"),function(m,f){let u=r(f);e.utils.isValue(c)&&e.utils.isValue(c[m])&&u.css("flex-basis",c[m])}))},size:function(o){let i=this,p=this.options;return e.utils.isValue(o)&&(p.splitSizes=o,i._setSize()),this},changeAttribute:function(o){let i=this,p=this.element;function c(){let d=p.attr("data-split-sizes");i.size(d)}o==="data-split-sizes"&&c()},destroy:function(){let o=this.element;return o.children(".gutter").off(e.events.start),o.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l={stepperDeferred:0,view:e.stepperView.SQUARE,steps:3,step:1,stepClick:!1,clsStepper:"",clsStep:"",clsComplete:"",clsCurrent:"",onStep:e.noop,onStepClick:e.noop,onStepperCreate:e.noop};e.stepperSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroStepperSetup!==void 0&&e.stepperSetup(globalThis.metroStepperSetup),e.Component("stepper",{init:function(a,t){return this._super(t,a,l,{current:0}),this},_create:function(){var a=this.element,t=this.options;t.step<=0&&(t.step=1),this._createStepper(),this._createEvents(),this._fireEvent("stepper-create",{element:a})},_createStepper:function(){var a=this.element,t=this.options,o;for(a.addClass("stepper").addClass(t.view).addClass(t.clsStepper),o=1;o<=t.steps;o++)r("<span>").addClass("step").addClass(t.clsStep).data("step",o).html("<span>"+o+"</span>").appendTo(a);this.current=1,this.toStep(t.step)},_createEvents:function(){var a=this,t=this.element,o=this.options;t.on(e.events.click,".step",function(){var i=r(this).data("step");o.stepClick===!0&&(a.toStep(i),a._fireEvent("step-click",{step:i}))})},next:function(){var a=this.element,t=a.find(".step");this.current+1>t.length||(this.current++,this.toStep(this.current))},prev:function(){this.current-1!==0&&(this.current--,this.toStep(this.current))},last:function(){var a=this.element;this.toStep(a.find(".step").length)},first:function(){this.toStep(1)},toStep:function(a){var t=this.element,o=this.options,i=r(t.find(".step").get(a-1)),p=this.current;i.length!==0&&(this.current=a,t.find(".step").removeClass("complete current").removeClass(o.clsCurrent).removeClass(o.clsComplete),i.addClass("current").addClass(o.clsCurrent),i.prevAll().addClass("complete").addClass(o.clsComplete),this._fireEvent("step",{step:this.current,prev:p}))},changeAttribute:function(){},destroy:function(){var a=this.element;return a.off(e.events.click,".step"),a}})})(Metro,Dom);(function(e){"use strict";let r=function(l){return new r.init(l)};r.prototype={setKey:function(l){this.key=l},getKey:function(){return this.key},setItem:function(l,a){this.storage.setItem(this.key+":"+l,JSON.stringify(a))},getItem:function(l,a,t){let o,i;i=this.storage.getItem(this.key+":"+l);try{o=JSON.parse(i,t)}catch{o=null}return e.utils.nvl(o,a)},getItemPart:function(l,a,t,o){let i,p=this.getItem(l,t,o);for(a=a.split("->"),i=0;i<a.length;i++)p=p[a[i]];return p},delItem:function(l){this.storage.removeItem(this.key+":"+l)},size:function(l){let a;switch(l){case"m":case"M":{a=1024*1024;break}case"k":case"K":{a=1024;break}default:a=1}return JSON.stringify(this.storage).length/a}},r.init=function(l){return this.key="",this.storage=l||globalThis.localStorage,this},r.init.prototype=r.prototype,e.storage=r(globalThis.localStorage),e.session=r(globalThis.sessionStorage)})(Metro);(function(e,r){"use strict";var l=e.utils,a={streamerDeferred:0,wheel:!0,wheelStep:20,duration:METRO_ANIMATION_DURATION,defaultClosedIcon:"",defaultOpenIcon:"",changeUri:!0,encodeLink:!0,closed:!1,chromeNotice:!1,startFrom:null,slideToStart:!0,startSlideSleep:1e3,source:null,data:null,eventClick:"select",selectGlobal:!0,streamSelect:!1,excludeSelectElement:null,excludeClickElement:null,excludeElement:null,excludeSelectClass:"",excludeClickClass:"",excludeClass:"",onDataLoad:e.noop,onDataLoaded:e.noop,onDataLoadError:e.noop,onDrawEvent:e.noop,onDrawGlobalEvent:e.noop,onDrawStream:e.noop,onStreamClick:e.noop,onStreamSelect:e.noop,onEventClick:e.noop,onEventSelect:e.noop,onEventsScroll:e.noop,onStreamerCreate:e.noop};e.streamerSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroStreamerSetup!==void 0&&e.streamerSetup(globalThis.metroStreamerSetup),e.Component("streamer",{init:function(t,o){return this._super(o,t,a,{data:null,scroll:0,scrollDir:"left",events:null}),this},_create:function(){var t=this.element,o=this.options;if(t.addClass("streamer"),t.attr("id")===void 0&&t.attr("id",l.elementId("streamer")),o.source===null&&o.data===null)return!1;r("<div>").addClass("streams").appendTo(t),r("<div>").addClass("events-area").appendTo(t),o.source!==null?(this._fireEvent("data-load",{source:o.source}),this._loadSource()):(this.data=o.data,this.build())},_loadSource:function(){var t=this,o=this.options;fetch(o.source).then(e.fetch.status).then(e.fetch.json).then(function(i){t._fireEvent("data-loaded",{source:o.source,data:i}),t.data=i,t.build()}).catch(function(i){t._fireEvent("data-load-error",{source:o.source,error:i})})},build:function(){var t=this,o=this.element,i=this.options,p=this.data,c=o.find(".streams").html(""),d=o.find(".events-area").html(""),m,f=r("<ul>").addClass("streamer-timeline").html("").appendTo(d),u=r("<div>").addClass("streamer-events").appendTo(d),g=r("<div>").addClass("event-group").appendTo(u),h=l.getURIParameter(null,"StreamerIDS");h!==null&&i.encodeLink===!0&&(h=atob(h));var b=h?h.split("|")[0]:null,v=h?h.split("|")[1].split(","):[];if(p.actions!==void 0){var k=r("<div>").addClass("streamer-actions").appendTo(c);r.each(p.actions,function(){var ct=this,M=r("<button>").addClass("streamer-action").addClass(ct.cls).html(ct.html);ct.onclick!==void 0&&M.on(e.events.click,function(){l.exec(ct.onclick,[o])}),M.appendTo(k)})}f.html(""),p.timeline===void 0&&(p.timeline={start:"09:00",stop:"18:00",step:20});var w=new Date,T=new Date,_=p.timeline.start?p.timeline.start.split(":"):[9,0],y=p.timeline.stop?p.timeline.stop.split(":"):[18,0],C=p.timeline.step?parseInt(p.timeline.step)*60:1200;w.setHours(_[0]),w.setMinutes(_[1]),w.setSeconds(0),T.setHours(y[0]),T.setMinutes(y[1]),T.setSeconds(0);var z,A,R,N,Y,q,W,at,Et,vt;for(z=w.getTime()/1e3;z<=T.getTime()/1e3;z+=C)for(A=new Date(z*1e3),R=A.getHours(),Y=A.getMinutes(),N=Str.lpad(R,"0",2)+":"+Str.lpad(Y,"0",2),at=r("<li>").data("time",N).addClass("js-time-point-"+N.replace(":","-")).html("<em>"+N+"</em>").appendTo(f),vt=at.width()/parseInt(p.timeline.step),m=r("<ul>").addClass("streamer-fake-timeline").html("").appendTo(at),q=0;q<parseInt(p.timeline.step);q++)W=Y+q,N=Str.lpad(R,"0",2)+":"+Str.lpad(W,"0",2),Et=r("<li>").data("time",N).addClass("js-fake-time-point-"+N.replace(":","-")).html("|").appendTo(m),Et.css({width:vt});if(p.streams!==void 0&&r.each(p.streams,function(ct){var M=75,gt=0,dt=this,et=r("<div>").addClass("stream").addClass(this.cls).appendTo(c);et.addClass(dt.cls).data("one",!1).data("data",dt.data),r("<div>").addClass("stream-title").html(dt.title).appendTo(et),r("<div>").addClass("stream-secondary").html(dt.secondary).appendTo(et),r(dt.icon).addClass("stream-icon").appendTo(et);var _t=Farbe.Routines.toHEX(l.getStyleOne(et,"background-color")),zt=Farbe.Routines.toHEX(l.getStyleOne(et,"color")),Pt=r("<div>").addClass("stream-events").data("background-color",_t).data("text-color",zt).appendTo(g);if(dt.events!==void 0){r.each(dt.events,function(P){var D=this,U=D.row===void 0?1:parseInt(D.row),X,$=ct+":"+P,J=D.custom!==void 0?D.custom:"",ee=D.custom_open!==void 0?D.custom_open:"",kt=D.custom_close!==void 0?D.custom_close:"",wt;if(!(D.skip!==void 0&&l.bool(D.skip))){wt=r("<div>").data("origin",D).data("sid",$).data("data",D.data).data("time",D.time).data("target",D.target).addClass("stream-event").addClass("size-"+D.size+(["half","one-third"].includes(D.size)?"":"x")).addClass(D.cls).appendTo(Pt);var qn=f.find(".js-fake-time-point-"+this.time.replace(":","-")),Wn=qn.offset().left-Pt.offset().left,Xn=75*(U-1);if(U>gt&&(gt=U),wt.css({position:"absolute",left:Wn,top:Xn}),l.isNull(D.html)){var Pe=r("<div>").addClass("stream-event-slide").appendTo(wt),to=r("<div>").addClass("slide-logo").appendTo(Pe),eo=r("<div>").addClass("slide-data").appendTo(Pe);D.icon!==void 0&&(l.isTag(D.icon)?r(D.icon).addClass("icon").appendTo(to):r("<img>").addClass("icon").attr("src",D.icon).attr("alt","").appendTo(to)),r("<span>").addClass("time").css({backgroundColor:_t,color:zt}).html(D.time).appendTo(to),r("<div>").addClass("title").html(D.title).appendTo(eo),r("<div>").addClass("subtitle").html(D.subtitle).appendTo(eo),r("<div>").addClass("desc").html(D.desc).appendTo(eo),(i.closed===!1&&o.attr("id")===b&&v.indexOf($)!==-1||D.selected===!0||parseInt(D.selected)===1)&&wt.addClass("selected"),i.closed===!0||D.closed===!0||parseInt(D.closed)===1?(X=D.closedIcon!==void 0?l.isTag(D.closedIcon)?D.closedIcon:"<span>"+D.closedIcon+"</span>":l.isTag(i.defaultClosedIcon)?i.defaultClosedIcon:"<span>"+i.defaultClosedIcon+"</span>",r(X).addClass("state-icon").addClass(D.clsClosedIcon).appendTo(Pe),wt.data("closed",!0).data("target",D.target),wt.append(ee)):(X=D.openIcon!==void 0?l.isTag(D.openIcon)?D.openIcon:"<span>"+D.openIcon+"</span>":l.isTag(i.defaultOpenIcon)?i.defaultOpenIcon:"<span>"+i.defaultOpenIcon+"</span>",r(X).addClass("state-icon").addClass(D.clsOpenIcon).appendTo(Pe),wt.data("closed",!1),wt.append(kt)),wt.append(J)}else wt.html(D.html);t._fireEvent("draw-event",{event:wt[0]})}});var V=Pt.find(".stream-event").last();V.length>0&&Pt.outerWidth(V[0].offsetLeft+V.outerWidth())}Pt.css({height:M*gt}),o.find(".stream").eq(Pt.index()).css({height:M*gt}),t._fireEvent("draw-stream",{stream:et[0]})}),p.global!==void 0){var te=u.offset().left;r.each(["before","after"],function(){var ct=this;p.global[ct]!==void 0&&r.each(p.global[ct],function(){var M=this,gt=r("<div>").addClass("event-group").addClass("size-"+M.size+(["half","one-third"].includes(M.size)?"":"x")),dt=r("<div>").addClass("stream-events global-stream").appendTo(gt),et=r("<div>").addClass("stream-event").appendTo(dt);et.addClass("global-event").addClass(M.cls).data("time",M.time).data("origin",M).data("data",M.data),r("<div>").addClass("event-title").html(M.title).appendTo(et),r("<div>").addClass("event-subtitle").html(M.subtitle).appendTo(et),r("<div>").addClass("event-html").html(M.html).appendTo(et);var _t,zt=f.find(".js-fake-time-point-"+this.time.replace(":","-"));zt.length>0&&(_t=zt.offset().left-te),gt.css({position:"absolute",left:_t,height:"100%"}).appendTo(u),t._fireEvent("draw-global-event",{event:et[0]})})})}o.data("stream",-1),o.find(".events-area").scrollLeft(0),this.events=o.find(".stream-event"),this._createEvents(),i.startFrom!==null&&i.slideToStart===!0&&setTimeout(function(){t.slideTo(i.startFrom)},i.startSlideSleep),this._fireEvent("streamer-create"),this._fireScroll()},_fireScroll:function(){var t=this,o=this.element,i=o.find(".events-area"),p=this.scroll;i.length!==0&&(this.scrollDir=this.scroll<i[0].scrollLeft?"left":"right",this.scroll=i[0].scrollLeft,this._fireEvent("events-scroll",{scrollLeft:i[0].scrollLeft,oldScroll:p,scrollDir:t.scrollDir,events:r.toArray(this.events)}))},_createEvents:function(){var t=this,o=this.element,i=this.options;function p(){var d=globalThis.pageYOffset||document.documentElement.scrollTop,m=globalThis.pageXOffset||document.documentElement.scrollLeft;globalThis.onscroll=function(){globalThis.scrollTo(m,d)}}function c(){globalThis.onscroll=function(){}}o.off(e.events.click,".stream-event").on(e.events.click,".stream-event",function(d){var m=r(this);if(!(i.excludeClass!==""&&m.hasClass(i.excludeClass))&&!(i.excludeElement!==null&&r(d.target).is(i.excludeElement))){if(i.closed===!1&&m.data("closed")!==!0&&i.eventClick==="select")i.excludeSelectClass!==""&&m.hasClass(i.excludeSelectClass)||i.excludeSelectElement!==null&&r(d.target).is(i.excludeSelectElement)||(m.hasClass("global-event")?i.selectGlobal===!0&&m.toggleClass("selected"):m.toggleClass("selected"),i.changeUri===!0&&t._changeURI(),t._fireEvent("event-select",{event:m[0],selected:m.hasClass("selected")}));else if(!(i.excludeClickClass!==""&&m.hasClass(i.excludeClickClass))){if(!(i.excludeClickElement!==null&&r(d.target).is(i.excludeClickElement))){if(t._fireEvent("event-click",{event:m[0]}),i.closed===!0||m.data("closed")===!0){var f=m.data("target");f&&(globalThis.location.href=f)}}}}}),o.off(e.events.click,".stream").on(e.events.click,".stream",function(){var d=r(this),m=d.index();i.streamSelect!==!1&&(o.data("stream")===m?(o.find(".stream-event").removeClass("disabled"),o.data("stream",-1)):(o.data("stream",m),o.find(".stream-event").addClass("disabled"),t.enableStream(d),t._fireEvent("stream-select",{stream:d})),t._fireEvent("stream-click",{stream:d}))}),i.wheel===!0&&(o.find(".events-area").off(e.events.mousewheel).on(e.events.mousewheel,function(d){if(d.deltaY!==void 0){var m,f=r(this),u=d.deltaY>0?-1:1,g=i.wheelStep;m=f.scrollLeft()-u*g,f.scrollLeft(m)}},{passive:!0}),o.find(".events-area").off("mouseenter").on("mouseenter",function(){p()}),o.find(".events-area").off("mouseleave").on("mouseleave",function(){c()})),o.find(".events-area").last().off("scroll").on("scroll",function(){t._fireScroll()}),r.touchable===!0&&o.off(e.events.click,".stream").on(e.events.click,".stream",function(){var d=r(this);d.toggleClass("focused"),r.each(o.find(".stream"),function(){r(this).is(d)||r(this).removeClass("focused")})})},_changeURI:function(){var t=this.getLink();history.pushState({},document.title,t)},slideTo:function(t){var o=this.element,i=this.options,p;t===void 0?p=r(o.find(".streamer-timeline li")[0]):p=r(o.find(".streamer-timeline .js-time-point-"+t.replace(":","-"))[0]),o.find(".events-area").animate({draw:{scrollLeft:p[0].offsetLeft-o.find(".streams .stream").outerWidth()},dur:i.duration})},enableStream:function(t){var o=this.element,i=t.index()-1;t.removeClass("disabled").data("streamDisabled",!1),o.find(".stream-events").eq(i).find(".stream-event").removeClass("disabled")},disableStream:function(t){var o=this.element,i=t.index()-1;t.addClass("disabled").data("streamDisabled",!0),o.find(".stream-events").eq(i).find(".stream-event").addClass("disabled")},toggleStream:function(t){t.data("streamDisabled")===!0?this.enableStream(t):this.disableStream(t)},getLink:function(){var t=this.element,o=this.options,i=t.find(".stream-event"),p=[],c,d=globalThis.location.href;return r.each(i,function(){var m=r(this);m.data("sid")===void 0||!m.hasClass("selected")||p.push(m.data("sid"))}),c=t.attr("id")+"|"+p.join(","),o.encodeLink===!0&&(c=btoa(c)),l.updateURIParameter(d,"StreamerIDS",c)},getTimes:function(){var t=this.element,o=t.find(".streamer-timeline > li"),i=[];return r.each(o,function(){i.push(r(this).data("time"))}),i},getEvents:function(t,o){var i=this.element,p,c=[];switch(t){case"selected":p=i.find(".stream-event.selected");break;case"non-selected":p=i.find(".stream-event:not(.selected)");break;default:p=i.find(".stream-event")}return r.each(p,function(){var d=r(this),m;o!==!0&&d.parent().hasClass("global-stream")||(m=d.data("origin"),c.push(m))}),c},source:function(t){var o=this.element;if(t===void 0)return this.options.source;o.attr("data-source",t),this.options.source=t,this.changeSource()},dataSet:function(t){if(t===void 0)return this.options.data;this.options.data=t,this.changeData(t)},getStreamerData:function(){return this.data},toggleEvent:function(t){var o=this.options;t=r(t),!(t.hasClass("global-event")&&o.selectGlobal!==!0)&&(t.hasClass("selected")?this.selectEvent(t,!1):this.selectEvent(t,!0))},selectEvent:function(t,o){var i=this,p=this.options;o===void 0&&(o=!0),t=r(t),!(t.hasClass("global-event")&&p.selectGlobal!==!0)&&(o===!0?t.addClass("selected"):t.removeClass("selected"),p.changeUri===!0&&i._changeURI(),this._fireEvent("event-select",{event:t[0],selected:o}))},changeSource:function(){var t=this.element,o=this.options,i=t.attr("data-source");String(i).trim()!==""&&(o.source=i,this._fireEvent("data-load",{source:o.source}),this._loadSource(),this._fireEvent("source-change"))},changeData:function(t){var o=this.element,i=this.options,p=this.data;i.data=typeof t=="object"?t:JSON.parse(o.attr("data-data")),this.data=i.data,this.build(),this._fireEvent("data-change",{oldData:p,newData:i.data})},changeStreamSelectOption:function(){var t=this.element,o=this.options;o.streamSelect=t.attr("data-stream-select").toLowerCase()==="true"},changeAttribute:function(t){switch(t){case"data-source":this.changeSource();break;case"data-data":this.changeData();break;case"data-stream-select":this.changeStreamSelectOption();break}},destroy:function(){var t=this.element;return t.off(e.events.click,".stream-event"),t.off(e.events.click,".stream"),t.find(".events-area").off(e.events.mousewheel),t.find(".events-area").last().off("scroll"),t}})})(Metro,Dom);(function(e,r){"use strict";let l={swipeThreshold:32,onSwipe:e.noop,onSwipeRight:e.noop,onSwipeLeft:e.noop,onSwipeUp:e.noop,onSwipeDown:e.noop,onSwipeCreate:e.noop};e.swipeSetup=function(a){l=r.extend({},l,a)},typeof window.metroSwipeSetup!==void 0&&e.swipeSetup(window.metroSwipeSetup),e.Component("swipe",{init:function(a,t){return this._super(t,a,l,{}),this},_create:function(){this.element.css({userSelect:"none"}),this._createEvents(),this._fireEvent("swipe-create")},_createEvents:function(){let a=this,t=this.element,o=this.options;t.on("touchstart mousedown",function(i){let p=e.utils.pageXY(i),c={x:0,y:0};t.on("touchmove mousemove",function(d){let m=e.utils.pageXY(d);c.x=m.x-p.x,c.y=m.y-p.y}),t.on("touchend mouseup",function(d){let m="";(Math.abs(c.x)>o.swipeThreshold||Math.abs(c.y)>o.swipeThreshold)&&(Math.abs(c.x)>Math.abs(c.y)?c.x>0?(m="right",a._fireEvent("swipe-right",{start:p,swipe:c})):(m="left",a._fireEvent("swipe-left",{start:p,swipe:c})):c.y>0?(m="down",a._fireEvent("swipe-down",{start:p,swipe:c})):(m="up",a._fireEvent("swipe-up",{start:p,swipe:c})),a._fireEvent("swipe",{start:p,swipe:c,direction:m})),t.off("touchmove mousemove"),t.off("touchend mouseup")})})},changeAttribute:function(a,t){},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={switchDeferred:0,material:!1,prepend:"",append:"",clsSwitch:"",clsCheck:"",clsCaption:"",onoff:!1,on:"",off:"",showOnOff:!1,onSwitchCreate:e.noop};e.switchSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroSwitchSetup!==void 0&&e.switchSetup(globalThis.metroSwitchSetup),e.Component("switch",{init:function(t,o){return this._super(o,t,a,{}),this},_create:function(){let t=this.element,o=this.options,i=this.strings,p=t.wrap("<label>").addClass("switch").addClass(t[0].className).addClass(o.clsSwitch);t.attr("type","checkbox"),t.attr("readonly")!==void 0&&t.on("click",function(c){c.preventDefault()}),this.component=p,t[0].className="",o.prepend&&p.prepend(r("<span>").addClass("caption-prepend").addClass(o.clsPrepend).addClass(o.clsCaption).html(o.prepend)),o.append&&p.append(r("<span>").addClass("caption-append").addClass(o.clsAppend).addClass(o.clsCaption).html(o.append)),o.onoff===!0?(t.attr("data-on",o.on||i.label_on),t.attr("data-off",o.off||i.label_off)):(t.removeAttr("data-on"),t.removeAttr("data-off")),o.material===!0&&p.addClass("material"),this._fireEvent("switch-create")},toggle:function(t){let o=this.element;return o.is(":disabled")?this:(l.isValue(t)?o.prop("checked",t===1):o.prop("checked",!l.bool(o.prop("checked"))),this)},changeAttribute:function(t,o){},destroy:function(){return this.element}})})(Metro,Dom);(function(e,r){"use strict";var l={splitter:",",variance:0,delay:100,blinkDelay:400,deleteDelay:800,loop:!0,cursor:"_",colors:"",onType:e.noop,onTyperCreate:e.noop};e.typerSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroTyperSetup!==void 0&&e.typerSetup(globalThis.metroTyperSetup),e.Component("typer",{init:function(a,t){return this._super(t,a,l,{original:null,lines:null,text:null,cursor:null,on:!0,interval:null,colors:null,colorIndex:0}),this},_create:function(){let a=this.element,t=this.options;a.addClass("typer"),this.original=a.text(),this.words=this.original.split(t.splitter).pack(),this.colors=t.colors.split(",").pack(),this.cursor=r("<span>").addClass("typer-cursor").html(t.cursor).insertAfter(a),this.interval=setInterval(()=>this._blink(),+t.blinkDelay),this.progress={word:0,char:0,building:!0,looped:0},a.clear(),this.start()},_blink:function(){this.on?(this.cursor[0].style.opacity=0,this.on=!1):(this.cursor[0].style.opacity=1,this.on=!0)},doTyping:function(){let a=this,t=this.element,o=this.elem,i=this.options,p,c=this.progress,d=c.word,m=c.char,f=[...this.words[d]].slice(0,m).join(""),u=(2*Math.random()-1)*i.variance+i.delay;this.cursor[0].style.opacity="1",this.on=!0,clearInterval(this.interval),this.interval=setInterval(()=>this._blink(),+i.blinkDelay),t.html(f),c.building?(p=c.char===this.words[d].length,p?c.building=!1:c.char+=1):c.char===0?(c.building=!0,c.word=(c.word+1)%this.words.length,this.colors.length&&(this.colorIndex=(this.colorIndex+1)%this.colors.length,o.style.color=this.colors[this.colorIndex])):c.char-=1,c.word===this.words.length-1&&(c.looped+=1),!c.building&&this.loop<=c.looped&&(this.typing=!1),setTimeout(()=>{this.typing&&this.doTyping()},p?i.deleteDelay:u)},start:function(){this.typing||(this.typing=!0,this.doTyping())},stop:function(){this.typing=!1},destroy:function(){this.element.remove()}})})(Metro,Dom);var Gn={title:void 0,format:void 0,formatMask:void 0,name:void 0,colspan:null,size:void 0,sortable:!1,sortDir:void 0,clsColumn:void 0,cls:void 0,show:!0,required:!0,field:void 0,fieldType:void 0,validator:void 0,template:void 0,type:"data"};(function(e,r){"use strict";var l=e.utils,a={caption:"",cardMode:"",useCurrentSlice:!1,showInspectorButton:!1,inspectorButtonIcon:"\u{1F527}",tableDeferred:0,templateBeginToken:"<%",templateEndToken:"%>",paginationDistance:5,paginationIslandSize:3,paginationShortTrack:10,horizontalScroll:!1,horizontalScrollStop:null,check:!1,checkType:"checkbox",checkColIndex:0,checkName:null,checkStoreKey:"TABLE:$1:KEYS",rownum:!1,rownumTitle:"#",filters:null,filtersOperator:"and",head:null,body:null,source:null,static:!1,searchMinLength:1,searchThreshold:500,searchFields:null,showRowsSteps:!0,showSearch:!0,showTableInfo:!0,showPagination:!0,paginationShortMode:!0,showActivity:!0,muteTable:!0,showSkip:!1,rows:10,rowsSteps:"10,25,50,100",staticView:!1,viewSaveMode:"client",viewSavePath:"TABLE:$1:OPTIONS",sortDir:"asc",decimalSeparator:".",thousandSeparator:",",tableRowsCountTitle:null,tableSearchTitle:null,tableSearchPlaceholder:"",tableInfoTitle:null,paginationPrevTitle:null,paginationNextTitle:null,allRecordsTitle:null,inspectorTitle:null,tableSkipTitle:null,emptyTableTitle:null,activityType:"atom",activityStyle:"color",activityTimeout:100,searchWrapper:null,rowsWrapper:null,infoWrapper:null,paginationWrapper:null,skipWrapper:null,cellWrapper:!0,clsComponent:"",clsTableContainer:"",clsTable:"",clsHead:"",clsHeadRow:"",clsHeadCell:"",clsBody:"",clsBodyRow:"",clsBodyCell:"",clsCellWrapper:"",clsFooter:"",clsFooterRow:"",clsFooterCell:"",clsTableTop:"",clsRowsCount:"",clsSearch:"",clsTableBottom:"",clsTableInfo:"",clsTablePagination:"",clsPagination:"",clsTableSkip:"",clsTableSkipInput:"",clsTableSkipButton:"",clsEvenRow:"",clsOddRow:"",clsRow:"",clsEmptyTableTitle:"",onDraw:e.noop,onDrawRow:e.noop,onDrawCell:e.noop,onAppendRow:e.noop,onAppendCell:e.noop,onSortStart:e.noop,onSortStop:e.noop,onSortItemSwitch:e.noop,onSearch:e.noop,onRowsCountChange:e.noop,onDataLoad:e.noop,onDataLoadError:e.noop,onDataLoaded:e.noop,onDataLoadEnd:e.noop,onDataSaveError:e.noop,onFilterRowAccepted:e.noop,onFilterRowDeclined:e.noop,onCheckClick:e.noop,onCheckClickAll:e.noop,onCheckDraw:e.noop,onViewSave:e.noop,onViewGet:e.noop,onViewCreated:e.noop,onTableCreate:e.noop,onSkip:e.noop};e.tableSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroTableSetup!==void 0&&e.tableSetup(globalThis.metroTableSetup),e.Component("table",{init:function(t,o){return this._super(o,t,a,{currentPage:1,pagesCount:1,searchString:"",data:null,activity:null,loadActivity:null,busy:!1,filters:[],wrapperInfo:null,wrapperSearch:null,wrapperRows:null,wrapperPagination:null,wrapperSkip:null,filterIndex:null,filtersIndexes:[],component:null,inspector:null,view:{},viewDefault:{},input_interval:null,searchFields:[],id:l.elementId("table"),sort:{dir:"asc",colIndex:0},service:[],heads:[],items:[],foots:[],filteredItems:[],currentSlice:[],index:{}}),this},_create:function(){var t=this,o=this.element,i=this.options,p=l.elementId("table"),c,d,m;if(o.id()||(console.warn("To use all table component features, please set an ID for the table element!"),o.id(p)),l.isValue(i.searchFields)&&(this.searchFields=i.searchFields.toArray()),l.isValue(i.head)){var f=i.head;i.head=l.isObject(i.head),i.head||(console.warn("Head "+f+" defined but not exists!"),i.head=null)}if(l.isValue(i.body)){var u=i.body;i.body=l.isObject(i.body),i.body||(console.warn("Body "+u+" defined but not exists!"),i.body=null)}if(i.static===!0&&(i.showPagination=!1,i.showRowsSteps=!1,i.showSearch=!1,i.showTableInfo=!1,i.showSkip=!1,i.rows=-1),c=r("<div>").addClass("table-component"),c.insertBefore(o),d=r("<div>").addClass("table-container").addClass(i.clsTableContainer).appendTo(c),o.appendTo(d),i.horizontalScroll===!0&&d.addClass("horizontal-scroll"),!l.isNull(i.horizontalScrollStop)&&l.mediaExist(i.horizontalScrollStop)&&d.removeClass("horizontal-scroll"),c.addClass(i.clsComponent),this.activity=r("<div>").addClass("table-progress").appendTo(c),m=r("<div>").appendTo(this.activity),e.makePlugin(m,"activity",{type:i.activityType,style:i.activityStyle}),i.showActivity!==!0&&this.activity.css({visibility:"hidden"}),this.component=c[0],i.source!==null){this._fireEvent("data-load",{source:i.source});var g=l.isObject(i.source);g!==!1&&r.isPlainObject(g)?t._build(g):this.activity.show(function(){fetch(i.source).then(e.fetch.status).then(e.fetch.json).then(function(h){if(t.activity.hide(),typeof h!="object")throw new Error("Data for table is not a object");t._fireEvent("data-loaded",{source:i.source,data:h}),t._build(h)}).catch(function(h){t.activity.hide(),t._fireEvent("data-load-error",{source:i.source,error:h})})})}else t._build()},_createIndex:function(){var t=this,o=this.options.checkColIndex;setImmediate(function(){t.items.forEach(function(i,p){t.index[i[o]]=p})})},_build:function(t){var o=this,i=this.element,p=this.options,c,d=i.attr("id"),m;p.rows=+p.rows,this.items=[],this.heads=[],this.foots=[],Array.isArray(p.head)&&(this.heads=p.head),Array.isArray(p.body)&&(this.items=p.body),l.isValue(t)?this._createItemsFromJSON(t):this._createItemsFromHTML(),this._createIndex(),this.view=this._createView(),this.viewDefault=l.objectClone(this.view),m=p.viewSavePath.replace("$1",d),p.viewSaveMode.toLowerCase()==="client"?(c=e.storage.getItem(m),l.isValue(c)&&l.objectLength(c)===l.objectLength(this.view)&&(this.view=c,this._fireEvent("view-get",{source:"client",view:c})),this._final()):fetch(m).then(e.fetch.status).then(e.fetch.json).then(function(f){l.isValue(f)&&l.objectLength(f)===l.objectLength(o.view)&&(o.view=f,o._fireEvent("view-get",{source:"server",view:f})),o._final()}).catch(function(f){o._final(),console.warn("Warning! Error loading view for table "+i.attr("id")+": "+f)})},_final:function(){var t=this.element,o=this.options,i=t.attr("id");e.storage.delItem(o.checkStoreKey.replace("$1",i)),this._service(),this._createStructure(),this._createInspector(),this._createEvents(),this._fireEvent("table-create",{element:t})},_service:function(){var t=this.options;this.service=[{...Gn,title:t.rownumTitle,clsColumn:"rownum-cell "+(t.rownum!==!0?"d-none":""),cls:"rownum-cell "+(t.rownum!==!0?"d-none":""),type:"rownum"},{...Gn,title:t.checkType==="checkbox"?"<input type='checkbox' data-role='checkbox' class='table-service-check-all' data-style='"+t.checkStyle+"'>":"",clsColumn:"check-cell "+(t.check!==!0?"d-none":""),cls:"check-cell "+(t.check!==!0?"d-none":""),type:"rowcheck"}]},_createView:function(){var t;return t={},r.each(this.heads,function(o){l.isValue(this.cls)&&(this.cls=this.cls.replace("hidden","")),l.isValue(this.clsColumn)&&(this.clsColumn=this.clsColumn.replace("hidden","")),t[o]={index:o,"index-view":o,show:l.isValue(this.show)?this.show:!0,size:l.isValue(this.size)?this.size:""}}),this._fireEvent("view-created",{view:t}),t},_createInspectorItems:function(t){var o=this,i=this.options,p,c=[],d,m=this.heads;for(t.html(""),p=0;p<m.length;p++)c[p]=null;for(r.each(m,function(f){d=r("<tr>"),d.data("index",f),d.data("index-view",f),r("<td>").html("<input type='checkbox' data-style='"+i.checkStyle+"' data-role='checkbox' name='column_show_check[]' value='"+f+"' "+(l.bool(o.view[f].show)?"checked":"")+">").appendTo(d),r("<td>").html(`<div>${this.title}</div>`).appendTo(d),r("<td>").html("<input type='number' data-role='spinner' name='column_size' value='"+o.view[f].size+"' data-index='"+f+"'>").appendTo(d),r("<td>").html("<button class='button square js-table-inspector-field-up' type='button'>\u2191</button><button class='button square js-table-inspector-field-down' type='button'>\u2193</button>").appendTo(d),c[o.view[f]["index-view"]]=d}),p=0;p<m.length;p++)c[p].appendTo(t)},_createInspector:function(){var t=this.options,o=this.strings,i,p,c,d,m;i=r("<div data-role='draggable' data-drag-element='.table-inspector-header' data-drag-area='body'>").addClass("table-inspector"),i.attr("for",this.element.attr("id")),r("<div class='table-inspector-header'>"+(t.inspectorTitle||o.label_inspector)+"</div>").appendTo(i),p=r("<div>").addClass("table-wrap").appendTo(i),c=r("<table>").addClass("table subcompact"),d=r("<tbody>").appendTo(c),c.appendTo(p),this._createInspectorItems(d),m=r("<div class='table-inspector-actions'>").appendTo(i),r("<button class='button primary js-table-inspector-save' type='button'>").html(o.label_save).appendTo(m),r("<button class='button secondary js-table-inspector-reset ml-2 mr-2' type='button'>").html(o.label_reset).appendTo(m),r("<button class='button link js-table-inspector-cancel place-right' type='button'>").html(o.label_cancel).appendTo(m),i.data("open",!1),this.inspector=i,r("body").append(i),this._createInspectorEvents()},_resetInspector:function(){var t=this.inspector,o=t.find("table tbody");this._createInspectorItems(o),this._createInspectorEvents()},_createHeadsFromHTML:function(){var t=this,o=this.element,i=o.find("thead");i.length>0&&r.each(i.find("tr > *"),function(){var p=r(this),c,d,m;p.hasClass("rownum-cell")||p.hasClass("check-cell")||(l.isValue(p.data("sort-dir"))?c=p.data("sort-dir"):p.hasClass("sort-asc")?c="asc":p.hasClass("sort-desc")?c="desc":c=void 0,m=p[0].className.replace("sortable-column",""),m=m.replace("sort-asc",""),m=m.replace("sort-desc",""),m=m.replace("hidden",""),d={type:"data",title:p.html(),name:l.isValue(p.data("name"))?p.data("name"):p.text().replace(" ","_"),sortable:p.hasClass("sortable-column")||l.isValue(p.data("sortable"))&&JSON.parse(p.data("sortable"))===!0,sortDir:c,format:l.isValue(p.data("format"))?p.data("format"):"string",formatMask:l.isValue(p.data("format-mask"))?p.data("format-mask"):null,clsColumn:l.isValue(p.data("cls-column"))?p.data("cls-column"):"",cls:m,colspan:p.attr("colspan"),size:l.isValue(p.data("size"))?p.data("size"):"",show:!(p.hasClass("hidden")||l.isValue(p.data("show"))&&JSON.parse(p.data("show"))===!1),required:l.isValue(p.data("required"))?JSON.parse(p.data("required"))===!0:!1,field:l.isValue(p.data("field"))?p.data("field"):"input",fieldType:l.isValue(p.data("field-type"))?p.data("field-type"):"text",validator:l.isValue(p.data("validator"))?p.data("validator"):null,template:l.isValue(p.data("template"))?p.data("template"):null},t.heads.push(d))})},_createFootsFromHTML:function(){var t=this,o=this.element,i=o.find("tfoot");i.length>0&&r.each(i.find("tr > *"),function(){var p=r(this),c;c={title:p.html(),name:l.isValue(p.data("name"))?p.data("name"):!1,cls:p[0].className,colspan:p.attr("colspan")},t.foots.push(c)})},_createItemsFromHTML:function(){var t=this,o=this.element,i=o.find("tbody");i.length>0&&r.each(i.find("tr"),function(){var p=r(this),c=[];r.each(p.children("td"),function(){var d=r(this);c.push(d.html())}),t.items.push(c)}),this._createHeadsFromHTML(),this._createFootsFromHTML()},_createItemsFromJSON:function(t){var o=this;typeof t=="string"&&(t=JSON.parse(t)),t.header!==void 0?o.heads=t.header:this._createHeadsFromHTML(),t.data!==void 0&&r.each(t.data,function(){var i=this,p=[];r.each(i,function(){var c=this;p.push(c)}),o.items.push(p)}),t.footer!==void 0?this.foots=t.footer:this._createFootsFromHTML()},_createTableHeader:function(){var t=this.element,o=this.options,i=t.find("thead"),p,c,d=[],m,f,u=o.staticView?this._createView():this.view;if(i.length===0&&(i=r("<thead>"),t.prepend(i)),i.clear().addClass(o.clsHead),o.caption&&r("<caption>").html(o.caption).insertBefore(i),this.heads.length===0)return i;for(p=r("<tr>").addClass(o.clsHeadRow).appendTo(i),r.each(this.service,function(){var g=this,h=[],b=r("<th>");l.isValue(g.title)&&b.html(g.title),l.isValue(g.size)&&b.css({width:g.size}),l.isValue(g.cls)&&h.push(g.cls),h.push(o.clsHeadCell),b.addClass(h.join(" ")),p.append(b)}),f=this.heads,m=0;m<f.length;m++)d[m]=null;for(r.each(f,function(g){var h=this,b=[],v=r("<th>");v.data("index",g),l.isValue(h.title)&&v.html(h.title),l.isValue(h.format)&&v.attr("data-format",h.format),l.isValue(h.formatMask)&&v.attr("data-format-mask",h.formatMask),l.isValue(h.name)&&v.attr("data-name",h.name),l.isValue(h.colspan)&&v.attr("colspan",h.colspan),l.isValue(h.size)&&v.attr("data-size",h.size),l.isValue(h.sortable)&&v.attr("data-sortable",h.sortable),l.isValue(h.sortDir)&&v.attr("data-sort-dir",h.sortDir),l.isValue(h.clsColumn)&&v.attr("data-cls-column",h.clsColumn),l.isValue(h.cls)&&v.attr("data-cls",h.cls),l.isValue(h.show)&&v.attr("data-show",h.show),l.isValue(h.required)&&v.attr("data-required",h.required),l.isValue(h.field)&&v.attr("data-field",h.field),l.isValue(h.fieldType)&&v.attr("data-field-type",h.fieldType),l.isValue(h.validator)&&v.attr("data-validator",h.validator),l.isValue(h.template)&&v.attr("data-template",h.template),l.isValue(u[g].size)&&v.css({width:u[g].size}),h.sortable===!0&&(b.push("sortable-column"),l.isValue(h.sortDir)&&b.push("sort-"+h.sortDir)),l.isValue(h.cls)&&r.each(h.cls.toArray(),function(){b.push(this)}),l.bool(u[g].show)===!1&&b.indexOf("hidden")===-1&&b.push("hidden"),b.push(o.clsHeadCell),l.bool(u[g].show)&&l.arrayDelete(b,"hidden"),v.addClass(b.join(" ")),d[u[g]["index-view"]]=v}),m=0;m<f.length;m++)d[m].appendTo(p)},_createTableBody:function(){var t,o,i=this.element;o=i.find("thead"),t=i.find("tbody"),t.length===0&&(t=r("<tbody>").addClass(this.options.clsBody),o.length!==0?t.insertAfter(o):i.append(t)),t.clear()},_createTableFooter:function(){var t=this.element,o=this.options,i=t.find("tfoot"),p,c;i.length===0&&(i=r("<tfoot>").appendTo(t)),i.clear().addClass(o.clsFooter),this.foots.length!==0&&(p=r("<tr>").addClass(o.clsHeadRow).appendTo(i),r.each(this.foots,function(){var d=this;c=r("<th>").appendTo(p),d.title!==void 0&&c.html(d.title),d.name!==void 0&&c.addClass("foot-column-name-"+d.name),d.cls!==void 0&&c.addClass(d.cls),l.isValue(d.colspan)&&c.attr("colspan",d.colspan),c.appendTo(p)}))},_createTopBlock:function(){var t=this,o=this.element,i=this.options,p=this.strings,c=r("<div>").addClass("table-top").addClass(i.clsTableTop).insertBefore(o.parent()),d,m,f,u;return d=l.isValue(this.wrapperSearch)?this.wrapperSearch:r("<div>").addClass("table-search-block").addClass(i.clsSearch).appendTo(c),d.addClass(i.clsSearch),m=r("<input>").attr("type","text").attr("placeholder",i.tableSearchPlaceholder).appendTo(d),e.makePlugin(m,"input",{prepend:i.tableSearchTitle||p.label_search}),i.showSearch!==!0&&d.hide(),f=l.isValue(this.wrapperRows)?this.wrapperRows:r("<div>").addClass("table-rows-block").appendTo(c),f.addClass(i.clsRowsCount),u=r("<select>").appendTo(f),r.each(i.rowsSteps.toArray(),function(){var g=parseInt(this),h=r("<option>").attr("value",g).text(g===-1?i.allRecordsTitle||p.label_all:g).appendTo(u);g===parseInt(i.rows)&&h.attr("selected","selected")}),e.makePlugin(u,"select",{filter:!1,prepend:i.tableRowsCountTitle||p.label_rows_count,onChange:function(g){g=parseInt(g),g!==parseInt(i.rows)&&(i.rows=g,t.currentPage=1,t._draw(),t._fireEvent("rows-count-change",{val:g}))}}),i.showInspectorButton&&r("<button>").addClass("button inspector-button").attr("type","button").html(i.inspectorButtonIcon).insertAfter(f),i.showRowsSteps!==!0&&f.hide(),c},_createBottomBlock:function(){var t=this.element,o=this.options,i=this.strings,p=r("<div>").addClass("table-bottom").addClass(o.clsTableBottom).insertAfter(t.parent()),c,d,m;return c=l.isValue(this.wrapperInfo)?this.wrapperInfo:r("<div>").addClass("table-info").appendTo(p),c.addClass(o.clsTableInfo),o.showTableInfo!==!0&&c.hide(),d=l.isValue(this.wrapperPagination)?this.wrapperPagination:r("<div>").addClass("table-pagination").appendTo(p),d.addClass(o.clsTablePagination),o.showPagination!==!0&&d.hide(),m=l.isValue(this.wrapperSkip)?this.wrapperSkip:r("<div>").appendTo(p),m.addClass("table-skip").addClass(o.clsTableSkip),r(`<input type='text' data-role='input' placeholder="${i.label_enter_page}">`).addClass("table-skip-input").addClass(o.clsTableSkipInput).appendTo(m),r("<button>").addClass("button table-skip-button").addClass(o.clsTableSkipButton).html(o.tableSkipTitle||i.label_goto_page).appendTo(m),o.showSkip!==!0&&m.hide(),p},_createStructure:function(){var t=this,o=this.element,i=this.options,p,c=r(i.searchWrapper),d=r(i.infoWrapper),m=r(i.rowsWrapper),f=r(i.paginationWrapper),u=r(i.skipWrapper);c.length>0&&(this.wrapperSearch=c),d.length>0&&(this.wrapperInfo=d),m.length>0&&(this.wrapperRows=m),f.length>0&&(this.wrapperPagination=f),u.length>0&&(this.wrapperSkip=u),o.addClass(i.clsTable),this._createTableHeader(),this._createTableBody(),this._createTableFooter(),this._createTopBlock(),this._createBottomBlock();var g=!1;this.heads.length>0&&r.each(this.heads,function(b){var v=this;!g&&["asc","desc"].indexOf(v.sortDir)>-1&&(g=!0,t.sort.colIndex=b,t.sort.dir=v.sortDir)}),g&&(p=o.find("thead th"),this._resetSortClass(p),r(p.get(this.sort.colIndex+t.service.length)).addClass("sort-"+this.sort.dir),this.sorting());var h;l.isValue(i.filters)&&typeof i.filters=="string"&&r.each(i.filters.toArray(),function(){h=l.isFunc(this),h!==!1&&t.filtersIndexes.push(t.addFilter(h))}),this.currentPage=1,this._draw()},_resetSortClass:function(t){r(t).removeClass("sort-asc sort-desc")},_createEvents:function(){var t=this,o=this.element,i=this.options,p=o.closest(".table-component"),c=p.find(".table-container"),d=p.find(".table-search-block input"),m=i.skipWrapper?r(i.skipWrapper).find(".table-skip-button"):p.find(".table-skip-button"),f=i.skipWrapper?r(i.skipWrapper).find(".table-skip-input"):p.find(".table-skip-input"),u,g=o.attr("id"),h=p.find(".inspector-button");h.on(e.events.click,function(){t.toggleInspector()}),m.on(e.events.click,function(){var k=parseInt(f.val().trim());if(isNaN(k)||k<=0||k>t.pagesCount)return f.val(""),!1;f.val(""),t._fireEvent("skip",{skipTo:k,skipFrom:t.currentPage}),t.page(k)}),r(globalThis).on(e.events.resize,function(){i.horizontalScroll===!0&&(!l.isNull(i.horizontalScrollStop)&&l.mediaExist(i.horizontalScrollStop)?c.removeClass("horizontal-scroll"):c.addClass("horizontal-scroll"))},{ns:this.id}),o.on(e.events.click,".sortable-column",function(){if(i.muteTable===!0&&o.addClass("disabled"),t.busy)return!1;t.busy=!0;var k=r(this);t.activity.show(function(){setImmediate(function(){t.currentPage=1,t.sort.colIndex=k.data("index"),!k.hasClass("sort-asc")&&!k.hasClass("sort-desc")?t.sort.dir=i.sortDir:k.hasClass("sort-asc")?t.sort.dir="desc":t.sort.dir="asc",t._resetSortClass(o.find(".sortable-column")),k.addClass("sort-"+t.sort.dir),t.sorting(),t._draw(function(){t.busy=!1,i.muteTable===!0&&o.removeClass("disabled")})})})}),o.on(e.events.click,".table-service-check input",function(){var k=r(this),w=k.is(":checked"),T=""+k.val(),_=i.checkStoreKey.replace("$1",g),y=e.storage,C=y.getItem(_),z=k.attr("type")==="radio";z&&(C=[]),w?l.isValue(C)?Array(C).indexOf(T)===-1&&C.push(T):C=[T]:l.isValue(C)?l.arrayDelete(C,T):C=[],y.setItem(_,C),t._fireEvent("check-click",{check:this,status:w,data:C})}),o.on(e.events.click,".table-service-check-all input",function(){var k=r(this).is(":checked"),w=i.checkStoreKey.replace("$1",g),T=e.storage,_=[],y;i.useCurrentSlice===!0?(y=T.getItem(w,[]),k?r.each(t.currentSlice,function(){y.indexOf(""+this[i.checkColIndex])===-1&&y.push(""+this[i.checkColIndex])}):r.each(t.currentSlice,function(){var C=""+this[i.checkColIndex];y.indexOf(C)!==-1&&e.utils.arrayDelete(y,C)}),_=y):k?r.each(t.filteredItems,function(){_.indexOf(this[i.checkColIndex])===-1&&_.push(""+this[i.checkColIndex])}):_=[],T.setItem(w,_),t._draw(),t._fireEvent("check-click-all",{check:this,status:k,data:_})});var b=function(){t.searchString=this.value.trim().toLowerCase(),t.currentPage=1,t._draw()};b=Hooks.useDebounce(b,i.searchThreshold),d.on(e.events.inputchange,b),l.isValue(this.wrapperSearch)&&(u=this.wrapperSearch.find("input"),u.length>0&&u.on(e.events.inputchange,b));function v(k){var w=r(k),T=w.parent();t.filteredItems.length!==0&&(T.hasClass("active")||(T.hasClass("service")?w.data("page")==="prev"?(t.currentPage--,t.currentPage===0&&(t.currentPage=1)):(t.currentPage++,t.currentPage>t.pagesCount&&(t.currentPage=t.pagesCount)):t.currentPage=w.data("page"),t._draw()))}p.on(e.events.click,".pagination .page-link",function(){v(this)}),l.isValue(this.wrapperPagination)&&this.wrapperPagination.on(e.events.click,".pagination .page-link",function(){v(this)}),this._createInspectorEvents(),o.on(e.events.click,".js-table-crud-button",function(){})},_createInspectorEvents:function(){var t=this,o=this.inspector;this._removeInspectorEvents(),o.on(e.events.click,".js-table-inspector-field-up",function(){var i=r(this),p=i.closest("tr"),c=p.prev("tr"),d=p.data("index"),m;c.length!==0&&(p.insertBefore(c),p.addClass("flash"),setTimeout(function(){p.removeClass("flash")},1e3),m=p.index(),p.data("index-view",m),t.view[d]["index-view"]=m,r.each(p.nextAll(),function(){var f=r(this);m++,f.data("index-view",m),t.view[f.data("index")]["index-view"]=m}),t._createTableHeader(),t._draw())}),o.on(e.events.click,".js-table-inspector-field-down",function(){var i=r(this),p=i.closest("tr"),c=p.next("tr"),d=p.data("index"),m;c.length!==0&&(p.insertAfter(c),p.addClass("flash"),setTimeout(function(){p.removeClass("flash")},1e3),m=p.index(),p.data("index-view",m),t.view[d]["index-view"]=m,r.each(p.prevAll(),function(){var f=r(this);m--,f.data("index-view",m),t.view[f.data("index")]["index-view"]=m}),t._createTableHeader(),t._draw())}),o.on(e.events.click,"input[type=checkbox]",function(){var i=r(this),p=i.is(":checked"),c=i.val(),d=["cls","clsColumn"];p?r.each(d,function(){var m;m=l.isValue(t.heads[c][this])?t.heads[c][this].toArray(" "):[],l.arrayDelete(m,"hidden"),t.heads[c][this]=m.join(" "),t.view[c].show=!0}):r.each(d,function(){var m;m=l.isValue(t.heads[c][this])?t.heads[c][this].toArray(" "):[],m.indexOf("hidden")===-1&&m.push("hidden"),t.heads[c][this]=m.join(" "),t.view[c].show=!1}),t._createTableHeader(),t._draw()}),o.find("input[type=number]").on(e.events.inputchange,function(){var i=r(this),p=i.attr("data-index"),c=parseInt(i.val());t.view[p].size=c===0?"":c,t._createTableHeader()}),o.on(e.events.click,".js-table-inspector-save",function(){t._saveTableView(),t.openInspector(!1)}),o.on(e.events.click,".js-table-inspector-cancel",function(){t.openInspector(!1)}),o.on(e.events.click,".js-table-inspector-reset",function(){t.resetView()})},_removeInspectorEvents:function(){var t=this.inspector;t.off(e.events.click,".js-table-inspector-field-up"),t.off(e.events.click,".js-table-inspector-field-down"),t.off(e.events.click,"input[type=checkbox]"),t.off(e.events.click,".js-table-inspector-save"),t.off(e.events.click,".js-table-inspector-cancel"),t.off(e.events.click,".js-table-inspector-reset"),t.off(e.events.inputchange,"input[type=number]")},_saveTableView:function(){var t=this,o=this.element,i=this.options,p=this.view,c=o.attr("id"),d=i.viewSavePath.replace("$1",c),m=e.storage;if(i.viewSaveMode.toLowerCase()==="client")m.setItem(d,p),this._fireEvent("view-save",{target:"client",path:i.viewSavePath,view:p});else{var f={id:o.attr("id"),view:p};fetch(d,{method:"POST",body:JSON.stringify(f),header:{"Content-type":"application/json;charset=utf-8"}}).then(e.fetch.status).then(e.fetch.text).then(function(u){t._fireEvent("view-save",{target:"server",path:i.viewSavePath,view:p,post_data:f,response:u})}).catch(function(u){t._fireEvent("data-save-error",{source:i.viewSavePath,error:u,post_data:f})})}},_info:function(t,o,i){var p=this.element,c=this.options,d=this.strings,m=p.closest(".table-component"),f=l.isValue(this.wrapperInfo)?this.wrapperInfo:m.find(".table-info"),u;f.length!==0&&(o>i&&(o=i),this.items.length===0&&(t=o=i=0),u=c.tableInfoTitle||d.table_info,u=u.replace("$1",t),u=u.replace("$2",o),u=u.replace("$3",i),f.html(u))},_paging:function(t){var o=this.element,i=this.options,p=this.strings,c=o.closest(".table-component");this.pagesCount=Math.ceil(t/i.rows),e.pagination({length:t,rows:i.rows,current:this.currentPage,target:l.isValue(this.wrapperPagination)?this.wrapperPagination:c.find(".table-pagination"),claPagination:i.clsPagination,prevTitle:i.paginationPrevTitle||p.label_prev,nextTitle:i.paginationNextTitle||p.label_next,distance:i.paginationDistance,islandSize:i.paginationIslandSize,shortTrack:i.paginationShortTrack})},_filter:function(){var t=this,o=this.options,i;return l.isValue(this.searchString)&&t.searchString.length>=o.searchMinLength||this.filters.length>0?i=this.items.filter(function(p){var c="",d,m,f,u=0;if(t.filters.length>0){for(d=o.filtersOperator.toLowerCase()==="and",f=0;f<t.filters.length;f++)l.isNull(t.filters[f])||(u++,d=o.filtersOperator.toLowerCase()==="and"?d&&l.exec(t.filters[f],[p,t.heads]):d||l.exec(t.filters[f],[p,t.heads]));u===0&&(d=!0)}else d=!0;return t.searchFields.length>0?r.each(t.heads,function(g,h){t.searchFields.indexOf(h.name)>-1&&(c+="\u2022"+p[g])}):c=p.join("\u2022"),c=c.replace(/[\n\r]+|[\s]{2,}/g," ").trim().toLowerCase(),m=l.isValue(t.searchString)&&t.searchString.length>=o.searchMinLength?~c.indexOf(t.searchString):!0,d=d&&m,d?t._fireEvent("filter-row-accepted",{row:p}):t._fireEvent("filter-row-declined",{row:p}),d}):i=this.items,this._fireEvent("search",{search:t.searchString,items:i}),this.filteredItems=i,i},_draw:function(t){var o=this,i=this.element,p=this.options,c=this.strings,d=i.find("tbody"),m,f,u,g,h,b,v,k,w=parseInt(p.rows)===-1?0:p.rows*(this.currentPage-1),T=parseInt(p.rows)===-1?this.items.length-1:w+p.rows-1,_,y=[],C=e.storage.getItem(p.checkStoreKey.replace("$1",i.attr("id"))),z=p.staticView?this.viewDefault:this.view;if(d.html(""),!this.heads.length){console.warn("Heads is not defined for table ID "+i.attr("id"));return}if(_=this._filter(),this.currentSlice=_.slice(w,T+1),y=[],_.length>0){for(m=w;m<=T;m++)if(b=_[m],v=[],!!l.isValue(b)){for(u=r("<tr>").addClass(p.clsBodyRow),u.data("original",b),k=m%2===0,g=r("<td>").attr("data-label","#").attr("aria-label","#").html(m+1),o.service[0].clsColumn!==void 0&&g.addClass(o.service[0].clsColumn),g.appendTo(u),g=r("<td>").attr("data-label","CHK").attr("aria-label","CHK"),p.checkType==="checkbox"?h=r("<input type='checkbox' data-style='"+p.checkStyle+"' data-role='checkbox' name='"+(l.isValue(p.checkName)?p.checkName:"table_row_check")+"[]' value='"+_[m][p.checkColIndex]+"'>"):h=r("<input type='radio' data-style='"+p.checkStyle+"' data-role='radio' name='"+(l.isValue(p.checkName)?p.checkName:"table_row_check")+"' value='"+_[m][p.checkColIndex]+"'>"),l.isValue(C)&&Array.isArray(C)&&C.indexOf(""+_[m][p.checkColIndex])>-1&&(h.prop("checked",!0),y.push(b)),h.addClass("table-service-check"),this._fireEvent("check-draw",{check:h}),h.appendTo(g),o.service[1].clsColumn!==void 0&&g.addClass(o.service[1].clsColumn),g.appendTo(u),f=0;f<b.length;f++)v[f]=null;for(r.each(b,function(A){var R=this,N=r("<td>").attr("data-label",o.heads[A].title).attr("aria-label",o.heads[A].title);l.isValue(o.heads[A].template)&&(R=o.heads[A].template.replace(/%VAL%/g,R)),N.html(R),N.addClass(p.clsBodyCell),l.isValue(o.heads[A].clsColumn)&&N.addClass(o.heads[A].clsColumn),l.bool(z[A].show)===!1&&N.addClass("hidden"),l.bool(z[A].show)&&N.removeClass("hidden"),N.data("original",this),v[z[A]["index-view"]]=N,o._fireEvent("draw-cell",{td:N,val:R,cellIndex:A,head:o.heads[A],items:b}),p.cellWrapper===!0&&(R=r("<div>").addClass("data-wrapper").addClass(p.clsCellWrapper).html(N.html()),N.html("").append(R))}),f=0;f<b.length;f++)v[f].appendTo(u),o._fireEvent("append-cell",{td:v[f],tr:u,index:f});o._fireEvent("draw-row",{tr:u,view:o.view,heads:o.heads,items:b}),u.addClass(p.clsRow).addClass(k?p.clsEvenRow:p.clsOddRow).appendTo(d),o._fireEvent("append-row",{tr:u})}r(this.component).find(".table-service-check-all input").prop("checked",y.length)}else f=0,r.each(z,function(){this.show&&f++}),p.check===!0&&f++,p.rownum===!0&&f++,u=r("<tr>").addClass(p.clsBodyRow).appendTo(d),g=r("<td>").attr("colspan",f).addClass("text-center").html(r("<span>").addClass(p.clsEmptyTableTitle).html(p.emptyTableTitle||c.label_empty)),g.appendTo(u);this._info(w+1,T+1,_.length),this._paging(_.length),this.activity&&this.activity.hide(),this._fireEvent("draw"),t!==void 0&&l.exec(t,null,i[0])},_getItemContent:function(t){var o=this.options,i=this.locale,p,c=t[this.sort.colIndex],d=this.heads[this.sort.colIndex].format,m=!l.isNull(this.heads)&&!l.isNull(this.heads[this.sort.colIndex])&&l.isValue(this.heads[this.sort.colIndex].formatMask)?this.heads[this.sort.colIndex].formatMask:"%Y-%m-%d",f=this.heads&&this.heads[this.sort.colIndex]&&this.heads[this.sort.colIndex].thousandSeparator?this.heads[this.sort.colIndex].thousandSeparator:o.thousandSeparator,u=this.heads&&this.heads[this.sort.colIndex]&&this.heads[this.sort.colIndex].decimalSeparator?this.heads[this.sort.colIndex].decimalSeparator:o.decimalSeparator;if(p=(""+c).toLowerCase().replace(/[\n\r]+|[\s]{2,}/g," ").trim(),l.isValue(p)&&l.isValue(d))switch(["number","int","float","money"].indexOf(d)!==-1&&(p=l.parseNumber(p,f,u)),d){case"date":p=m?Datetime.from(p,m,i):datetime(p);break;case"number":p=+p;break;case"int":p=parseInt(p);break;case"float":p=parseFloat(p);break;case"money":p=l.parseMoney(p);break;case"card":p=l.parseCard(p);break;case"phone":p=l.parsePhone(p);break}return p},addItem:function(t,o){if(!Array.isArray(t))return console.warn("Item is not an array and can't be added"),this;this.items.push(t),o!==!1&&this.draw()},addItems:function(t,o){if(!Array.isArray(t))return console.warn("Items is not an array and can't be added"),this;t.forEach(function(i){Array.isArray(i)&&this.items.push(i,!1)}),this.draw(),o!==!1&&this.draw()},updateItem:function(t,o,i){var p=this.items[this.index[t]],c=null;return l.isNull(p)?(console.warn("Item is undefined for update"),this):(isNaN(o)&&this.heads.forEach(function(d,m){d.name===o&&(c=m)}),l.isNull(c)?(console.warn("Item is undefined for update. Field "+o+" not found in data structure"),this):(p[c]=i,this.items[this.index[t]]=p,this))},getItem:function(t){return this.items[this.index[t]]},deleteItem:function(t,o){var i,p=[],c=l.isFunc(o);for(i=0;i<this.items.length;i++)c?l.exec(o,[this.items[i][t]])&&p.push(i):this.items[i][t]===o&&p.push(i);return this.items=l.arrayDeleteByMultipleKeys(this.items,p),this},deleteItemByName:function(t,o){var i,p,c=[],d=l.isFunc(o);for(i=0;i<this.heads.length;i++)if(this.heads[i].name===t){p=i;break}for(i=0;i<this.items.length;i++)d?l.exec(o,[this.items[i][p]])&&c.push(i):this.items[i][p]===o&&c.push(i);return this.items=l.arrayDeleteByMultipleKeys(this.items,c),this},draw:function(){return this._draw(),this},sorting:function(t){var o=this;return l.isValue(t)&&(this.sort.dir=t),this._fireEvent("sort-start",{items:this.items}),this.items.sort(function(i,p){var c=o._getItemContent(i),d=o._getItemContent(p),m=0;return c<d&&(m=o.sort.dir==="asc"?-1:1),c>d&&(m=o.sort.dir==="asc"?1:-1),m!==0&&o._fireEvent("sort-item-switch",{a:i,b:p,result:m}),m}),this._fireEvent("sort-stop",{items:this.items}),this},search:function(t){return this.searchString=t.trim().toLowerCase(),this.currentPage=1,this._draw(),this},_rebuild:function(t){var o=this,i=this.element,p=!1,c;this._createIndex(),t===!0&&(this.view=this._createView()),this._createTableHeader(),this._createTableBody(),this._createTableFooter(),this.heads.length>0&&r.each(this.heads,function(d){var m=this;!p&&["asc","desc"].indexOf(m.sortDir)>-1&&(p=!0,o.sort.colIndex=d,o.sort.dir=m.sortDir)}),p&&(c=i.find(".sortable-column"),this._resetSortClass(c),r(c.get(o.sort.colIndex)).addClass("sort-"+o.sort.dir),this.sorting()),o.currentPage=1,o._draw()},setHeads:function(t){return this.heads=t,this},setHeadItem:function(t,o){var i,p;for(i=0;i<this.heads.length;i++)if(this.heads[i].name===t){p=i;break}return this.heads[p]=o,this},setItems:function(t){return this.items=t,this},setData:function(t){var o=this,i=this.options;return this.activity.show(function(){o.items=[],o.heads=[],o.foots=[],Array.isArray(i.head)&&(o.heads=i.head),Array.isArray(i.body)&&(o.items=i.body),o._createItemsFromJSON(t),o._rebuild(!0),o.activity.hide()}),this},loadData:function(t,o){var i=this,p=this.element,c=this.options;l.isValue(o)||(o=!0),p.html(""),l.isValue(t)?(c.source=t,this._fireEvent("data-load",{source:c.source}),i.activity.show(function(){fetch(c.source).then(e.fetch.status).then(e.fetch.json).then(function(d){i.activity.hide(),i.items=[],i.heads=[],i.foots=[],i._fireEvent("data-loaded",{source:c.source,data:d}),Array.isArray(c.head)&&(i.heads=c.head),Array.isArray(c.body)&&(i.items=c.body),i._createItemsFromJSON(d),i._rebuild(o),i._resetInspector(),i._fireEvent("data-load-end",{source:c.source,data:d})}).catch(function(d){i.activity.hide(),i._fireEvent("data-load-error",{source:c.source,error:d})})})):this._rebuild(o)},reload:function(t){this.loadData(this.options.source,t)},clear:function(){return this.items=[],this.draw()},next:function(){if(this.items.length!==0){if(this.currentPage++,this.currentPage>this.pagesCount){this.currentPage=this.pagesCount;return}return this._draw(),this}},prev:function(){if(this.items.length!==0){if(this.currentPage--,this.currentPage===0){this.currentPage=1;return}return this._draw(),this}},first:function(){if(this.items.length!==0)return this.currentPage=1,this._draw(),this},last:function(){if(this.items.length!==0)return this.currentPage=this.pagesCount,this._draw(),this},page:function(t){return t<=0&&(t=1),t>this.pagesCount&&(t=this.pagesCount),this.currentPage=t,this._draw(),this},addFilter:function(t,o){var i=null,p,c=l.isFunc(t);if(c!==!1){for(p=0;p<this.filters.length;p++)if(l.isNull(this.filters[p])){i=p,this.filters[p]=c;break}return l.isNull(i)&&(this.filters.push(c),i=this.filters.length-1),o===!0&&(this.currentPage=1,this.draw()),i}},removeFilter:function(t,o){return this.filters[t]=null,o===!0&&(this.currentPage=1,this.draw()),this},removeFilters:function(t){return this.filters=[],t===!0&&(this.currentPage=1,this.draw()),this},getItems:function(){return this.items},getHeads:function(){return this.heads},getView:function(){return this.view},getFilteredItems:function(){return this.filteredItems.length>0?this.filteredItems:this.items},getSelectedItems:function(){var t=this.element,o=this.options,i=e.storage.getItem(o.checkStoreKey.replace("$1",t.attr("id"))),p=[];return l.isValue(i)?(r.each(this.items,function(){i.indexOf(""+this[o.checkColIndex])!==-1&&p.push(this)}),p):[]},getStoredKeys:function(){var t=this.element,o=this.options;return e.storage.getItem(o.checkStoreKey.replace("$1",t.attr("id")),[])},clearSelected:function(t){var o=this.element,i=this.options;e.storage.setItem(i.checkStoreKey.replace("$1",o.attr("id")),[]),o.find("table-service-check-all input").prop("checked",!1),t===!0&&this._draw()},getFilters:function(){return this.filters},getFiltersIndexes:function(){return this.filtersIndexes},openInspector:function(t){var o=this.inspector;t?o.show(0,function(){o.css({top:(r(globalThis).height()-o.outerHeight(!0))/2+pageYOffset,left:(r(globalThis).width()-o.outerWidth(!0))/2+pageXOffset}).data("open",!0)}):o.hide().data("open",!1)},closeInspector:function(){this.openInspector(!1)},toggleInspector:function(){this.openInspector(!this.inspector.data("open"))},resetView:function(){this.view=this._createView(),this._createTableHeader(),this._createTableFooter(),this._draw(),this._resetInspector(),this._saveTableView()},rebuildIndex:function(){this._createIndex()},getIndex:function(){return this.index},export:function(t,o,i,p){var c=e.export,d=this,m=this.options,f=document.createElement("table"),u=r("<thead>").appendTo(f),g=r("<tbody>").appendTo(f),h,b,v,k=[],w,T,_,y,C;if(typeof c.tableToCSV=="function"){for(o=l.isValue(o)?o.toLowerCase():"all-filtered",i=l.isValue(i)?i:l.elementId("table")+"-export.csv",T=r("<tr>"),v=this.heads,b=0;b<v.length;b++)k[b]=null;for(r.each(v,function(z){var A=this;l.bool(d.view[z].show)!==!1&&(_=r("<th>"),l.isValue(A.title)&&_.html(A.title),k[d.view[z]["index-view"]]=_)}),b=0;b<v.length;b++)l.isValue(k[b])&&k[b].appendTo(T);for(T.appendTo(u),o==="checked"?(w=this.getSelectedItems(),y=0,C=w.length-1):o==="view"?(w=this._filter(),y=parseInt(m.rows)===-1?0:m.rows*(this.currentPage-1),C=parseInt(m.rows)===-1?w.length-1:y+m.rows-1):o==="all"?(w=this.items,y=0,C=w.length-1):(w=this._filter(),y=0,C=w.length-1),h=y;h<=C;h++)if(l.isValue(w[h])){for(T=r("<tr>"),v=w[h],b=0;b<v.length;b++)k[b]=null;for(r.each(v,function(z){l.bool(d.view[z].show)!==!1&&(_=r("<td>").html(this),k[d.view[z]["index-view"]]=_)}),b=0;b<v.length;b++)l.isValue(k[b])&&k[b].appendTo(T);T.appendTo(g)}c.tableToCSV(f,i,p),f.remove()}},changeAttribute:function(t){var o=this,i=this.element,p=this.options;function c(){p.check=l.bool(i.attr("data-check")),o._service(),o._createTableHeader(),o._draw()}function d(){p.rownum=l.bool(i.attr("data-rownum")),o._service(),o._createTableHeader(),o._draw()}switch(t){case"data-check":c();break;case"data-rownum":d();break}},destroy:function(){var t=this.element,o=t.closest(".table-component"),i=o.find("input"),p=o.find("select");if(i.data("input").destroy(),p.data("select").destroy(),r(globalThis).off(e.events.resize,{ns:this.id}),t.off(e.events.click,".sortable-column"),t.off(e.events.click,".table-service-check input"),t.off(e.events.click,".table-service-check-all input"),i.off(e.events.inputchange),l.isValue(this.wrapperSearch)){var c=this.wrapperSearch.find("input");c.length>0&&c.off(e.events.inputchange)}return o.off(e.events.click,".pagination .page-link"),l.isValue(this.wrapperPagination)&&this.wrapperPagination.off(e.events.click,".pagination .page-link"),t.off(e.events.click,".js-table-crud-button"),this._removeInspectorEvents(),t}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={wheelStep:20,materialtabsDeferred:0,deep:!1,fixedTabs:!1,duration:300,appBar:!1,clsComponent:"",clsTabs:"",clsTab:"",clsTabActive:"",clsMarker:"",onBeforeTabOpen:e.noop_true,onTabOpen:e.noop,onTabsScroll:e.noop,onTabsCreate:e.noop};e.materialTabsSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroMaterialTabsSetup!==void 0&&e.materialTabsSetup(globalThis.metroMaterialTabsSetup),e.Component("material-tabs",{init:function(t,o){return this._super(o,t,a,{marker:null,scroll:0,scrollDir:"left"}),this},_create:function(){var t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("tabs-create",{element:t})},_createStructure:function(){var t=this.element,o=this.options,i=t.find("li"),p=t.find("li.active"),c=r("<div>").addClass("tabs-material-wrapper").addClass(o.clsComponent).insertBefore(t);o.appBar===!0&&c.addClass("app-bar-present"),o.appBar==="more"&&c.addClass("app-bar-present-more"),t.appendTo(c),t.addClass("tabs-material").addClass(o.clsTabs),i.addClass(o.clsTab),o.deep===!0&&t.addClass("deep"),o.fixedTabs===!0&&t.addClass("fixed-tabs"),this.marker=t.find(".tab-marker"),this.marker.length===0&&(this.marker=r("<span>").addClass("tab-marker").addClass(o.clsMarker).appendTo(t)),this.openTab(p.length===0?i[0]:p[0])},_createEvents:function(){var t=this,o=this.element,i=this.options;o.on(e.events.click,"li",function(p){var c=r(this),d=o.find("li.active"),m=c.index()>d.index(),f=c.children("a").attr("href");if(p.preventDefault(),l.isValue(f)&&f[0]==="#"){if(c.hasClass("active")||c.hasClass("disabled")||l.exec(i.onBeforeTabOpen,[c,f,m],this)===!1)return;t.openTab(c,m)}}),o.on(e.events.scroll,function(){var p=t.scroll;t.scrollDir=t.scroll<o[0].scrollLeft?"left":"right",t.scroll=o[0].scrollLeft,t._fireEvent("tabs-scroll",{scrollLeft:o[0].scrollLeft,oldScroll:p,scrollDir:t.scrollDir})}),o.on(e.events.mousewheel,function(p){if(p.deltaY!==void 0){var c,d=r(this),m=p.deltaY>0?-1:1,f=i.wheelStep;c=d.scrollLeft()-m*f,d.scrollLeft(c)}},{passive:!0})},openTab:function(t,o){var i=this.element,p=this.options,c=i.find("li"),d=52,m,f,u,g,h,b,v;t=r(t),r.each(c,function(){var k=r(this).find("a").attr("href");l.isValue(k)&&k[0]==="#"&&k.length>1&&r(k).hide()}),f=i.width(),b=i.scrollLeft(),h=t.position().left,u=t.width(),m=h+u,c.removeClass("active").removeClass(p.clsTabActive),t.addClass("active").addClass(p.clsTabActive),m+d>f+b?v=b+d*2:h<b?v=h-d*2:v=b,i.animate({draw:{scrollLeft:v},dur:p.duration}),this.marker.animate({draw:{left:h,width:u},dur:p.duration}),g=t.find("a").attr("href"),l.isValue(g)&&g[0]==="#"&&g.length>1&&r(g).show(),this._fireEvent("tab-open",{tab:t[0],target:g,tab_next:o})},open:function(t){var o=this.element,i=o.find("li"),p=o.find("li.active"),c=i.eq(t-1),d=i.index(c)>i.index(p);this.openTab(c,d)},changeAttribute:function(){},destroy:function(){var t=this.element;return t.off(e.events.click,"li"),t.off(e.events.scroll),t}})})(Metro,Dom);(function(e,r){"use strict";let l={autocomplete:null,autocompleteUnique:!0,autocompleteUrl:null,autocompleteUrlMethod:"GET",autocompleteUrlKey:null,autocompleteDivider:",",autocompleteListHeight:200,label:"",size:"normal",taginputDeferred:0,static:!1,clearButton:!0,clearButtonIcon:"\u274C",randomColor:!1,maxTags:0,tagSeparator:",",tagTrigger:"Enter, Space, Comma",backspace:!0,clsComponent:"",clsInput:"",clsClearButton:"",clsTag:"",clsTagTitle:"",clsTagAction:"",clsLabel:"",onBeforeTagAdd:e.noop_true,onTagAdd:e.noop,onBeforeTagRemove:e.noop_true,onTagRemove:e.noop,onTag:e.noop,onClear:e.noop,onTagTrigger:e.noop,onTagInputCreate:e.noop};e.tagInputSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroTagInputSetup!==void 0&&e.tagInputSetup(globalThis.metroTagInputSetup),e.Component("tag-input",{init:function(a,t){return this._super(t,a,l,{values:[],triggers:[],autocomplete:[]}),this},_create:function(){this.triggers=(""+this.options.tagTrigger).toArray(","),(this.triggers.includes("Space")||this.triggers.includes("Spacebar"))&&(this.triggers.push(" "),this.triggers.push("Spacebar")),this.triggers.includes("Comma")&&this.triggers.push(","),this._createStructure(),this._createEvents(),this._fireEvent("tag-input-create",{element:this.element})},_createStructure:function(){let a=this,t=this.element,o=this.options,i,p,c,d=t.val().trim();if(i=t.wrap("<div>").addClass("tag-input "+t[0].className).addClass(o.clsComponent),i.addClass("input-"+o.size),t[0].className="",t.addClass("original-input"),p=r("<input type='text'>").addClass("input-wrapper").addClass(o.clsInput).attr("size",1),p.appendTo(i),o.clearButton!==!1&&!t[0].readOnly&&(i.addClass("padding-for-clear"),c=r("<button>").addClass("button input-clear-button").attr("tabindex",-1).attr("type","button").html(o.clearButtonIcon),c.appendTo(i)),e.utils.isValue(d)&&r.each(d.toArray(o.tagSeparator),function(){a._addTag(this)}),o.label){let m=r("<label>").addClass("label-for-input").addClass(o.clsLabel).html(o.label).insertBefore(i);if(t.attr("id"))m.attr("for",t.attr("id"));else{let f=Hooks.useId(t[0]);m.attr("for",f),t.attr("id",f)}t.attr("dir")==="rtl"&&m.addClass("rtl")}if(t.is(":disabled")?this.disable():this.enable(),(o.static===!0||t.attr("readonly")!==void 0)&&i.addClass("static-mode"),(!e.utils.isNull(o.autocomplete)||!e.utils.isNull(o.autocompleteUrl))&&r("<div>").addClass("autocomplete-list").css({maxHeight:o.autocompleteListHeight,display:"none"}).appendTo(i),e.utils.isValue(o.autocomplete)){let m=e.utils.isObject(o.autocomplete);m!==!1?this.autocomplete=m:this.autocomplete=o.autocomplete.toArray(o.autocompleteDivider)}e.utils.isValue(o.autocompleteUrl)&&fetch(o.autocompleteUrl,{method:o.autocompleteUrlMethod}).then(function(m){return m.text()}).then(function(m){var f=[];try{f=JSON.parse(m),o.autocompleteUrlKey&&(f=f[o.autocompleteUrlKey])}catch{f=m.split(`
`)}a.autocomplete=a.autocomplete.concat(f)})},_createEvents:function(){let a=this,t=this.element,o=this.options,i=t.closest(".tag-input"),p=i.find(".input-wrapper"),c=i.find(".autocomplete-list");p.on(e.events.focus,function(){i.addClass("focused")}),p.on(e.events.blur,function(){i.removeClass("focused")}),p.on(e.events.inputchange,function(){p.attr("size",Math.ceil(p.val().length/2)+2)}),p.on(e.events.keydown,function(d){var m=p.val().trim(),f=d.key;if(f==="Enter"&&d.preventDefault(),o.backspace===!0&&f==="Backspace"&&m.length===0){a.values.length>0&&(a.values.splice(-1,1),t.siblings(".tag").last().remove(),t.val(a.values.join(o.tagSeparator)));return}m!==""&&a.triggers.includes(f)&&(a._fireEvent("tag-trigger",{key:f}),p.val(""),a._addTag(m),p.attr("size",1))}),p.on(e.events.keyup,function(d){let m=p.val(),f=d.key;a.triggers.includes(f)&&m[m.length-1]===f&&p.val(m.slice(0,-1))}),i.on(e.events.click,".tag .action",function(){let d=r(this).closest(".tag");a._delTag(d)}),i.on(e.events.click,function(){p.focus()}),i.on(e.events.click,".input-clear-button",function(){let d=t.val();a.clear(),a._fireEvent("clear",{val:d})}),p.on(e.events.input,function(){let d=this.value.toLowerCase();a._drawAutocompleteList(d)}),i.on(e.events.click,".autocomplete-list .item",function(){let d=r(this).attr("data-autocomplete-value");p.val(""),a._addTag(d),p.attr("size",1),c.css({display:"none"}),a._fireEvent("autocomplete-select",{value:d})})},_drawAutocompleteList:function(a){let t=this,o=this.element,i=this.options,p=o.closest(".tag-input"),c=p.find(".input-wrapper"),d=p.find(".autocomplete-list"),m;d.length!==0&&(d.html(""),m=this.autocomplete.filter(function(f){return f.toLowerCase().indexOf(a)>-1}),d.css({display:m.length>0?"block":"none",left:c.position().left}),r.each(m,function(){if(i.autocompleteUnique&&t.values.indexOf(this)!==-1)return;let f=this,u=f.toLowerCase().indexOf(a),g,h=r("<div>").addClass("item").attr("data-autocomplete-value",f);u===0?g="<strong>"+f.substr(0,a.length)+"</strong>"+f.substr(a.length):g=f.substr(0,u)+"<strong>"+f.substr(u,a.length)+"</strong>"+f.substr(u+a.length),h.html(g).appendTo(d),t._fireEvent("draw-autocomplete-item",{item:h})}))},_addTag:function(a){let t=this.element,o=this.options,i=t.closest(".tag-input"),p=i.find(".input-wrapper"),c,d,m,f,u;if(i.hasClass("input-large")?f="large":i.hasClass("input-small")&&(f="small"),!(o.maxTags>0&&this.values.length===o.maxTags)&&(""+a).trim()!==""&&e.utils.exec(o.onBeforeTagAdd,[a,this.values],t[0])){if(c=r("<span>").addClass("tag").addClass(f).addClass(o.clsTag).insertBefore(p),c.data("value",a),u=o.static||i.hasClass("static-mode")||t.readonly||t.disabled||i.hasClass("disabled"),u&&c.addClass("static"),d=r("<span>").addClass("title").addClass(o.clsTagTitle).html(a),m=r("<span>").addClass("action").addClass(o.clsTagAction).html("&times;"),d.appendTo(c),m.appendTo(c),o.randomColor===!0){let g=Object.values(Object.assign({},Farbe.StandardColors,Farbe.MetroColors)),h,b,v;h=g[r.random(0,g.length-1)],v=Farbe.Routines.darken(h,15),b=Farbe.Routines.isDark(h)?"#ffffff":"#000000",c.css({backgroundColor:h,color:b}),m.css({backgroundColor:v,color:b})}this.values.push(a),t.val(this.values.join(o.tagSeparator)),this._fireEvent("tag-add",{tag:c[0],val:a,values:this.values}),this._fireEvent("tag",{tag:c[0],val:a,values:this.values})}},_delTag:function(a){let t=this.element,o=this.options,i=a.data("value");e.utils.exec(o.onBeforeTagRemove,[a,i,this.values],t[0])&&(e.utils.arrayDelete(this.values,i),t.val(this.values.join(o.tagSeparator)),this._fireEvent("tag-remove",{tag:a[0],val:i,values:this.values}),this._fireEvent("tag",{tag:a[0],val:i,values:this.values}),a.remove())},tags:function(){return this.values},val:function(a){let t=this,o=this.element,i=this.options,p=o.closest(".tag-input"),c=[];return e.utils.isValue(a)?(this.values=[],p.find(".tag").remove(),typeof a=="string"?c=(""+a).toArray(i.tagSeparator):Array.isArray(a)&&(c=a),r.each(c,function(){t._addTag(this)}),this):this.tags()},append:function(a){let t=this,o=this.options,i=this.values;return typeof a=="string"?i=(""+a).toArray(o.tagSeparator):Array.isArray(a)&&(i=a),r.each(i,function(){t._addTag(this)}),this},clear:function(){let a=this.element,t=a.closest(".tag-input");return this.values=[],a.val("").trigger("change"),t.find(".tag").remove(),this},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggleStatic:function(a){let t=this.element.closest(".tag-input"),o;e.utils.isValue(a)?o=e.utils.bool(a):o=!t.hasClass("static-mode"),o?t.addClass("static-mode"):t.removeClass("static-mode")},setAutocompleteList:function(a){let t=e.utils.isObject(a);t!==!1?this.autocomplete=t:typeof a=="string"&&(this.autocomplete=a.toArray(this.options.autocompleteDivider))},changeAttribute:function(a){let t=this,o=this.element,i=this.options,p=function(){var c=o.attr("value").trim();t.clear(),e.utils.isValue(c)&&t.val(c.toArray(i.tagSeparator))};switch(a){case"value":p();break;case"disabled":this.toggleState();break;case"static":this.toggleStatic();break}},destroy:function(){let a=this.element,t=this.options,o=a.closest(".tag-input"),i=o.find(".input-wrapper");i.off(e.events.focus),i.off(e.events.blur),i.off(e.events.keydown),o.off(e.events.click,".tag .action"),o.off(e.events.click),t.label&&o.prev("label").remove(),o.remove()}}),r(document).on(e.events.click,function(){r(".tag-input .autocomplete-list").hide()})})(Metro,Dom);(function(e,r){"use strict";let l={onTaskClick:e.noop,onMyObjectCreate:e.noop};e.taskBarSetup=function(a){l=r.extend({},l,a)},typeof window.metroTaskBarSetup!==void 0&&e.taskBarSetup(window.metroTaskBarSetup),e.Component("task-bar",{init:function(a,t){return this._super(t,a,l,{tasks:[],systemTray:[],widgets:[]}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("task-bar-create")},_createStructure:function(){let a=this,t=this.element,o=this.options;t.addClass("task-bar"),t.append(r("<div>").addClass("widgets")),t.append(r("<div>").addClass("tasks")),t.append(r("<div>").addClass("system-tray"))},_createEvents:function(){let a=this,t=this.element,o=this.options;t.on(e.events.click,".task",function(){let i=a.tasks[r(this).index()];for(let p of a.tasks)p.active=!1;i.active=!0,a._renderTasks(),a._fireEvent("task-click",{task:i,element:i.ref})}),t.on(e.events.click,".system-tray-item",function(){let i=a.systemTray[r(this).index()];a._fireEvent("system-tray-click",{item:i})}),t.on(e.events.click,".widget",function(){let i=a.widgets[r(this).index()];a._fireEvent("widget-click",{item:i})})},_renderTasks:function(){let a=this,t=this.element,o=this.options,i=t.find(".tasks").clear();for(let p of this.tasks){let c=r("<div>").addClass("task").attr("title",p.title).html(p.icon);p.active&&c.addClass("active"),i.append(c)}},_renderSystemTray:function(){let a=this,t=this.element,o=this.options,i=t.find(".system-tray").clear();for(let p of this.systemTray)i.append(r(p).addClass("system-tray-item"))},_renderWidgets:function(){let a=this,t=this.element,o=this.options,i=t.find(".widgets").clear();for(let p of this.widgets)i.append(r(p).addClass("widget"))},addTask:function(a,t=!1){if(t)for(let o of this.tasks)o.active=!1;this.tasks.push({...a,active:t}),this._renderTasks()},removeTask:function(a){this.tasks=this.tasks.filter(t=>t.ref!==a),this._renderTasks()},activateTask:function(a){let t=this.tasks.filter(i=>i.ref===a);if(t.length===0)return;let o=t[0];for(let i of this.tasks)i.active=!1;o.active=!0,this._renderTasks()},addToSystemTray:function(a){this.systemTray.push(a),this._renderSystemTray()},addWidget:function(a){this.widgets.push(a),this._renderWidgets()},changeAttribute:function(a,t){},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a=function(o,i,p){var c,d="<%(.+?)%>",m=/(^( )?(var|if|for|else|switch|case|break|{|}|;))(.*)?/g,f=`with(obj) { var r=[];
`,u=0,g,h,b=function(v,k){return k?f+=v.match(m)?v+`
`:"r.push("+v+`);
`:f+=v!==""?'r.push("'+v.replace(/"/g,'\\"')+`");
`:"",b};for(l.isValue(p)&&(r.hasProp(p,"beginToken")&&(d=d.replace("<%",p.beginToken)),r.hasProp(p,"endToken")&&(d=d.replace("%>",p.endToken))),c=new RegExp(d,"g"),h=c.exec(o);h;)b(o.slice(u,h.index))(h[1],!0),u=h.index+h[0].length,h=c.exec(o);b(o.substr(u,o.length-u)),f=(f+'return r.join(""); }').replace(/[\r\t\n]/g," ");try{g=new Function("obj",f).apply(i,[i])}catch(v){console.error("'"+v.message+"'",` in 

Code:
`,f,`
`)}return g},t={templateData:null,onTemplateCompile:e.noop,onTemplateCreate:e.noop};e.templateSetup=function(o){t=r.extend({},t,o)},typeof globalThis.metroTemplateSetup!==void 0&&e.templateSetup(globalThis.metroTemplateSetup),e.Component("template",{init:function(o,i){return this._super(i,o,t,{template:null,data:{}}),this},_compile:function(){var o=this.element,i,p;i=this.template.replace(/(&lt;%)/gm,"<%").replace(/(%&gt;)/gm,"%>").replace(/(&lt;)/gm,"<").replace(/(&gt;)/gm,">"),p=a(i,this.data),o.html(p),this._fireEvent("template-compile",{template:i,compiled:p,element:o})},_create:function(){var o=this.element,i=this.options;this.template=o.html(),this.data=l.isObject(i.templateData)||{},this._compile(),this._fireEvent("template-create",{element:o})},buildWith:function(o){var i=l.isObject(o);i&&(this.data=i,this._compile())},changeAttribute:function(o,i){o==="data-template-data"&&(this.options.templateData=i,this.data=l.isObject(i)||{},this._compile())},destroy:function(){return this.element}}),e.template=a})(Metro,Dom);(function(e,r){"use strict";let l={label:"",textareaDeferred:0,charsCounter:null,charsCounterTemplate:"$1",defaultValue:"",prepend:"",append:"",clearButton:!0,clearButtonIcon:"\u274C",autoSize:!0,maxHeight:0,clsPrepend:"",clsAppend:"",clsComponent:"",clsTextarea:"",clsLabel:"",onChange:e.noop,onTextareaCreate:e.noop};e.textareaSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroTextareaSetup!==void 0&&e.textareaSetup(globalThis.metroTextareaSetup),e.Component("textarea",{init:function(a,t){return this._super(t,a,l),this},_create:function(){let a=this.element;this._createStructure(),this._createEvents(),this._fireEvent("textarea-create",{element:a})},_createStructure:function(){let a=this,t=this.element,o=this.elem,i=this.options,p=r("<div>").addClass("textarea "+t[0].className),c=r("<textarea>").addClass("fake-textarea"),d;if(p.insertBefore(t),t.appendTo(p),c.appendTo(p),i.clearButton!==!1&&!t[0].readOnly&&(d=r("<button>").addClass("button input-clear-button").attr("tabindex",-1).attr("type","button").html(i.clearButtonIcon),d.appendTo(p)),t.attr("dir")==="rtl"&&p.addClass("rtl").attr("dir","rtl"),i.prepend!==""&&r("<div>").html(i.prepend).addClass("prepend").addClass(i.clsPrepend).appendTo(p),i.append!==""){let m=r("<div>").html(i.append);m.addClass("append").addClass(i.clsAppend).appendTo(p),d.css({right:m.outerWidth()+4})}if(o.className="",e.utils.isValue(i.defaultValue)&&t.val().trim()===""&&t.val(i.defaultValue),p.addClass(i.clsComponent),t.addClass(i.clsTextarea),i.label){let m=r("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(p);if(t.attr("id"))m.attr("for",t.attr("id"));else{let f=Hooks.useId(t[0]);m.attr("for",f),t.attr("id",f)}t.attr("dir")==="rtl"&&m.addClass("rtl")}t.is(":disabled")?this.disable():this.enable(),c.val(t.val()),i.autoSize===!0&&(p.addClass("autosize no-scroll-vertical"),setTimeout(function(){a.resize()},100)),this.component=p},_createEvents:function(){let a=this,t=this.element,o=this.options,i=t.closest(".textarea"),p=i.find(".fake-textarea"),c=r(o.charsCounter);i.on(e.events.click,".input-clear-button",function(d){t.val(e.utils.isValue(o.defaultValue)?o.defaultValue:"").trigger("change").trigger("keyup").focus(),d.preventDefault(),d.stopPropagation()}),o.autoSize&&t.on(e.events.inputchange+" "+e.events.keyup,function(){p.val(this.value),a.resize()}),t.on(e.events.blur,function(){i.removeClass("focused")}),t.on(e.events.focus,function(){i.addClass("focused")}),t.on(e.events.keyup,function(){e.utils.isValue(o.charsCounter)&&c.length>0&&(c[0].tagName==="INPUT"?c.val(a.length()):c.html(o.charsCounterTemplate.replace("$1",a.length()))),a._fireEvent("change",{val:t.val(),length:a.length()})})},resize:function(){let a=this.element,t=this.options,o=a.closest(".textarea"),i=o.find(".fake-textarea"),p=i[0].scrollHeight;if(t.maxHeight&&p>=t.maxHeight){o.removeClass("no-scroll-vertical");return}t.maxHeight&&p<t.maxHeight&&o.addClass("no-scroll-vertical"),i[0].style.cssText="height:auto;",i[0].style.cssText="height:"+i[0].scrollHeight+"px",a[0].style.cssText="height:"+i[0].scrollHeight+"px"},clear:function(){this.element.val("").trigger("change").trigger("keyup").focus()},toDefault:function(){this.element.val(e.utils.isValue(this.options.defaultValue)?this.options.defaultValue:"").trigger("change").trigger("keyup").focus()},length:function(){var a=this.elem.value.split("");return a.length},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(a){switch(a){case"disabled":this.toggleState();break}},destroy:function(){let a=this.element,t=this.options;a.closest(".textarea").off(e.events.click,".input-clear-button"),t.autoSize&&a.off(e.events.inputchange+" "+e.events.keyup),a.off(e.events.blur),a.off(e.events.focus),a.off(e.events.keyup),t.label&&this.component.prev("label").remove(),this.component.remove()}})})(Metro,Dom);(function(e,r){"use strict";let l={state:e.theme.LIGHT,target:"html",saveState:!0,saveStateKey:"THEME:SWITCHER",clsDark:"",darkSymbol:"\u{1F319}",lightSymbol:"\u{1F31E}",mode:"switch",onThemeSwitcherCreate:e.noop,onChangeTheme:e.noop};e.themeSwitcherSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroThemeSwitcherSetup!==void 0&&e.themeSwitcherSetup(globalThis.metroThemeSwitcherSetup),e.Component("theme-switcher",{init:function(a,t){return this._super(t,a,l,{container:null,state:null,target:null}),this.state=this.options.state,this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("theme-switcher-create")},_createStructure:function(){let a=this.element,t=this.options,o="light";t.saveState&&(o=e.storage.getItem(t.saveStateKey,!1)),a.attr("data-light-symbol",t.lightSymbol),a.attr("data-dark-symbol",t.darkSymbol),e.makePlugin(a,"switch"),this.container=a.wrap(r("<label>").addClass("theme-switcher")),this.container.addClass(`mode-${t.mode}`),this.target=r(t.target),this.target.length===0&&(this.target=r("html")),this._setState(t.saveState?o:t.state===e.theme.DARK),this._updateState()},_createEvents:function(){this.container.on("click",()=>{this._updateState()}),this._observeClass()},_observeClass:function(){new MutationObserver(t=>{t.forEach(o=>{o.type==="attributes"&&o.attributeName==="class"&&(this.elem.checked=this.target[0].classList.contains("dark-side"))})}).observe(this.target[0],{attributes:!0,attributeFilter:["class"]})},_setState:function(a=!1){this.elem.checked=a},_updateState:function(){let a=r.meta("metro:theme").length>0,t=this.options,o=this.elem,i=this.target;a||(o.checked?i.addClass("dark-side").addClass(this.options.clsDark):i.removeClass("dark-side").addClass(this.options.clsDark),t.saveState&&e.storage.setItem(t.saveStateKey,o.checked),this._fireEvent("change-theme",{state:o.checked}))},val:function(a){if(typeof a===void 0)return this.elem.checked?e.theme.DARK:e.theme.LIGHT;this._setState(typeof a=="boolean"?a:a===e.theme.DARK),this._updateState()},changeAttribute:function(a,t){a==="data-target"&&(this.target=r(t),this._updateState())},destroy:function(){this.container.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a=["slide-up","slide-down","slide-left","slide-right","fade","zoom","swirl","switch"],t={tileDeferred:0,size:"medium",cover:"",coverPosition:"center",effect:"",effectInterval:3e3,effectDuration:500,target:null,canTransform:!0,onTileClick:e.noop,onTileCreate:e.noop};e.tileSetup=function(o){t=r.extend({},t,o)},typeof globalThis.metroTileSetup!==void 0&&e.tileSetup(globalThis.metroTileSetup),e.Component("tile",{init:function(o,i){return this._super(i,o,t,{effectInterval:!1,images:[],slides:[],currentSlide:-1,unload:!1}),this},_create:function(){var o=this.element;this._createTile(),this._createEvents(),this._fireEvent("tile-create",{element:o})},_createTile:function(){function o(v,k,w){setTimeout(function(){v.fadeOut(500,function(){v.css("background-image","url("+k+")"),v.fadeIn()})},w*300)}var i=this,p=this.element,c=this.options,d=p.find(".slide"),m=p.find(".slide-front, .slide-back");if(p.addClass("tile-"+c.size),c.effect.indexOf("hover-")>-1&&(p.addClass("effect-"+c.effect),r.each(m,function(){var v=r(this);v.data("cover")!==void 0&&i._setCover(v,v.data("cover"),v.data("cover-position"))})),a.includes(c.effect)&&d.length>1&&(r.each(d,function(v){var k=r(this);i.slides.push(this),k.data("cover")!==void 0&&i._setCover(k,k.data("cover"),k.data("cover-position")),v>0&&(["slide-up","slide-down"].indexOf(c.effect)>-1&&k.css("top","100%"),["slide-left","slide-right"].indexOf(c.effect)>-1&&k.css("left","100%"),["fade","zoom","swirl","switch"].indexOf(c.effect)>-1&&k.css("opacity",0))}),this.currentSlide=0,this._runEffects()),c.cover!==""&&this._setCover(p,c.cover),c.effect==="image-set"){p.addClass("image-set"),r.each(p.children("img"),function(){i.images.push(this),r(this).remove()});for(var f=this.images.slice(),u=0;u<5;u++){var g=r.random(0,f.length-1),h=r("<div>").addClass("img -js-img-"+u).css("background-image","url("+f[g].src+")");p.prepend(h),f.splice(g,1)}var b=[0,1,4,3,2];setInterval(function(){var v=i.images.slice(),k=Farbe.Routines.randomColor();p.css("background-color",k);for(var w=0;w<b.length;w++){var T=r.random(0,v.length-1),_=p.find(".-js-img-"+b[w]);o(_,v[T].src,w),v.splice(T,1)}b=b.reverse()},5e3)}},_runEffects:function(){var o=this,i=this.options;this.effectInterval===!1&&(this.effectInterval=setInterval(function(){var p,c;p=r(o.slides[o.currentSlide]),o.currentSlide++,o.currentSlide===o.slides.length&&(o.currentSlide=0),c=o.slides[o.currentSlide],a.includes(i.effect)&&e.Effects[Str.camelCase(i.effect)](r(p)[0],r(c)[0],{duration:i.effectDuration})},i.effectInterval))},_stopEffects:function(){r.clearInterval(this.effectInterval),this.effectInterval=!1},_setCover:function(o,i,p){l.isValue(p)||(p=this.options.coverPosition),o.css({backgroundImage:"url("+i+")",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:p})},_createEvents:function(){var o=this,i=this.element,p=this.options;i.on(e.events.startAll,function(c){var d=r(this),m={w:i.width(),h:i.height()},f=l.pageXY(c).x-d.offset().left,u=l.pageXY(c).y-d.offset().top,g;l.isRightMouse(c)===!1&&(f<m.w*1/3&&(u<m.h*1/2||u>m.h*1/2)?g="left":f>m.w*2/3&&(u<m.h*1/2||u>m.h*1/2)?g="right":f>m.w*1/3&&f<m.w*2/3&&u>m.h/2?g="bottom":g="top",p.canTransform===!0&&d.addClass("transform-"+g),p.target!==null&&setTimeout(function(){document.location.href=p.target},100),o._fireEvent("tile-click",{side:g}))}),i.on([e.events.stopAll,e.events.leave].join(" "),function(){r(this).removeClass("transform-left").removeClass("transform-right").removeClass("transform-top").removeClass("transform-bottom")})},changeAttribute:function(){},destroy:function(){var o=this.element;return o.off(e.events.startAll),o.off([e.events.stopAll,e.events.leave].join(" ")),o}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={label:"",timepickerDeferred:0,hoursStep:1,minutesStep:1,secondsStep:1,value:null,distance:3,hours:!0,minutes:!0,seconds:!0,showLabels:!0,scrollSpeed:4,copyInlineStyles:!1,openMode:"auto",clsPicker:"",clsPart:"",clsHours:"",clsMinutes:"",clsSeconds:"",clsLabel:"",clsButton:"",clsOkButton:"",clsCancelButton:"",okButtonIcon:"\u2713",cancelButtonIcon:"\u{10102}",onSet:e.noop,onOpen:e.noop,onClose:e.noop,onScroll:e.noop,onTimePickerCreate:e.noop};e.timePickerSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroTimePickerSetup!==void 0&&e.timePickerSetup(globalThis.metroTimePickerSetup),e.Component("time-picker",{init:function(t,o){return this._super(o,t,a,{picker:null,isOpen:!1,value:[],listTimer:{hours:null,minutes:null,seconds:null},id:l.elementId("time-picker")}),this},_create:function(){var t=this.element,o=this.options,i;for(o.distance<1&&(o.distance=1),o.hoursStep<1&&(o.hoursStep=1),o.hoursStep>23&&(o.hoursStep=23),o.minutesStep<1&&(o.minutesStep=1),o.minutesStep>59&&(o.minutesStep=59),o.secondsStep<1&&(o.secondsStep=1),o.secondsStep>59&&(o.secondsStep=59),t.val()===""&&!l.isValue(o.value)&&(o.value=datetime().format("HH:mm:ss")),this.value=(t.val()!==""?t.val():""+o.value).toArray(":"),i=0;i<3;i++)this.value[i]===void 0||this.value[i]===null?this.value[i]=0:this.value[i]=parseInt(this.value[i]);this._normalizeValue(),this._createStructure(),this._createEvents(),this._set(),this._fireEvent("time-picker-create",{element:t})},_normalizeValue:function(){var t=this.options;t.hoursStep>1&&(this.value[0]=l.nearest(this.value[0],t.hoursStep,!0)),t.minutesStep>1&&(this.value[1]=l.nearest(this.value[1],t.minutesStep,!0)),t.minutesStep>1&&(this.value[2]=l.nearest(this.value[2],t.secondsStep,!0))},_createStructure:function(){var t=this.element,o=this.options,i=this.strings,p,c,d,m,f,u,g,h,b,v=l.elementId("timepicker");if(p=r("<div>").addClass("wheel-picker time-picker "+t[0].className).addClass(o.clsPicker),p.attr("id")||p.attr("id",v),p.insertBefore(t),t.attr("readonly",!0).appendTo(p),o.label){var k=r("<label>").addClass("label-for-input").addClass(o.clsLabel).html(o.label).insertBefore(p);t.attr("id")&&k.attr("for",t.attr("id")),t.attr("dir")==="rtl"&&k.addClass("rtl")}if(u=r("<div>").addClass("time-wrapper").appendTo(p),o.hours===!0&&(c=r("<div>").attr("data-title",i.label_hours).addClass("hours").addClass(o.clsPart).addClass(o.clsHours).appendTo(u)),o.minutes===!0&&(d=r("<div>").attr("data-title",i.label_minutes).addClass("minutes").addClass(o.clsPart).addClass(o.clsMinutes).appendTo(u)),o.seconds===!0&&(m=r("<div>").attr("data-title",i.label_seconds).addClass("seconds").addClass(o.clsPart).addClass(o.clsSeconds).appendTo(u)),g=r("<div>").addClass("select-wrapper").appendTo(p),h=r("<div>").addClass("select-block").appendTo(g),o.hours===!0){for(c=r("<ul>").addClass("sel-hours").appendTo(h),f=0;f<o.distance;f++)r("<li>").html("&nbsp;").data("value",-1).appendTo(c);for(f=0;f<24;f=f+o.hoursStep)r("<li>").addClass("js-hours-"+f).html(Str.lpad(f,"0",2)).data("value",f).appendTo(c);for(f=0;f<o.distance;f++)r("<li>").html("&nbsp;").data("value",-1).appendTo(c)}if(o.minutes===!0){for(d=r("<ul>").addClass("sel-minutes").appendTo(h),f=0;f<o.distance;f++)r("<li>").html("&nbsp;").data("value",-1).appendTo(d);for(f=0;f<60;f=f+o.minutesStep)r("<li>").addClass("js-minutes-"+f).html(Str.lpad(f,"0",2)).data("value",f).appendTo(d);for(f=0;f<o.distance;f++)r("<li>").html("&nbsp;").data("value",-1).appendTo(d)}if(o.seconds===!0){for(m=r("<ul>").addClass("sel-seconds").appendTo(h),f=0;f<o.distance;f++)r("<li>").html("&nbsp;").data("value",-1).appendTo(m);for(f=0;f<60;f=f+o.secondsStep)r("<li>").addClass("js-seconds-"+f).html(Str.lpad(f,"0",2)).data("value",f).appendTo(m);for(f=0;f<o.distance;f++)r("<li>").html("&nbsp;").data("value",-1).appendTo(m)}if(h.height((o.distance*2+1)*40),b=r("<div>").addClass("action-block").appendTo(g),r("<button>").attr("type","button").addClass("button action-now").addClass(o.clsButton).addClass(o.clsTodayButton).html(`<span class="caption">${this.strings.label_now}</span>`).appendTo(b),r("<button>").attr("type","button").addClass("button action-ok").addClass(o.clsButton).addClass(o.clsOkButton).html(`<span class="icon">${o.okButtonIcon}</span>`).appendTo(b),r("<button>").attr("type","button").addClass("button action-cancel").addClass(o.clsButton).addClass(o.clsCancelButton).html(`<span class="icon">${o.cancelButtonIcon}</span>`).appendTo(b),t[0].className="",o.copyInlineStyles===!0)for(f=0;f<t[0].style.length;f++)p.css(t[0].style[f],t.css(t[0].style[f]));o.showLabels===!0&&p.addClass("show-labels"),t.prop("disabled")&&p.addClass("disabled"),this.picker=p},_createEvents:function(){var t=this,o=this.options,i=this.picker;i.on("touchstart",".select-block ul",function(c){if(!c.changedTouches){var d=this,m=l.pageXY(c).y;r(document).on("touchmove",function(f){d.scrollTop-=o.scrollSpeed*(m>l.pageXY(f).y?-1:1),m=l.pageXY(f).y},{ns:t.id}),r(document).on("touchend",function(){r(document).off(e.events.move,{ns:t.id}),r(document).off(e.events.stop,{ns:t.id})},{ns:t.id})}}),i.on(e.events.click,function(c){t.isOpen===!1&&t.open(),c.stopPropagation()}),i.on(e.events.click,".action-ok",function(c){var d,m,f,u=i.find(".sel-hours li.active"),g=i.find(".sel-minutes li.active"),h=i.find(".sel-seconds li.active");d=u.length===0?0:u.data("value"),m=g.length===0?0:g.data("value"),f=h.length===0?0:h.data("value"),t.value=[d,m,f],t._normalizeValue(),t._set(),t.close(),c.stopPropagation()}),i.on(e.events.click,".action-cancel",function(c){t.close(),c.stopPropagation()});var p=150;r.each(["hours","minutes","seconds"],function(){var c=this,d=i.find(".sel-"+c);let m=Hooks.useDebounce(function(f){var u,g,h;t.listTimer[c]=null,u=Math.round(Math.ceil(d.scrollTop())/40),c==="hours"&&o.hoursStep&&(u*=parseInt(o.hoursStep)),c==="minutes"&&o.minutesStep&&(u*=parseInt(o.minutesStep)),c==="seconds"&&o.secondsStep&&(u*=parseInt(o.secondsStep)),g=d.find(".js-"+c+"-"+u),h=g.position().top-o.distance*40,d.find(".active").removeClass("active"),d[0].scrollTop=h,g.addClass("active"),l.exec(o.onScroll,[g,d,i],d[0])},p);d.on("scroll",m)}),i.on(e.events.click,"ul li",function(c){let d=r(this),m=d.closest("ul"),f=d.position().top-o.distance*40;m.find(".active").removeClass("active"),r.animate({el:m[0],draw:{scrollTop:f},dur:300}),m[0].scrollTop=f,d.addClass("active"),l.exec(o.onScroll,[d,m,i],m[0])}),i.on(e.events.click,".action-now",function(c){let d=datetime(),m=d.hour(),f=d.minute(),u=d.second();i.find(`.sel-hours li.js-hours-${m}`).click(),i.find(`.sel-minutes li.js-minutes-${f}`).click(),i.find(`.sel-seconds li.js-seconds-${u}`).click(),c.preventDefault(),c.stopPropagation()})},_set:function(){var t=this.element,o=this.options,i=this.picker,p="00",c="00",d="00";o.hours===!0&&(p=parseInt(this.value[0]),i.find(".hours").html(Str.lpad(p,"0",2))),o.minutes===!0&&(c=parseInt(this.value[1]),i.find(".minutes").html(Str.lpad(c,"0",2))),o.seconds===!0&&(d=parseInt(this.value[2]),i.find(".seconds").html(Str.lpad(d,"0",2))),t.val([p,c,d].join(":")).trigger("change"),this._fireEvent("set",{val:this.value,elementVal:t.val()})},open:function(){var t=this.options,o=this.picker,i,p,c,d,m,f,u=o.find("li"),g=o.find(".select-wrapper"),h,b,v;r.each(r(".time-picker"),function(){r(this).find("input").each(function(){e.getPlugin(this,"timepicker").close()})}),g.show(0),u.removeClass("active"),t.openMode==="auto"?(e.utils.inViewport(g[0])||g.parent().addClass("drop-up-select"),e.utils.inViewport(g[0])||(g.parent().removeClass("drop-up-select"),g.parent().addClass("drop-as-dialog"))):t.openMode==="dialog"?g.parent().addClass("drop-as-dialog"):t.openMode==="up"&&g.parent().addClass("drop-up-select");var k=function(w,T){w.scrollTop(0).animate({draw:{scrollTop:T.position().top-t.distance*40+w.scrollTop()},dur:100})};t.hours===!0&&(i=parseInt(this.value[0]),d=o.find(".sel-hours"),h=d.find("li.js-hours-"+i).addClass("active"),k(d,h)),t.minutes===!0&&(p=parseInt(this.value[1]),m=o.find(".sel-minutes"),b=m.find("li.js-minutes-"+p).addClass("active"),k(m,b)),t.seconds===!0&&(c=parseInt(this.value[2]),f=o.find(".sel-seconds"),v=f.find("li.js-seconds-"+c).addClass("active"),k(f,v)),this.isOpen=!0,this._fireEvent("open",{val:this.value})},close:function(){var t=this.picker,o=this.options;t.find(".select-wrapper").hide(0),o.openMode==="auto"&&t.find(".select-wrapper").parent().removeClass("drop-up-select drop-as-dialog"),this.isOpen=!1,this._fireEvent("close",{val:this.value})},_convert:function(t){var o;return Array.isArray(t)?o=t:typeof t.getMonth=="function"?o=[t.getHours(),t.getMinutes(),t.getSeconds()]:l.isObject(t)?o=[t.h,t.m,t.s]:o=t.toArray(":"),o},val:function(t){if(t===void 0)return this.element.val();this.value=this._convert(t),this._normalizeValue(),this._set()},time:function(t){if(t===void 0)return{h:this.value[0],m:this.value[1],s:this.value[2]};this.value=this._convert(t),this._normalizeValue(),this._set()},date:function(t){if(t===void 0||typeof t.getMonth!="function")return datetime().hour(this.value[0]).minute(this.value[1]).second(this.value[2]).ms(0).val();this.value=this._convert(t),this._normalizeValue(),this._set()},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(t,o){switch(t){case"data-value":this.val(o);break;case"disabled":this.toggleState();break}},destroy:function(){var t=this.element,o=this.picker;return r.each(["hours","minutes","seconds"],function(){o.find(".sel-"+this).off("scroll")}),o.off(e.events.start,".select-block ul"),o.off(e.events.click),o.off(e.events.click,".action-ok"),o.off(e.events.click,".action-cancel"),t}}),r(document).on(e.events.click,function(){r.each(r(".time-picker"),function(){r(this).find("input").each(function(){e.getPlugin(this,"timepicker").close()})})})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={callback:e.noop,timeout:METRO_TIMEOUT,distance:20,position:"bottom",clsToast:""};e.toastSetup=function(o){a=r.extend({},a,o)},typeof globalThis.metroToastSetup!==void 0&&e.toastSetup(globalThis.metroToastSetup);var t={create:function(o,i){var p,c,d,m=Array.from(arguments),f,u,g;r.isPlainObject(i)||(i=m[4],u=m[1],f=m[2],g=m[3]),p=r.extend({},a,i),c=r("<div>").addClass("toast").html(o).appendTo(r("body")),d=c.outerWidth(),f=f||p.timeout,u=u||p.callback,g=g||p.cls,p.position==="top"?c.addClass("show-top").css({top:p.distance}):p.position==="center"?c.addClass("show-center"):c.css({bottom:p.distance}),c.css({left:"50%","margin-left":-(d/2)}).addClass(p.clsToast).addClass(g).fadeIn(METRO_ANIMATION_DURATION,function(){setTimeout(function(){t.remove(c,u)},f)})},remove:function(o,i){o.length&&o.fadeOut(METRO_ANIMATION_DURATION,function(){o.remove(),l.exec(i,null,o[0])})}};e.toast=t,e.createToast=t.create})(Metro,Dom);(function(e,r){"use strict";var l={textToTokenize:"",spaceSymbol:"",spaceClass:"space",tokenClass:"",splitter:"",tokenElement:"span",useTokenSymbol:!0,useTokenIndex:!0,clsTokenizer:"",clsToken:"",clsTokenOdd:"",clsTokenEven:"",onTokenCreate:e.noop,onTokenize:e.noop,onTokenizerCreate:e.noop};e.tokenizerSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroTokenizerSetup!==void 0&&e.tokenizerSetup(globalThis.metroTokenizerSetup),e.Component("tokenizer",{init:function(a,t){return this._super(t,a,l,{originalText:""}),this},_create:function(){var a=this.element,t=this.options;this.originalText=t.textToTokenize?t.textToTokenize.trim():a.text().trim().replace(/[\r\n\t]/gi,"").replace(/\s\s+/g," "),this._createStructure(),this._fireEvent("tokenizer-create")},_tokenize:function(){var a=this,t=this.element,o=this.options,i=0,p,c;t.clear().attr("aria-label",this.originalText),r.each(this.originalText.split(o.splitter),function(d){var m=this,f=m===" ",u;u=r("<"+o.tokenElement+">").html(f?o.spaceSymbol:m).attr("aria-hidden",!0).addClass(f?o.spaceClass:"").addClass(f&&o.useTokenSymbol?"":"ts-"+m.replace(" ","_")).addClass(f&&o.useTokenIndex?"":"ti-"+(d+1)).addClass(o.tokenClass?o.tokenClass:"").addClass(f?"":o.clsToken),f||(i++,u.addClass(i%2===0?"te-even":"te-odd"),u.addClass(i%2===0?o.clsTokenEven:o.clsTokenOdd)),o.prepend&&(c=r.isSelector(o.prepend)?r(o.prepend):r("<span>").html(o.prepend),u.prepend(c)),o.append&&(p=r.isSelector(o.append)?r(o.append):r("<span>").html(o.append),u.append(p)),t.append(u),a._fireEvent("token-create",{token:u[0]})}),a._fireEvent("tokenize",{tokens:t.children().items(),originalText:this.originalText})},_createStructure:function(){var a=this.element,t=this.options;a.addClass(t.clsTokenizer),this._tokenize()},tokenize:function(a){this.originalText=a,this._tokenize()},destroy:function(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";let l={treeviewDeferred:0,showChildCount:!1,duration:100,hideActionsOnLeave:!0,recheckTimeout:100,leaves:[],onNodeClick:e.noop,onNodeDblClick:e.noop,onNodeDelete:e.noop,onNodeInsert:e.noop,onNodeClean:e.noop,onCheckClick:e.noop,onRadioClick:e.noop,onExpandNode:e.noop,onCollapseNode:e.noop,onTreeViewCreate:e.noop};e.treeViewSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroTreeViewSetup!==void 0&&e.treeViewSetup(globalThis.metroTreeViewSetup),e.Component("tree-view",{init:function(a,t){return this._super(t,a,l),this},_create:function(){let a=this,t=this.element;this._createTree(),this._createEvents(),r.each(t.find("input"),function(){r(this).is(":checked")&&a._recheck(this)}),this._fireEvent("tree-view-create",{element:t})},_createIcon:function(a){let t,o;return o=e.utils.isTag(a)?r(a):r("<img src='' alt=''>").attr("src",a),t=r("<span>").addClass("icon"),t.html(o.outerHTML()),t},_createCaption:function(a,t){let o=r("<span>").addClass("caption").html(a);return t&&(e.utils.isObject(t)?o.css(t):typeof t=="string"&&(o[0].style.cssText=t)),o},_createToggle:function(){return r("<span>").addClass("node-toggle")},_createNode:function(a,t){let o=this.options,i=t||r("<li>"),p=r("<a>");if(i.prepend(p),(a.link||a.href)&&p.attr("href",a.link||a.href),a.caption&&p.prepend(this._createCaption(a.caption,a.style)),a.icon&&p.prepend(this._createIcon(a.icon)),a.html&&p.append(a.html),a.attributes&&r.type(a.attributes)==="object")for(let c in a.attributes)p.attr(c,a.attributes[c]);if(a.style&&(typeof a.style=="string"?p[0].style.cssText=a.style:r.type(a.style)==="object"&&p.css(a.style)),a.badge){let[c,d]=a.badge.split(":");p.append(r("<span>").addClass("badge").addClass(d).html(c))}if(a.badges&&r.each(typeof a.badges=="string"?a.badges.toArray(","):Array.isArray(a.badges)?a.badges:[],function(c,d){let[m,f]=d.split(":");p.append(r("<span>").addClass("badge").addClass(f).html(m))}),a.secondary){let[c,d]=a.secondary.split(":");p.append(r("<span>").addClass("secondary-text").addClass(d).html(c))}if(a.actions){let c=r("<div class='dropdown-button'>").addClass("actions-holder"),d=r("<span class='actions-list-trigger'>").text("\u22EE").appendTo(c),m=r("<ul data-role='dropmenu' class='d-menu actions-list'>").appendTo(c);i.append(c);for(let f of a.actions)if(f.type&&f.type==="divider")r("<li>").addClass("divider").appendTo(m);else{let u=f.icon?r(f.icon).addClass("icon").outerHTML():"",g=`<span class="caption">${f.caption}</span>`,h=r(`<li><a href="#">${u} ${g}</a></li>`).appendTo(m);f.cls&&h.addClass(f.cls),h.find("a").on("click",function(){e.utils.exec(f.onclick,[h[0]],this)})}m.on(e.events.leave,f=>{o.hideActionsOnLeave&&e.getPlugin(m,"dropmenu").close()})}return a.current&&i.addClass("current"),a.type==="node"&&(i.addClass("tree-node"),i.append(r("<span>").addClass("node-toggle")),i.append(r("<ul>"))),i.children("ul").length&&(i.addClass("tree-node"),i.append(r("<span>").addClass("node-toggle")),e.utils.bool(a.collapsed)!==!0?i.addClass("expanded"):i.children("ul").hide()),i},_createCheckNode:function(a,t){let o=t||r("<li>");if(o.append(`
                <input data-role="${a.type}" type="${a.type??"checkbox"}" name="${a.name}" value="${a.value??""}" ${a.checked?"checked":""} data-append="${a.caption}"/>
            `),a.icon&&o.find("label").prepend(this._createIcon(a.icon)),a.attributes&&r.type(a.attributes)==="object")for(let i in a.attributes)o.attr(i,a.attributes[i]);if(a.secondary){let[i,p]=a.secondary.split(":");o.find("label").append(r("<span>").addClass("secondary-text").addClass(p).html(i))}return o},_createInputNode:function(a,t){let o=t||r("<li>");if(o.append(`
                <input data-role="${a.type}" type="${a.type??"text"}" name="${a.name}" value="${a.value??""}" data-prepend="${a.caption??""}" placeholder="${a.placeholder??""}"/>
            `),a.secondary){let[i,p]=a.secondary.split(":");o.find("label").append(r("<span>").addClass("secondary-text").addClass(p).html(i))}return o},_createTree:function(){let a=this.element,t=this.options,o=a.find("li[data-caption]");if(a.addClass("treeview"),r.each(o,(i,p)=>{let c=r(p);c.data("type")==="checkbox"||c.data("type")==="radio"?this._createCheckNode({caption:c.data("caption"),icon:c.data("icon"),type:c.data("type"),name:c.data("name"),attributes:c.data("attributes"),value:c.data("value"),checked:c.data("checked")==="true",secondary:c.data("secondary")},c):c.data("type")==="input"?this._createInputNode({caption:c.data("caption"),type:c.data("type"),name:c.data("name"),attributes:c.data("attributes"),value:c.data("value"),secondary:c.data("secondary"),placeholder:c.data("placeholder")},c):this._createNode({caption:c.data("caption"),icon:c.data("icon"),html:c.data("html"),attributes:c.data("attributes"),badge:c.data("badge"),badges:c.data("badges"),actions:c.data("actions"),type:c.data("type"),collapsed:c.data("collapsed"),link:c.data("link"),href:c.data("href"),secondary:c.data("secondary"),style:c.data("style")},c)}),t.leaves){let i=e.utils.isObject(t.leaves);i&&this.fillTree(i)}this._recheckTree()},_createEvents:function(){let a=this,t=this.element;t.on(e.events.click,".node-toggle",function(o){let p=r(this).parent();a.toggleNode(p),o.preventDefault()}),t.on(e.events.click,"a",function(o){let i=r(this).parent();a.current(i),a._fireEvent("node-click",{node:i[0]}),o.preventDefault()}),t.on(e.events.dblclick,"a",function(o){let i=r(this).closest("li"),p=i.children(".node-toggle"),c=i.children("ul");(p.length>0||c.length>0)&&a.toggleNode(i),a._fireEvent("node-dbl-click",{node:i[0]}),o.preventDefault()}),t.on(e.events.click,"input[type=radio]",function(){let o=r(this),i=o.is(":checked"),p=o.closest("li");a.current(p),a._fireEvent("radio-click",{checked:i,check:o[0],node:p[0]})}),t.on(e.events.click,"input[type=checkbox]",function(){let o=r(this),i=o.is(":checked"),p=o.closest("li");a._recheck(o),a._fireEvent("check-click",{checked:i,check:o[0],node:p[0]})})},_recheck:function(a){let t;a=r(a);let o=a.is(":checked");t=a.closest("li"),this.current(t);let i=a.closest("li").find("ul input[type=checkbox]");i.attr("data-indeterminate",!1),i.prop("indeterminate",!1),i.prop("checked",o),i.trigger("change"),this._recheckTree()},_recheckTree:function(a){setTimeout(()=>{let o=this.element.find("input[type=checkbox]").reverse();r.each(o.reverse(),function(){let i=r(this),p=i.closest("li").children("ul").find("input[type=checkbox]").length,c=i.closest("li").children("ul").find("input[type=checkbox]").filter(function(d){return d.checked}).length;p>0&&c===0&&(i.attr("data-indeterminate",!1),i.prop("indeterminate",!1),i.prop("checked",!1),i.trigger("change")),c===0?(i.attr("data-indeterminate",!1),i.prop("indeterminate",!1)):c>0&&p>c?(i.attr("data-indeterminate",!0),i.prop("indeterminate",!0)):p===c&&(i.attr("data-indeterminate",!1),i.prop("indeterminate",!1),i.prop("checked",!0),i.trigger("change"))})},a??this.options.recheckTimeout)},current:function(a){let t=this.element;if(!a)return t.find(".current");t.find(".current").removeClass("current"),a.addClass("current")},toggleNode:function(a){let t=r(a),o=this.options,i,p=!t.data("collapsed");t.toggleClass("expanded"),t.data("collapsed",p),i=p===!0?"slideUp":"slideDown",p?this._fireEvent("collapse-node",{node:t[0]}):this._fireEvent("expand-node",{node:t[0]}),t.children("ul")[i](o.duration)},addTo:function(a,t){let o=this.element,i,p,c;return a?(a=r(a),i=a.children("ul"),i.length===0&&(i=r("<ul>").appendTo(a),c=this._createToggle(),c.appendTo(a),a.addClass("expanded")),a?.addClass("tree-node")):i=o,t.type==="checkbox"||t.type==="radio"?p=this._createCheckNode(t):t.type==="input"?p=this._createInputNode(t):p=this._createNode(t),p.appendTo(i),this._fireEvent("node-insert",{node:p[0],parent:a?a[0]:null}),this._recheckTree(),p},insertBefore:function(a,t){let o=this._createNode(t);return e.utils.isNull(a)?this.addTo(a,t):(a=r(a),o.insertBefore(a),this._fireEvent("node-insert",{node:o[0],parent:a?a[0]:null}),o)},insertAfter:function(a,t){let o=this._createNode(t);return e.utils.isNull(a)?this.addTo(a,t):(a=r(a),o.insertAfter(a),this._fireEvent("node-insert",{node:o[0],parent:a[0]}),o)},del:function(a){let t=this.element;a=r(a);let o=a.closest("ul"),i=o.closest("li");this._fireEvent("node-delete",{node:a[0]}),a.remove(),o.children().length===0&&!o.is(t)&&(o.remove(),i.removeClass("expanded"),i.children(".node-toggle").remove()),this._recheckTree()},clean:function(a){a=r(a),a.children("ul").remove(),a.removeClass("expanded"),a.children(".node-toggle").remove(),this._fireEvent("node-clean",{node:a[0]})},collapseNode(a){let t=this.options;a=r(a),a.removeClass("expanded"),a.data("collapsed",!0),a.children("ul").slideUp(t.duration),this._fireEvent("collapse-node",{node:a[0]})},expandNode(a){let t=this.options;a=r(a),a.hasClass("tree-node")&&(a.addClass("expanded"),a.data("collapsed",!1),a.children("ul").slideDown(t.duration),this._fireEvent("expand-node",{node:a[0]}))},collapseAll(){let a=this.element,t=this.options;a.find(".expanded").each((o,i)=>{let p=r(i),c,d=!p.data("collapsed");p.toggleClass("expanded"),p.data("collapsed",d),c=d===!0?"slideUp":"slideDown",d?this._fireEvent("collapse-node",{node:p[0]}):this._fireEvent("expand-node",{node:p[0]}),p.children("ul")[c](t.duration)}),this._fireEvent("collapse-all")},expandAll(){let a=this.element,t=this.options;a.find(".tree-node:not(.expanded)").each((o,i)=>{let p=r(i),c,d=!p.data("collapsed");p.toggleClass("expanded"),p.data("collapsed",d),c=d===!0?"slideUp":"slideDown",d?this._fireEvent("collapse-node",{node:p[0]}):this._fireEvent("expand-node",{node:p[0]}),p.children("ul")[c](t.duration)}),this._fireEvent("expand-all")},fillTree:function(a,t){for(let o of a){let i=this.addTo(t,{...o,type:o.items?"node":"item"});o.items&&this.fillTree(o.items,i)}},changeAttribute:function(a,t){a==="data-recheck-timeout"&&(this.options.recheckTimeout=t??100)},destroy:function(){let a=this.element;a.off(e.events.click,".node-toggle"),a.off(e.events.click,"li > .caption"),a.off(e.events.dblclick,"li > .caption"),a.off(e.events.click,"input[type=radio]"),a.off(e.events.click,"input[type=checkbox]"),a.remove()}})})(Metro,Dom);(function(e,r){"use strict";var l={required:function(t){return G.safeParse(G.required(),t).ok},length:function(t,o){return G.safeParse(G.length(+o),t).ok},minlength:function(t,o){return G.safeParse(G.minLength(+o),t).ok},maxlength:function(t,o){return G.safeParse(G.maxLength(+o),t).ok},min:function(t,o){return G.safeParse(G.minValue(+o),+t).ok},max:function(t,o){return G.safeParse(G.maxValue(+o),+t).ok},email:function(t){return G.safeParse(G.email(),t).ok},domain:function(t){return G.safeParse(G.domain(),t).ok},url:function(t){return G.safeParse(G.url(),t).ok},date:function(t,o,i){try{return o?Datetime.from(t,o,i):datetime(t),!0}catch{return!1}},number:function(t){return G.safeParse(G.number(),+t).ok},integer:function(t){return G.safeParse(G.integer(),+t).ok},safeInteger:function(t){return G.safeParse(G.safeInteger(),+t).ok},float:function(t){return G.safeParse(G.float(),+t).ok},digits:function(t){return G.safeParse(G.digits(),t).ok},hexcolor:function(t){return G.safeParse(G.hexColor(),t).ok},color:function(t){return e.utils.isValue(t)?Farbe.Palette.color(t,Farbe.StandardColors)||Farbe.Routines.isColor(t):!1},pattern:function(t,o){return G.safeParse(G.pattern(o),t).ok},compare:function(t,o){return t==o},not:function(t,o){return t!=o},notequals:function(t,o){return t!==o},equals:function(t,o){return t===o},custom:function(t,o){return e.utils.isFunc(o)===!1?!1:e.utils.exec(o,[t])},is_control:function(t){return t.attr("data-role")},reset_state:function(t){var o=r(t),i=l.is_control(o);i?o.parent().removeClass("invalid valid"):o.removeClass("invalid valid")},set_valid_state:function(t){var o=r(t),i=l.is_control(o);i?o.parent().addClass("valid"):o.addClass("valid")},set_invalid_state:function(t){var o=r(t),i=l.is_control(o);i?o.parent().addClass("invalid"):o.addClass("invalid")},reset:function(t){var o=this;return r.each(r(t).find("[data-validate]"),function(){o.reset_state(this)}),this},validate:function(t,o,i,p,c){var d=!0,m=r(t),f=m.data("validate")!==void 0?String(m.data("validate")).split(" ").map(function(v){return v.trim()}):[],u=[],g=m.closest("form").length>0,h,b;return f.length===0?!0:(this.reset_state(m),m.attr("type")&&m.attr("type").toLowerCase()==="checkbox"?(f.indexOf("required")===-1?d=!0:d=m.is(":checked"),d===!1&&u.push("required"),o!==void 0&&(o.val+=d?0:1)):m.attr("type")&&m.attr("type").toLowerCase()==="radio"?(h=m.attr("name"),typeof h===void 0?d=!0:(b=r("input[name="+h.replace("[","\\[").replace("]","\\]")+"]:checked"),d=b.length>0),o!==void 0&&(o.val+=d?0:1)):r.each(f,function(){if(d!==!1){var v=this.split("="),k,w,T;k=v[0],v.shift(),w=v.join("="),["compare","not","equals","notequals"].indexOf(k)>-1&&(w=g?m[0].form.elements[w].value:r("[name="+w+"]").val()),k==="date"&&(w=m.attr("data-value-format"),T=m.attr("data-value-locale")),e.utils.isFunc(l[k])===!1?d=!0:c===!0||k==="required"||m.val().trim()!==""?d=l[k](m.val(),w,T):d=!0,d===!1&&u.push(k),o!==void 0&&(o.val+=d?0:1)}}),d===!1?(this.set_invalid_state(m),o!==void 0&&o.log.push({input:m[0],name:m.attr("name"),value:m.val(),funcs:f,errors:u}),p!==void 0&&e.utils.exec(p,[m,m.val()],m[0])):(this.set_valid_state(m),i!==void 0&&e.utils.exec(i,[m,m.val()],m[0])),d)}};e.validator=l;var a={validatorDeferred:0,submitTimeout:200,interactiveCheck:!1,clearInvalid:0,requiredMode:!0,useRequiredClass:!0,onBeforeSubmit:e.noop_true,onSubmit:e.noop,onError:e.noop,onValidate:e.noop,onErrorForm:e.noop,onValidateForm:e.noop,onValidatorCreate:e.noop};e.validatorSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroValidatorSetup!==void 0&&e.validatorSetup(globalThis.metroValidatorSetup),e.Component("validator",{init:function(t,o){return this._super(o,t,a,{_onsubmit:null,_onreset:null,result:[]}),this},_create:function(){var t=this,o=this.element,i=this.options,p=o.find("[data-validate]");o.attr("novalidate","novalidate"),r.each(p,function(){var c=r(this),d=c.data("validate"),m=d.indexOf("required")>-1;m&&i.useRequiredClass===!0&&(l.is_control(c)?c.parent().addClass("required"):c.addClass("required")),i.interactiveCheck===!0&&c.on(e.events.inputchange,function(){l.validate(this,void 0,void 0,void 0,i.requiredMode)})}),this._onsubmit=null,this._onreset=null,o[0].onsubmit!==null&&(this._onsubmit=o[0].onsubmit,o[0].onsubmit=null),o[0].onreset!==null&&(this._onreset=o[0].onreset,o[0].onreset=null),o[0].onsubmit=function(){return t._submit()},o[0].onreset=function(){return t._reset()},this._fireEvent("validator-create",{element:o})},_reset:function(){l.reset(this.element),this._onreset!==null&&e.utils.exec(this._onreset,null,this.element[0])},_submit:function(){var t=this,o=this.element,i=this.options,p=this.elem,c=o.find("[data-validate]"),d=o.find("input[type=submit], button[type=submit]"),m={val:0,log:[]},f=r.serializeToArray(o);return d.length>0&&d.attr("disabled","disabled").addClass("disabled"),r.each(c,function(){l.validate(this,m,i.onValidate,i.onError,i.requiredMode)}),d.removeAttr("disabled").removeClass("disabled"),m.val+=e.utils.exec(i.onBeforeSubmit,[f],this.elem)===!1?1:0,m.val===0?(this._fireEvent("validate-form",{data:f}),setTimeout(function(){e.utils.exec(i.onSubmit,[f],p),o.fire("formsubmit",{data:f}),t._onsubmit!==null&&e.utils.exec(t._onsubmit,null,p)},i.submitTimeout)):(this._fireEvent("error-form",{log:m.log,data:f}),i.clearInvalid>0&&setTimeout(function(){r.each(c,function(){var u=r(this);l.is_control(u)?u.parent().removeClass("invalid"):u.removeClass("invalid")})},i.clearInvalid)),m.val===0},changeAttribute:function(){}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={duration:4e3,animationDuration:null,transitionDuration:null,transition:"fade",animation:null,slides:[],shuffle:!1,align:"center",valign:"center",loop:!0,autoplay:!0,mute:!0,cover:!0,preload:!0,timer:!0,overlay:2,color:null,volume:1,onPlay:e.noop,onPause:e.noop,onEnd:e.noop,onWalk:e.noop,onNext:e.noop,onPrev:e.noop,onJump:e.noop,onVegasCreate:e.noop};e.vegasSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroVegasSetup!==void 0&&e.vegasSetup(globalThis.metroVegasSetup),e.Component("vegas",{videoCache:{},init:function(t,o){return this.transitions=["fade","fade2","slideLeft","slideLeft2","slideRight","slideRight2","slideUp","slideUp2","slideDown","slideDown2","zoomIn","zoomIn2","zoomOut","zoomOut2","swirlLeft","swirlLeft2","swirlRight","swirlRight2"],this.animations=["kenburns","kenburnsUp","kenburnsDown","kenburnsRight","kenburnsLeft","kenburnsUpLeft","kenburnsUpRight","kenburnsDownLeft","kenburnsDownRight"],this.support={objectFit:"objectFit"in document.body.style,video:!/(Android|webOS|Phone|iPad|iPod|BlackBerry|Windows Phone)/i.test(navigator.userAgent)},this._super(o,t,a,{slide:0,slides:null,total:0,noshow:!1,paused:!1,ended:!1,timer:null,overlay:null,first:!0,timeout:!1}),this},_create:function(){var t=this.element,o=this.options;this.slides=l.isObject(o.slides)||[],this.total=this.slides.length,this.noshow=this.total<2,this.paused=!o.autoplay||this.noshow,o.shuffle&&this.slides.shuffle(),o.preload&&this._preload(),this._createStructure(),this._createEvents(),this._fireEvent("vegas-create",{element:t})},_createStructure:function(){var t=this,o=this.element,i=this.options,p=o[0].tagName==="BODY",c;p||(o.css("height",o.css("height")),c=r('<div class="vegas-wrapper">').css("overflow",o.css("overflow")).css("padding",o.css("padding")),o.css("padding")||c.css("padding-top",o.css("padding-top")).css("padding-bottom",o.css("padding-bottom")).css("padding-left",o.css("padding-left")).css("padding-right",o.css("padding-right")),o.children().appendTo(c),o.clear()),o.addClass("vegas-container"),p||o.append(c),i.timer&&(this.timer=r('<div class="vegas-timer"><div class="vegas-timer-progress">'),o.append(this.timer)),i.overlay&&(this.overlay=r('<div class="vegas-overlay">').addClass("overlay"+(typeof i.overlay=="boolean"||isNaN(i.overlay)?2:+i.overlay)),o.append(this.overlay)),setTimeout(function(){l.exec(i.onPlay,null,o[0]),t._goto(t.slide)},1)},_createEvents:function(){},_preload:function(){var t,o;for(o=0;o<this.slides.length;o++){var i=this.slides[o];i.src&&(t=new Image,t.src=this.slides[o].src),i.video&&(i.video instanceof Array?this._video(i.video):this._video(i.video.src))}},_slideShow:function(){var t=this,o=this.options;this.total>1&&!this.ended&&!this.paused&&!this.noshow&&(this.timeout=setTimeout(function(){t.next()},o.duration))},_timer:function(t){var o=this,i=this.options;clearTimeout(this.timeout),this.timer&&(this.timer.removeClass("vegas-timer-running").find("div").css("transition-duration","0ms"),!(this.ended||this.paused||this.noshow)&&t&&setTimeout(function(){o.timer.addClass("vegas-timer-running").find("div").css("transition-duration",+i.duration-100+"ms")},100))},_fadeSoundIn:function(t,o){var i=this.options;r.animate({el:t,draw:{volume:+i.volume},dur:o})},_fadeSoundOut:function(t,o){r.animate({el:t,draw:{volume:0},dur:o})},_video:function(t){var o,i,p=t.toString();return this.videoCache[p]?this.videoCache[p]:(Array.isArray(t)||(t=[t]),o=document.createElement("video"),o.preload=!0,t.forEach(function(c){i=document.createElement("source"),i.src=c,o.appendChild(i)}),this.videoCache[p]=o,o)},_goto:function(t){var o=this,i=this.element,p=this.options;typeof this.slides[t]>"u"&&(t=0),this.slide=t;var c,d,m,f,u,g=i.children(".vegas-slide"),h=this.slides[t],b=p.cover,v,k,w,T;this.first&&(this.first=!1),b!=="repeat"&&(b===!0?b="cover":b===!1&&(b="contain")),p.transition==="random"?v=r.random(this.transitions):v=p.transition?p.transition:this.transitions[0],p.animation==="random"?k=r.random(this.animations):k=p.animation?p.animation:this.animations[0],p.transitionDuration?p.transitionDuration==="auto"||+p.transitionDuration>+p.duration?w=+p.duration:w=+p.transitionDuration:w=+p.duration,p.animationDuration?p.animationDuration==="auto"||+p.animationDuration>+p.duration?T=+p.duration:T=+p.animationDuration:T=+p.duration,c=r("<div>").addClass("vegas-slide").addClass("vegas-transition-"+v),this.support.video&&h.video?(m=h.video instanceof Array?this._video(h.video):this._video(h.video.src),m.loop=h.video.loop?h.video.loop:p.loop,m.muted=h.video.mute?h.video.mute:p.mute,m.muted?m.pause():this._fadeSoundIn(m,w),u=r(m).addClass("vegas-video").css("background-color",p.color||"#000000"),this.support.objectFit?u.css("object-position",p.align+" "+p.valign).css("object-fit",b).css("width","100%").css("height","100%"):b==="contain"&&u.css("width","100%").css("height","100%"),c.append(u)):(f=new Image,d=r("<div>").addClass("vegas-slide-inner").css({backgroundImage:'url("'+h.src+'")',backgroundColor:p.color||"#000000",backgroundPosition:p.align+" "+p.valign}),b==="repeat"?d.css("background-repeat","repeat"):d.css("background-size",b),k&&d.addClass("vegas-animation-"+k).css("animation-duration",T+"ms"),c.append(d)),g.length?g.eq(g.length-1).after(c):i.prepend(c),g.css("transition","all 0ms").each(function(){this.className="vegas-slide",this.tagName==="VIDEO"&&(this.className+=" vegas-video"),v&&(this.className+=" vegas-transition-"+v,this.className+=" vegas-transition-"+v+"-in")}),this._timer(!1);function _(){o._timer(!0),setTimeout(function(){g.css("transition","all "+w+"ms").addClass("vegas-transition-"+v+"-out"),g.each(function(){var C=g.find("video").get(0);C&&(C.volume=1,o._fadeSoundOut(C,w))}),c.css("transition","all "+w+"ms").addClass("vegas-transition-"+v+"-in");for(var y=0;y<g.length-1;y++)g.eq(y).remove();o._fireEvent("walk",{slide:o.current(!0)}),o._slideShow()},100)}m?(m.readyState===4&&(m.currentTime=0),m.play(),_()):(f.src=h.src,f.complete?_():f.onload=_)},_end:function(){this.ended=this.options.autoplay,this._timer(!1),this._fireEvent("end",{slide:this.current(!0)})},play:function(){this.paused&&(this._fireEvent("play",{slide:this.current(!0)}),this.paused=!1,this.next())},pause:function(){this._timer(!1),this.paused=!0,this._fireEvent("pause",{slide:this.current(!0)})},toggle:function(){this.paused?this.play():this.pause()},playing:function(){return!this.paused&&!this.noshow},current:function(t){return t?{slide:this.slide,data:this.slides[this.slide]}:this.slide},jump:function(t){if(t<=0||t>this.slides.length||t===this.slide+1)return this;this.slide=t-1,this._fireEvent("jump",{slide:this.current(!0)}),this._goto(this.slide)},next:function(){var t=this.options;if(this.slide++,this.slide>=this.slides.length){if(!t.loop)return this._end();this.slide=0}this._fireEvent("next",{slide:this.current(!0)}),this._goto(this.slide)},prev:function(){var t=this.options;if(this.slide--,this.slide<0){if(!t.loop)return this.slide++,this._end();this.slide=this.slides.length-1}this._fireEvent("prev",{slide:this.current(!0)}),this._goto(this.slide)},changeAttribute:function(t){var o=this.element,i=this.options,p=Str.camelCase(t.replace("data-",""));p==="slides"?(i.slides=o.attr("data-slides"),this.slides=l.isObject(i.slides)||[],this.total=this.slides.length,this.noshow=this.total<2,this.paused=!this.options.autoplay||this.noshow):typeof a[p]<"u"&&(i[p]=JSON.parse(o.attr(t)))},destroy:function(){var t=this.element,o=this.options;return clearTimeout(this.timeout),t.removeClass("vegas-container"),t.find("> .vegas-slide").remove(),t.find("> .vegas-wrapper").children().appendTo(t),t.find("> .vegas-wrapper").remove(),o.timer&&this.timer.remove(),o.overlay&&this.overlay.remove(),t[0]}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={videoDeferred:0,src:null,poster:"",logo:"",logoHeight:32,logoWidth:"auto",logoTarget:"",volume:.5,loop:!1,autoplay:!1,fullScreenMode:e.fullScreenMode.DESKTOP,aspectRatio:e.aspectRatio.HD,controlsHide:3e3,showLoop:!0,showPlay:!0,showStop:!0,showMute:!0,showFull:!0,showStream:!0,showVolume:!0,showInfo:!0,loopIcon:"\u{1F501}",stopIcon:"\u23F9",playIcon:"\u25B6",pauseIcon:"\u23F8",muteIcon:"\u{1F507}",volumeLowIcon:"\u{1F508}",volumeMediumIcon:"\u{1F509}",volumeHighIcon:"\u{1F50A}",screenMoreIcon:"\u2B1C",screenLessIcon:"\u2B1A",onPlay:e.noop,onPause:e.noop,onStop:e.noop,onEnd:e.noop,onMetadata:e.noop,onTime:e.noop,onVideoPlayerCreate:e.noop};e.videoPlayerSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroVideoPlayerSetup!==void 0&&e.videoPlayerSetup(globalThis.metroVideoPlayerSetup),e.Component("video-player",{init:function(t,o){return this._super(o,t,a,{fullscreen:!1,preloader:null,player:null,video:o,stream:null,volume:null,volumeBackup:0,muted:!1,fullScreenInterval:!1,isPlaying:!1,id:l.elementId("video-player")}),this},_create:function(){var t=this.element,o=this.options;e.fullScreenEnabled===!1&&(o.fullScreenMode=e.fullScreenMode.WINDOW),this._createPlayer(),this._createControls(),this._createEvents(),this._setAspectRatio(),o.autoplay===!0&&this.play(),this._fireEvent("video-player-create",{element:t,player:this.player})},_createPlayer:function(){var t=this.element,o=this.options,i=this.video,p=r("<div>").addClass("media-player video-player "+t[0].className),c=r("<div>").addClass("preloader").appendTo(p),d=r("<a>").attr("href",o.logoTarget).addClass("logo").appendTo(p);p.insertBefore(t),t.appendTo(p),r.each(["muted","autoplay","controls","height","width","loop","poster","preload"],function(){t.removeAttr(this)}),t.attr("preload","auto"),o.poster!==""&&t.attr("poster",o.poster),i.volume=o.volume,c.activity({type:"cycle",style:"color"}),c.hide(),this.preloader=c,o.logo!==""&&r("<img>").css({height:o.logoHeight,width:o.logoWidth}).attr("src",o.logo).appendTo(d),o.src!==null&&this._setSource(o.src),t[0].className="",this.player=p},_setSource:function(t){var o=this.element;o.find("source").remove(),o.removeAttr("src"),Array.isArray(t)?r.each(t,function(){var i=this;i.src!==void 0&&r("<source>").attr("src",i.src).attr("type",i.type!==void 0?i.type:"").appendTo(o)}):o.attr("src",t)},_createControls:function(){var t=this,o=this.element,i=this.options,p=this.elem,c=r("<div>").addClass("controls").addClass(i.clsControls).insertAfter(o),d=r("<div>").addClass("stream").appendTo(c),m=r("<input>").addClass("stream-slider ultra-thin cycle-marker").appendTo(d),f=r("<div>").addClass("volume").appendTo(c),u=r("<input>").addClass("volume-slider ultra-thin cycle-marker").appendTo(f),g=r("<div>").addClass("info-box").appendTo(c);i.showInfo!==!0&&g.hide(),e.makePlugin(m,"slider",{clsMarker:"bg-red",clsHint:"bg-cyan fg-white",clsComplete:"bg-cyan",hint:!0,onStart:function(){p.paused||p.pause()},onStop:function(b){p.seekable.length>0&&(p.currentTime=(t.duration*b/100).toFixed(0)),p.paused&&p.currentTime>0&&p.play()}}),this.stream=m,i.showStream!==!0&&d.hide(),e.makePlugin(u,"slider",{clsMarker:"bg-red",clsHint:"bg-cyan fg-white",hint:!0,value:i.volume*100,onChangeValue:function(b){p.volume=b/100}}),this.volume=u,i.showVolume!==!0&&f.hide();var h;i.showLoop===!0&&(h=r("<button>").attr("type","button").addClass("button square loop").html(i.loopIcon).appendTo(c)),i.showPlay===!0&&r("<button>").attr("type","button").addClass("button square play").html(i.playIcon).appendTo(c),i.showStop===!0&&r("<button>").attr("type","button").addClass("button square stop").html(i.stopIcon).appendTo(c),i.showMute===!0&&r("<button>").attr("type","button").addClass("button square mute").html(i.muteIcon).appendTo(c),i.showFull===!0&&r("<button>").attr("type","button").addClass("button square full").html(i.screenMoreIcon).appendTo(c),i.loop===!0&&(h.addClass("active"),o.attr("loop","loop")),this._setVolume(),i.muted&&(t.volumeBackup=p.volume,e.getPlugin(t.volume,"slider").val(0),p.volume=0),g.html("00:00 / 00:00")},_createEvents:function(){var t=this,o=this.element,i=this.options,p=this.elem,c=this.player;o.on("loadstart",function(){t.preloader.show()}),o.on("loadedmetadata",function(){t.duration=p.duration.toFixed(0),t._setInfo(0,t.duration),l.exec(i.onMetadata,[p,c],o[0])}),o.on("canplay",function(){t._setBuffer(),t.preloader.hide()}),o.on("progress",function(){t._setBuffer()}),o.on("timeupdate",function(){var d=Math.round(p.currentTime*100/t.duration);t._setInfo(p.currentTime,t.duration),e.getPlugin(t.stream,"slider").val(d),l.exec(i.onTime,[p.currentTime,t.duration,p,c],o[0])}),o.on("waiting",function(){t.preloader.show()}),o.on("loadeddata",function(){}),o.on("play",function(){c.find(".play").html(i.pauseIcon),l.exec(i.onPlay,[p,c],o[0]),t._onMouse()}),o.on("pause",function(){c.find(".play").html(i.playIcon),l.exec(i.onPause,[p,c],o[0]),t._offMouse()}),o.on("stop",function(){e.getPlugin(t.stream,"slider").val(0),l.exec(i.onStop,[p,c],o[0]),t._offMouse()}),o.on("ended",function(){e.getPlugin(t.stream,"slider").val(0),l.exec(i.onEnd,[p,c],o[0]),t._offMouse()}),o.on("volumechange",function(){t._setVolume()}),c.on(e.events.click,".play",function(){p.paused?t.play():t.pause()}),c.on(e.events.click,".stop",function(){t.stop()}),c.on(e.events.click,".mute",function(){t._toggleMute()}),c.on(e.events.click,".loop",function(){t._toggleLoop()}),c.on(e.events.click,".full",function(){t.fullscreen=!t.fullscreen,c.find(".full").html(t.fullscreen===!0?i.screenLessIcon:i.screenMoreIcon),i.fullScreenMode===e.fullScreenMode.WINDOW?t.fullscreen===!0?c.addClass("full-screen"):c.removeClass("full-screen"):t.fullscreen===!0?(e.requestFullScreen(p),t.fullScreenInterval===!1&&(t.fullScreenInterval=setInterval(function(){e.inFullScreen()===!1&&(t.fullscreen=!1,clearInterval(t.fullScreenInterval),t.fullScreenInterval=!1,c.find(".full").html(i.screenMoreIcon))},1e3))):e.exitFullScreen()}),r(globalThis).on(e.events.keyup,function(d){t.fullscreen&&d.keyCode===27&&c.find(".full").click()},{ns:this.id}),r(globalThis).on(e.events.resize,function(){t._setAspectRatio()},{ns:this.id})},_onMouse:function(){var t=this.options,o=this.player;o.on(e.events.enter,function(){var i=o.find(".controls");t.controlsHide>0&&i.style("display")==="none"&&i.stop(!0).fadeIn(500,function(){i.css("display","flex")})}),o.on(e.events.leave,function(){var i=o.find(".controls");t.controlsHide>0&&parseInt(i.style("opacity"))===1&&setTimeout(function(){i.stop(!0).fadeOut(500)},t.controlsHide)})},_offMouse:function(){var t=this.player,o=this.options,i=t.find(".controls");t.off(e.events.enter),t.off(e.events.leave),o.controlsHide>0&&i.style("display")==="none"&&i.stop(!0).fadeIn(500,function(){i.css("display","flex")})},_toggleLoop:function(){var t=this.player.find(".loop");t.length!==0&&(t.toggleClass("active"),t.hasClass("active")?this.element.attr("loop","loop"):this.element.removeAttr("loop"))},_toggleMute:function(){this.muted=!this.muted,this.muted===!1?this.video.volume=this.volumeBackup:(this.volumeBackup=this.video.volume,this.video.volume=0),e.getPlugin(this.volume,"slider").val(this.muted===!1?this.volumeBackup*100:0)},_setInfo:function(t,o){this.player.find(".info-box").html(l.secondsToFormattedString(Math.round(t))+" / "+l.secondsToFormattedString(Math.round(o)))},_setBuffer:function(){var t=this.video.buffered.length?Math.round(Math.floor(this.video.buffered.end(0))/Math.floor(this.video.duration)*100):0;e.getPlugin(this.stream,"slider").buff(t)},_setVolume:function(){var t=this.video,o=this.player,i=this.options,p=o.find(".mute"),c=t.volume*100;c>1&&c<30?p.html(i.volumeLowIcon):c>=30&&c<60?p.html(i.volumeMediumIcon):c>=60&&c<=100?p.html(i.volumeHighIcon):p.html(i.muteIcon)},_setAspectRatio:function(){var t=this.player,o=this.options,i=t.outerWidth(),p;switch(o.aspectRatio){case e.aspectRatio.SD:p=l.aspectRatioH(i,"4/3");break;case e.aspectRatio.CINEMA:p=l.aspectRatioH(i,"21/9");break;default:p=l.aspectRatioH(i,"16/9")}t.outerHeight(p)},aspectRatio:function(t){this.options.aspectRatio=t,this._setAspectRatio()},play:function(t){t!==void 0&&this._setSource(t),!(this.element.attr("src")===void 0&&this.element.find("source").length===0)&&(this.isPlaying=!0,this.video.play())},pause:function(){this.isPlaying=!1,this.video.pause()},resume:function(){this.video.paused&&this.play()},stop:function(){this.isPlaying=!1,this.video.pause(),this.video.currentTime=0,e.getPlugin(this.stream,"slider").val(0),this._offMouse()},setVolume:function(t){if(t===void 0)return this.video.volume;t>1&&(t/=100),this.video.volume=t,e.getPlugin(this.volume[0],"slider").val(t*100)},loop:function(){this._toggleLoop()},mute:function(){this._toggleMute()},changeAspectRatio:function(){this.options.aspectRatio=this.element.attr("data-aspect-ratio"),this._setAspectRatio()},changeSource:function(){var t=JSON.parse(this.element.attr("data-src"));this.play(t)},changeVolume:function(){var t=this.element.attr("data-volume");this.setVolume(t)},changeAttribute:function(t){switch(t){case"data-aspect-ratio":this.changeAspectRatio();break;case"data-src":this.changeSource();break;case"data-volume":this.changeVolume();break}},destroy:function(){var t=this.element,o=this.player;return e.getPlugin(this.stream,"slider").destroy(),e.getPlugin(this.volume,"slider").destroy(),t.off("loadstart"),t.off("loadedmetadata"),t.off("canplay"),t.off("progress"),t.off("timeupdate"),t.off("waiting"),t.off("loadeddata"),t.off("play"),t.off("pause"),t.off("stop"),t.off("ended"),t.off("volumechange"),o.off(e.events.click,".play"),o.off(e.events.click,".stop"),o.off(e.events.click,".mute"),o.off(e.events.click,".loop"),o.off(e.events.click,".full"),r(globalThis).off(e.events.keyup,{ns:this.id}),r(globalThis).off(e.events.resize,{ns:this.id}),t}})})(Metro,Dom);(function(e,r){"use strict";var l=e.utils,a={onViewport:e.noop,onViewportEnter:e.noop,onViewportLeave:e.noop,onViewportCheckCreate:e.noop};e.viewportCheckSetup=function(t){a=r.extend({},a,t)},typeof globalThis.metroViewportCheckSetup!==void 0&&e.viewportCheckSetup(globalThis.metroViewportCheckSetup),e.Component("viewport-check",{init:function(t,o){return this._super(o,t,a,{inViewport:!1,id:l.elementId("viewport-check")}),this},_create:function(){this.inViewport=l.inViewport(this.elem),this._createEvents(),this._fireEvent("viewport-check-create")},_createEvents:function(){var t=this,o=this.elem;r(globalThis).on(e.events.scroll,function(){var i=t.inViewport;t.inViewport=l.inViewport(o),i!==t.inViewport&&(t.inViewport?t._fireEvent("viewport-enter"):t._fireEvent("viewport-leave")),t._fireEvent("viewport",{state:t.inViewport})},{ns:t.id})},state:function(){return this.inViewport},destroy:function(){return r(globalThis).off(e.events.scroll,{ns:this.id}),this.element}})})(Metro,Dom);(function(e,r){"use strict";let l={_runtime:!1,windowDeferred:0,hidden:!1,width:"auto",height:"auto",btnClose:!0,btnMin:!0,btnMax:!0,draggable:!0,dragElement:".window-caption .title",dragArea:"parent",shadow:!1,icon:"",title:"Window",content:null,resizable:!0,overlay:!1,overlayColor:"transparent",overlayAlpha:.5,modal:!1,position:"absolute",checkEmbed:!0,top:"auto",left:"auto",place:"auto",closeAction:e.actions.HIDE,customButtons:null,status:"",canClose:!0,canMaximize:!0,canMinimize:!0,clsCustomButton:"",clsCaption:"",clsContent:"",clsWindow:"",minWidth:0,minHeight:0,maxWidth:0,maxHeight:0,onDragStart:e.noop,onDragStop:e.noop,onDragMove:e.noop,onWindowClick:e.noop,onCaptionClick:e.noop,onCaptionDblClick:e.noop,onCloseClick:e.noop,onMaxClick:e.noop,onMinClick:e.noop,onResizeStart:e.noop,onResizeStop:e.noop,onResize:e.noop,onWindowCreate:e.noop,onShow:e.noop,onWindowDestroy:e.noop,onCanClose:e.noop_true,onMinimize:e.noop,onMaximize:e.noop,onClose:e.noop};e.windowSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroWindowSetup!==void 0&&e.windowSetup(globalThis.metroWindowSetup),e.Component("window",{init:function(a,t){return this._super(t,a,l,{win:null,overlay:null,position:{top:0,left:0},hidden:!1,content:null}),this},_create:function(){let a=this,t=this.element,o=this.options,i,p,c=o.dragArea==="parent"?t.parent():r(o.dragArea),d;o.modal===!0&&(o.btnMax=!1,o.btnMin=!1,o.resizable=!1),e.utils.isNull(o.content)||(e.utils.isUrl(o.content)&&e.utils.isVideoUrl(o.content)?(o.content=e.utils.embedUrl(o.content),t.css({height:"100%"})):!e.utils.isQ(o.content)&&e.utils.isFunc(o.content)&&(o.content=e.utils.exec(o.content)),d=r(o.content),d.length===0?t.appendText(o.content):t.append(d)),o.content=t,o._runtime===!0&&this._runtime(t,"window"),i=this._window(o),i.addClass("no-visible"),c.append(i),o.overlay===!0&&(p=this._overlay(),p.appendTo(i.parent()),this.overlay=p),this.win=i,this._fireEvent("window-create",{win:this.win[0],element:t}),setTimeout(function(){a._setPosition(),o.hidden!==!0&&a.win.removeClass("no-visible"),a._fireEvent("show",{win:a.win[0],element:t})},100)},_setPosition:function(){let a=this.options,t=this.win,o=a.dragArea==="parent"?t.parent():r(a.dragArea),i=o.height()/2-t[0].offsetHeight/2,p=o.width()/2-t[0].offsetWidth/2,c,d,m,f;if(a.place!=="auto"){switch(a.place.toLowerCase()){case"top-left":c=0,d=0,m="auto",f="auto";break;case"top-center":c=0,d=p,m="auto",f="auto";break;case"top-right":c=0,m=0,d="auto",f="auto";break;case"right-center":c=i,m=0,d="auto",f="auto";break;case"bottom-right":f=0,m=0,d="auto",c="auto";break;case"bottom-center":f=0,d=p,m="auto",c="auto";break;case"bottom-left":f=0,d=0,m="auto",c="auto";break;case"left-center":c=i,d=0,m="auto",f="auto";break;default:c=i,d=p,f="auto",m="auto"}t.css({top:c,left:d,bottom:f,right:m})}},_window:function(a){let t=this,o,i,p,c,d,m,f,u,g,h,b,v=a.width,k=a.height;if(o=r("<div>").addClass("window"),a.modal===!0&&o.addClass("modal"),i=r("<div>").addClass("window-caption"),p=r("<div>").addClass("window-content"),o.append(i),o.append(p),(a.status||a.resizable)&&(b=r("<div>").addClass("window-status").html(a.status),o.append(b)),a.shadow===!0&&o.addClass("shadowed"),e.utils.isValue(a.icon)&&(c=r("<span>").addClass("icon").html(a.icon),c.appendTo(i)),d=r("<span>").addClass("title").html(e.utils.isValue(a.title)?a.title:"&nbsp;"),d.appendTo(i),e.utils.isNull(a.content)||(e.utils.isQ(a.content)?a.content.appendTo(p):p.html(a.content)),m=r("<div>").addClass("buttons"),m.appendTo(i),a.btnMax===!0&&(g=r("<span>").addClass("button small square btn-max sys-button"),g.appendTo(m)),a.btnMin===!0&&(u=r("<span>").addClass("button small square btn-min sys-button"),u.appendTo(m)),a.btnClose===!0&&(f=r("<span>").addClass("button small square btn-close sys-button"),f.appendTo(m)),a.customButtons){let w=e.utils.isObject(a.customButtons);w&&r.each(w,function(){let T=this,_=r("<span>");_.addClass("button btn-custom").addClass(a.clsCustomButton).addClass(T.cls).attr("tabindex",-1).html(T.html),T.attr&&typeof T.attr=="object"&&r.each(T.attr,function(y,C){_.attr(Str.dashedName(y),C)}),_.data("action",T.onclick),m.prepend(_)})}return i.on(e.events.click,".btn-custom",function(w){if(e.utils.isRightMouse(w))return;let T=r(this),_=T.data("action");e.utils.exec(_,[T],this)}),o.attr("id",a.id===void 0?e.utils.elementId("window"):a.id),o.on(e.events.startAll,".window-caption",function(w){t._fireEvent("caption-click",{win:o[0],e:w})}),o.on(e.events.dblclick,".window-caption",function(w){t.maximize(w)}),i.on(e.events.click,".btn-max, .btn-min, .btn-close",function(w){if(e.utils.isRightMouse(w))return;let T=r(w.target);T.hasClass("btn-max")&&a.canMaximize&&t.maximize(w),T.hasClass("btn-min")&&a.canMinimize&&t.minimize(w),T.hasClass("btn-close")&&a.canClose&&t.close(w)}),o.on(e.events.click,function(w){t._fireEvent("window-click",{win:o[0],e:w})}),a.draggable===!0&&e.makePlugin(o,"draggable",{dragContext:o[0],dragElement:i,dragArea:a.dragArea,onDragStart:a.onDragStart,onDragStop:a.onDragStop,onDragMove:a.onDragMove}),o.addClass(a.clsWindow),i.addClass(a.clsCaption),p.addClass(a.clsContent),a.minWidth===0&&(a.minWidth=34,r.each(m.children(".btn-custom"),function(){a.minWidth+=e.utils.hiddenElementSize(this).width}),a.btnMax&&(a.minWidth+=34),a.btnMin&&(a.minWidth+=34),a.btnClose&&(a.minWidth+=34)),a.minWidth>0&&!isNaN(a.width)&&a.width<a.minWidth&&(v=a.minWidth),a.minHeight>0&&!isNaN(a.height)&&a.height>a.minHeight&&(k=a.minHeight),a.resizable&&(h=r("<span>").addClass("resize-element"),h.appendTo(o),o.addClass("resizable"),e.makePlugin(o,"resizable",{minWidth:a.minWidth,minHeight:a.minHeight,maxWidth:a.maxWidth,maxHeight:a.maxHeight,resizeElement:".resize-element",onResizeStart:a.onResizeStart,onResizeStop:a.onResizeStop,onResize:a.onResize})),o.css({width:v,height:k,position:a.position,top:a.top,left:a.left}),o},_overlay:function(){let a=this.options,t=r("<div>");return t.addClass("overlay"),a.overlayColor==="transparent"?t.addClass("transparent"):t.css({background:Farbe.Routines.toRGBA(Farbe.Routines.parse(a.overlayColor),a.overlayAlpha)}),t},width:function(a){let t=this.win;return e.utils.isValue(a)?(t.css("width",parseInt(a)),this):t.width()},height:function(a){let t=this.win;return e.utils.isValue(a)?(t.css("height",parseInt(a)),this):t.height()},maximize:function(a){let t=this.win,o=this.options,i=r(a.target);o.btnMax&&(t.removeClass("minimized"),t.toggleClass("maximized")),i.hasClass&&i.hasClass("title")?this._fireEvent("caption-dbl-click",{win:t[0]}):this._fireEvent("max-click",{win:t[0]}),this._fireEvent("maximize",{win:t[0]})},minimize:function(){let a=this.win;this.options.btnMin&&(a.removeClass("maximized"),a.toggleClass("minimized")),this._fireEvent("min-click",{win:a[0]}),this._fireEvent("minimize",{win:a[0]})},close:function(){let a=this,t=this.win,o=this.options;if(e.utils.exec(o.onCanClose,[t])===!1)return!1;let i=0;o.onClose!==e.noop&&(i=500),this._fireEvent("close",{win:t[0]}),setTimeout(function(){o.modal===!0&&t.siblings(".overlay").remove(),a._fireEvent("close-click",{win:t[0]}),o.closeAction===e.actions.REMOVE?(a._fireEvent("window-destroy",{win:t[0]}),t.remove()):a.hide()},i)},hide:function(){let a=this.win;a.css({display:"none"}),this._fireEvent("hide",{win:a[0]})},show:function(){let a=this.win;a.removeClass("no-visible").css({display:"flex"}),this._fireEvent("show",{win:a[0]})},toggle:function(){this.win.css("display")==="none"||this.win.hasClass("no-visible")?this.show():this.hide()},isOpen:function(){return this.win.hasClass("no-visible")},min:function(a){a?this.win.addClass("minimized"):this.win.removeClass("minimized")},max:function(a){a?this.win.addClass("maximized"):this.win.removeClass("maximized")},changeClass:function(a){let t=this.element,o=this.win,i=this.options;a==="data-cls-window"&&(o[0].className="window "+(i.resizable?" resizable ":" ")+t.attr("data-cls-window")),a==="data-cls-caption"&&(o.find(".window-caption")[0].className="window-caption "+t.attr("data-cls-caption")),a==="data-cls-content"&&(o.find(".window-content")[0].className="window-content "+t.attr("data-cls-content"))},toggleShadow:function(){let a=this.element,t=this.win;JSON.parse(a.attr("data-shadow"))===!0?t.addClass("win-shadow"):t.removeClass("win-shadow")},setContent:function(a){let t=this.element,o=this.win,i=e.utils.isValue(a)?a:t.attr("data-content"),p;!e.utils.isQ(i)&&e.utils.isFunc(i)?p=e.utils.exec(i):e.utils.isQ(i)?p=i.html():p=i,o.find(".window-content").html(p)},setTitle:function(a){let t=this.element,o=this.win,i=e.utils.isValue(a)?a:t.attr("data-title");o.find(".window-caption .title").html(i)},setIcon:function(a){let t=this.element,o=this.win,i=e.utils.isValue(a)?a:t.attr("data-icon");o.find(".window-caption .icon").html(i)},getIcon:function(){return this.win.find(".window-caption .icon").html()},getTitle:function(){return this.win.find(".window-caption .title").html()},toggleDraggable:function(a){let t=this.win,o=e.utils.bool(a),i=e.getPlugin(t,"draggable");o===!0?i.on():i.off()},toggleResizable:function(a){let t=this.win,o=e.utils.bool(a),i=e.getPlugin(t,"resizable");o===!0?(i.on(),t.find(".resize-element").removeClass("resize-element-disabled")):(i.off(),t.find(".resize-element").addClass("resize-element-disabled"))},changePlace:function(a){let t=this.element,o=this.win,i=e.utils.isValue(a)?a:t.attr("data-place");o.addClass(i)},pos:function(a,t){return this.win.css({top:a,left:t}),this},top:function(a){return this.win.css({top:a}),this},left:function(a){return this.win.css({left:a}),this},changeAttribute:function(a,t){let o=function(c,d){let m=this.win,f;if(c==="data-top"){if(f=parseInt(d),!isNaN(f))return;m.css("top",f)}if(c==="data-left"){if(f=parseInt(d),!isNaN(f))return;m.css("left",f)}},i=function(c,d){let m=this.win,f=m.find(".btn-close"),u=m.find(".btn-min"),g=m.find(".btn-max"),b=e.utils.bool(d)?"show":"hide";switch(c){case"data-btn-close":f[b]();break;case"data-btn-min":u[b]();break;case"data-btn-max":g[b]();break}},p=function(c,d){let m=this.win;c==="data-width"&&m.css("width",+d),c==="data-height"&&m.css("height",+d)};switch(a){case"data-btn-close":case"data-btn-min":case"data-btn-max":i(a,t);break;case"data-width":case"data-height":p(a,t);break;case"data-cls-window":case"data-cls-caption":case"data-cls-content":this.changeClass(a);break;case"data-shadow":this.toggleShadow();break;case"data-icon":this.setIcon();break;case"data-title":this.setTitle();break;case"data-content":this.setContent();break;case"data-draggable":this.toggleDraggable(t);break;case"data-resizable":this.toggleResizable(t);break;case"data-top":case"data-left":o(a,t);break;case"data-place":this.changePlace();break}},destroy:function(){return this.element}}),e.window={isWindow:function(a){return e.utils.isMetroObject(a,"window")},min:function(a,t){if(!this.isWindow(a))return!1;e.getPlugin(a,"window").min(t)},max:function(a,t){if(!this.isWindow(a))return!1;e.getPlugin(a,"window").max(t)},show:function(a){if(!this.isWindow(a))return!1;e.getPlugin(a,"window").show()},hide:function(a){if(!this.isWindow(a))return!1;e.getPlugin(a,"window").hide()},toggle:function(a){if(!this.isWindow(a))return!1;e.getPlugin(a,"window").toggle()},isOpen:function(a){return this.isWindow(a)?e.getPlugin(a,"window").isOpen():!1},close:function(a){if(!this.isWindow(a))return!1;e.getPlugin(a,"window").close()},pos:function(a,t,o){if(!this.isWindow(a))return!1;e.getPlugin(a,"window").pos(t,o)},top:function(a,t){if(!this.isWindow(a))return!1;e.getPlugin(a,"window").top(t)},left:function(a,t){if(!this.isWindow(a))return!1;e.getPlugin(a,"window").left(t)},width:function(a,t){if(!this.isWindow(a))return!1;e.getPlugin(a,"window").width(t)},height:function(a,t){if(!this.isWindow(a))return!1;e.getPlugin(a,"window").height(t)},create:function(a,t){let o;o=r("<div>").appendTo(r(t||"body"));let i=r.extend({_runtime:!0},a||{});return e.makePlugin(o,"window",i),e.getPlugin(o,"window").win}}})(Metro,Dom);(function(e,r){"use strict";let l={wizardDeferred:0,start:1,finish:0,iconHelp:"\u{1F4A1}",iconPrev:"\u{1F850}",iconNext:"\u{1F852}",iconFinish:"\u2714",buttonMode:"cycle",buttonOutline:!0,duration:300,clsWizard:"",clsActions:"",clsHelp:"",clsPrev:"",clsNext:"",clsFinish:"",onPage:e.noop,onNextPage:e.noop,onPrevPage:e.noop,onFirstPage:e.noop,onLastPage:e.noop,onFinishPage:e.noop,onHelpClick:e.noop,onPrevClick:e.noop,onNextClick:e.noop,onFinishClick:e.noop,onBeforePrev:e.noop_true,onBeforeNext:e.noop_true,onWizardCreate:e.noop};e.wizardSetup=function(a){l=r.extend({},l,a)},typeof globalThis.metroWizardSetup!==void 0&&e.wizardSetup(globalThis.metroWizardSetup),e.Component("wizard",{init:function(a,t){return this._super(t,a,l,{id:e.utils.elementId("wizard")}),this},_create:function(){let a=this.element;this._createWizard(),this._createEvents(),this._fireEvent("wizard-create",{element:a})},_createWizard:function(){let a=this.element,t=this.options,o;a.addClass("wizard").addClass(t.view).addClass(t.clsWizard),o=r("<div>").addClass("action-bar").addClass(t.clsActions).appendTo(a);let i=t.buttonMode==="button"?"":t.buttonMode;t.buttonOutline===!0&&(i+=" outline"),t.iconHelp!==!1&&r("<button>").attr("type","button").addClass("button wizard-btn-help").addClass(i).addClass(t.clsHelp).html(t.iconHelp).appendTo(o),t.iconPrev!==!1&&r("<button>").attr("type","button").addClass("button wizard-btn-prev").addClass(i).addClass(t.clsPrev).html(t.iconPrev).appendTo(o),t.iconNext!==!1&&r("<button>").attr("type","button").addClass("button wizard-btn-next").addClass(i).addClass(t.clsNext).html(t.iconNext).appendTo(o),t.iconFinish!==!1&&r("<button>").attr("type","button").addClass("button wizard-btn-finish").addClass(i).addClass(t.clsFinish).html(t.iconFinish).appendTo(o),this.toPage(t.start),this._setHeight()},_setHeight:function(){let a=this.element,t=a.children("section"),o=0;t.children(".page-content").css("max-height","none"),r.each(t,function(){let i=r(this).height();o<parseInt(i)&&(o=i)}),a.height(o)},_createEvents:function(){let a=this,t=this.element;t.on(e.events.click,".wizard-btn-help",function(){let i=t.children("section").get(a.current-1);a._fireEvent("help-click",{index:a.current,page:i})}),t.on(e.events.click,".wizard-btn-prev",function(){a.prev();let i=t.children("section").get(a.current-1);a._fireEvent("prev-click",{index:a.current,page:i})}),t.on(e.events.click,".wizard-btn-next",function(){a.next();let i=t.children("section").get(a.current-1);a._fireEvent("next-click",{index:a.current,page:i})}),t.on(e.events.click,".wizard-btn-finish",function(){let i=t.children("section").get(a.current-1);a._fireEvent("finish-click",{index:a.current,page:i})}),t.on(e.events.click,".complete",function(){let o=r(this).index()+1;a.toPage(o)}),r(globalThis).on(e.events.resize,function(){a._setHeight()},{ns:this.id})},next:function(){let a=this,t=this.element,o=this.options,i=t.children("section"),p=r(t.children("section").get(this.current-1));this.current+1>i.length||e.utils.exec(o.onBeforeNext,[this.current,p,t])===!1||(this.current++,this.toPage(this.current),p=r(t.children("section").get(this.current-1)),this._fireEvent("next-page",{index:a.current,page:p[0]}))},prev:function(){let a=this,t=this.element,o=this.options,i=r(t.children("section").get(this.current-1));this.current-1===0||e.utils.exec(o.onBeforePrev,[this.current,i,t])===!1||(this.current--,this.toPage(this.current),i=r(t.children("section").get(this.current-1)),this._fireEvent("prev-page",{index:a.current,page:i[0]}))},last:function(){let a=this,t=this.element,o;this.toPage(t.children("section").length),o=r(t.children("section").get(this.current-1)),this._fireEvent("last-page",{index:a.current,page:o[0]})},first:function(){let a=this,t=this.element,o;this.toPage(1),o=r(t.children("section").get(0)),this._fireEvent("first-page",{index:a.current,page:o[0]})},toPage:function(a){let t=this.element,o=this.options,i=r(t.children("section").get(a-1)),p=t.children("section"),c=t.find(".action-bar");if(i.length===0)return;let d=t.find(".wizard-btn-finish").addClass("disabled"),m=t.find(".wizard-btn-next").addClass("disabled"),f=t.find(".wizard-btn-prev").addClass("disabled");this.current=a,t.children("section").removeClass("complete current").removeClass(o.clsCurrent).removeClass(o.clsComplete),i.addClass("current").addClass(o.clsCurrent),i.prevAll().addClass("complete").addClass(o.clsComplete);let u=t.children("section.complete").length===0?0:parseInt(e.utils.getStyleOne(t.children("section.complete")[0],"border-left-width"));c.animate({draw:{left:t.children("section.complete").length*u+41},dur:o.duration}),(this.current===p.length||o.finish>0&&this.current>=o.finish)&&d.removeClass("disabled"),parseInt(o.finish)>0&&this.current===parseInt(o.finish)&&this._fireEvent("finish-page",{index:this.current,page:i[0]}),this.current<p.length&&m.removeClass("disabled"),this.current>1&&f.removeClass("disabled"),this._fireEvent("page",{index:this.current,page:i[0]})},changeAttribute:function(){},destroy:function(){let a=this.element;a.off(e.events.click,".wizard-btn-help"),a.off(e.events.click,".wizard-btn-prev"),a.off(e.events.click,".wizard-btn-next"),a.off(e.events.click,".wizard-btn-finish"),a.off(e.events.click,".complete"),r(globalThis).off(e.events.resize,{ns:this.id}),a.remove()}})})(Metro,Dom);(function(e,r){"use strict";let l={onStateChange:e.noop,onWorkingTreeCreate:e.noop};e.workingTreeSetup=function(a){l=r.extend({},l,a)},typeof window.metroWorkingTreeSetup!==void 0&&e.workingTreeSetup(window.metroWorkingTreeSetup),e.Component("working-tree",{init(a,t){return this._super(t,a,l,{}),this},_create(){this._createStructure(),this._createEvents(),this._fireEvent("tree-create")},addNode({id:a,title:t="",value:o="",items:i=[]}={}){let p=this.element,c=(a||Hooks.useId(`working-tree-node-${p.children().length}`)).replace(/:/gi,""),d=`
                <li id="${c}">
                    <div class="bull"></div>
                    <div class="node">
                        <div class="title">${t}</div>
                        <div class="value">${o}</div>
                    </div>
                    <ul class="leaves">
                        ${i.map(m=>`<li><div class="title">${m.title}</div><div class="value">${m.value}</div> </li>`).join(`
`)}                    
                    </ul>
                </li>
            `;return this.element.append(d),c},setState(a,t="pending"){let i=this.element.find(`#${a}`).clearClasses().addClass(`work-${t}`);return i.find(".bull").html(`<span data-role="bull" data-type="${t}"></span>`),this._fireEvent("state-change",{id:a,state:t,node:i}),this},_createStructure(){let a=this,t=this.element,o=this.options;t.addClass("working-tree")},_createEvents(){let a=this,t=this.element,o=this.options},changeAttribute(a,t){},destroy(){this.element.remove()}})})(Metro,Dom);(function(e,r){"use strict";let l="[data-role-dropmenu], [data-role-dropdown]",a='<svg aria-hidden="true" width="16" height="16" viewBox="0 0 24 24"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"></path></svg>',t={height:"auto",align:"left",onMenuCreate:e.noop};e.dropMenuSetup=function(o){t=r.extend({},t,o)},typeof window.metroDropMenuSetup!==void 0&&e.dropMenuSetup(window.metroDropMenuSetup),e.Component("dropmenu",{init:function(o,i){return this._super(i,o,t,{toggle:null,displayOrigin:null,isOpen:!1,level:0}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("menu-create")},_toggle:function(){let o=this.element,i=o.siblings(".menu-toggle, .dropdown-toggle, a");if(i.length===0&&(i=o.prev(),i.length===0))throw new Error("Menu toggle not found");return i[0]},_createStructure:function(){let o=this.element,i=this.options;this.level=o.parents("[data-role-dropmenu]").length,this.toggle=r(this._toggle()).append(a),this.displayOrigin=o.css("display"),this.element.addClass("drop-menu").css("z-index",`calc(var(--z-index-fixed) + ${this.level})!important`).hide(),i.height!=="auto"&&o.css("max-height",i.height)},_createEvents:function(){let o=this.element;this.toggle.on("click",i=>{r(l).each((p,c)=>{let d=r(c),m=o.parents("[data-role-dropmenu]").is(c);if(c===o[0]||m||d.hasClass("keep-open")||d.hasClass("stay-open")||d.hasClass("ignore-document-click"))return;let f=e.getPlugin(c,"dropdown"),u=e.getPlugin(c,"dropmenu");f&&f.close(),u&&u.close()}),this.isOpen===!1?this.open():this.close(),i.preventDefault(),i.stopPropagation()})},close:function(){this.isOpen!==!1&&(this.toggle.removeClass("active-toggle"),this.element.hide(),this.isOpen=!1)},open:function(){let o=this.element,i=this.options,p=e.utils.rect(this.toggle[0]),c=o.parents("[data-role-dropmenu]").length;if(o.show().visible(!1),c===0){o.css({top:p.bottom,left:p.left});let d=e.utils.viewportOutByWidth(o[0]),m=e.utils.viewportOutByHeight(o[0]);(i.align==="right"||d)&&(o.css({left:p.right-o.width()}),i.align!=="right"&&e.utils.viewportOutByWidth(o[0])&&o.css({left:p.left})),m&&(o.css({top:p.top-o.height()}),e.utils.viewportOutByHeight(o[0])&&o.css({top:p.bottom}))}else{o.css({top:p.top,left:p.right});let d=e.utils.viewportOutByWidth(o[0]);(i.align==="right"||d)&&(o.css({left:p.left-o.width()}),i.align!=="right"&&e.utils.viewportOutByWidth(o[0])&&o.css({left:p.right}))}this.toggle.addClass("active-toggle"),this.isOpen=!0,o.visible(!0)},changeAttribute:function(o,i){},destroy:function(){this.element.remove()}}),r(document).on("click",function(o){r(l).each((i,p)=>{let c=r(p);if(c.hasClass("keep-open")||c.hasClass("stay-open")||c.hasClass("ignore-document-click"))return;let d=e.getPlugin(p,"dropdown"),m=e.getPlugin(p,"dropmenu");d&&d.close(),m&&m.close()})})})(Metro,Dom);})();
//!node.hasClass("expanded");
/*! Bundled license information:

@olton/datetime/dist/datetime.js:
  (*!
   * Datetime v3.2.2.
   * Build time: 09.03.2025, 06:30:54
   * Copyright 2025 by Serhii Pimenov
   * Licensed under MIT
   *
   * Build time: 09.03.2025 06:30:54
   *)

@olton/string/dist/string.js:
  (*!
   * String v0.10.0 (@olton/string)
   * Copyright 2025 by Serhii Pimenov
   * Built: 16.03.2025, 19:17:56
   * Licensed under MIT
   *)

@olton/dom/dist/dom.js:
  (*!
   * DOM - Work with HTML elements (@olton/dom, https://metroui.org.ua)
   * Version: 1.4.0
   * Build date: 08.03.2025, 03:24:58
   * Copyright 2012-2025 by Serhii Pimenov
   * Licensed under MIT
   *)

@olton/hooks/dist/hooks.js:
  (*!
   * Hooks v0.13.0 (@olton/hooks)
   * Copyright 2025 by Serhii Pimenov <serhii@pimenov.com.ua>
   * Built: 07.03.2025, 15:05:04
   * Licensed under MIT
   *)

@olton/farbe/dist/farbe.es.js:
  (*!
   * Farbe  v1.0.4 - Color manipulation library
   * Copyright 2024 by Serhii Pimenov
   * Licensed under MIT
   !*)

@olton/html/dist/html.js:
  (*!
   * Html.js v0.14.0
   * Description: Creating HTML Elements with JavaScript
   * Build: 18.03.2025, 23:11:45
   * Copyright 2025 by Serhii Pimenov
   * Licensed under MIT
   *)

@olton/guardian/dist/guardian.js:
  (*!
   * Guardian v0.7.1
   * Data guard and validation library
   * Copyright 2025 Serhii Pimenov
   * Licensed under MIT
   *
   * Build time: 07.02.2025 03:04:31
   *)

@olton/router/dist/router.js:
  (*!
   * Router v0.4.0 (Router ror SPA)
   * Build: 08.03.2025, 01:01:34
   * Copyright 2025 by Serhii Pimenov
   * Licensed under MIT
   *)

@olton/model/dist/model.js:
  (*!
   * Model v0.17.0
   * Build: 06.03.2025, 13:09:45
   * Copyright 2012-2025 by Serhii Pimenov
   * Licensed under MIT
   *)
*/
