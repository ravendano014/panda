<script>window.PAGE_TITLE = 'UI Elements | Working Tree'</script>

<div class="row">
    <div class="cell-md-6 d-flex flex-align-center">
        <h1>Working Tree</h1>
    </div>
    <div class="cell-md-6 d-flex flex-justify-end-md flex-align-center">
        <ul class="breadcrumbs default">
            <li><a href="/">Panda 1.0</a></li>
            <li><a href="#">UI</a></li>
            <li class="active"><a href="#">Working Tree</a></li>
        </ul>
    </div>
</div>

<div class="box">
    <div class="box-title">About</div>
    <p class="text-muted">
        The Working Tree is designed to display execution stages. 
        Each node in the tree represents a stage of execution, its status, and substages.
    </p>
    <p class="text-muted">
        Create <code>Working Tree</code> with class <code>.working-tree</code>.
        To create a tree, add class <code>.working-tree</code> to <code>ul</code> element.
        You can use four types of nodes: <code>.work-pending</code>, <code>.work-fail</code>, <code>.work-success</code>, and <code>.work-none</code> (default).
    </p>
    <div class="mt-4">
        <div class="row">
            <div class="cell-md-4">
                <div class="box">
                    <div class="h5">Working Tree</div>
                    <ul class="working-tree">
                        <li>
                            <div class="node">
                                <div class="title">Staking Ledger</div>
                                <div class="value">100%</div>
                            </div>
                            <ul class="leaves">
                                <li>
                                    <div class="title">Fetch hashes</div>
                                    <div class="value">2m</div>
                                </li>
                                <li>
                                    <div class="title">Fetch accounts</div>
                                    <div class="value">2m</div>
                                </li>
                            </ul>
                        </li>
                        <li class="work-pending">
                            <div class="bull"><span data-role="bull" data-type="pending"></span></div>
                            <div class="node">
                                <div class="title">Next Epoch Ledger</div>
                                <div class="value">100%</div>
                            </div>
                            <ul class="leaves">
                                <li>
                                    <div class="title">Fetch hashes</div>
                                    <div class="value">2m</div>
                                </li>
                                <li>
                                    <div class="title">Fetch accounts</div>
                                    <div class="value">2m</div>
                                </li>
                            </ul>
                        </li>
                        <li class="work-fail">
                            <div class="bull"><span data-role="bull" data-type="fail"></span></div>
                            <div class="node">
                                <div class="title">Next Epoch Ledger</div>
                                <div class="value">100%</div>
                            </div>
                            <ul class="leaves">
                                <li>
                                    <div class="title">Fetch hashes</div>
                                    <div class="value">2m</div>
                                </li>
                                <li>
                                    <div class="title">Fetch accounts</div>
                                    <div class="value">2m</div>
                                </li>
                            </ul>
                        </li>
                        <li class="work-success">
                            <div class="bull"><span data-role="bull" data-type="success"></span></div>
                            <div class="node">
                                <div class="title">Next Epoch Ledger</div>
                                <div class="value">100%</div>
                            </div>
                            <ul class="leaves">
                                <li>
                                    <div class="title">Fetch hashes</div>
                                    <div class="value">2m</div>
                                </li>
                                <li>
                                    <div class="title">Fetch accounts</div>
                                    <div class="value">2m</div>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="cell-md-4">
                <div class="box">
                    <div class="h5">Role Working Tree</div>
                    <ul data-role="working-tree" id="wt"></ul>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    setTimeout(function(){
        const tree = Metro.getPlugin("#wt", "working-tree");
        tree.addNode({
            title: "Staking Ledger",
            value: "100%",
            items: [
                {title: "Fetch hashes", value: "2m"},
                {title: "Fetch accounts", value: "2m"}
            ]
        })

        const nextEpochLedgerNodeID = tree.addNode({
            title: "Next Epoch Ledger",
            value: "100%",
            items: [
                {title: "Fetch hashes", value: "2m"},
                {title: "Fetch accounts", value: "2m"}
            ]
        })
        tree.setState(nextEpochLedgerNodeID, "pending")

        const prevEpochLedgerNodeID = tree.addNode({
            title: "Prev Epoch Ledger",
            value: "100%",
            items: [
                {title: "Fetch hashes", value: "2m"},
                {title: "Fetch accounts", value: "2m"}
            ]
        })
        tree.setState(prevEpochLedgerNodeID, "fail")

        const genesisEpochLedgerNodeID = tree.addNode({
            title: "Prev Epoch Ledger",
            value: "100%",
            items: [
                {title: "Fetch hashes", value: "2m"},
                {title: "Fetch accounts", value: "2m"}
            ]
        })
        tree.setState(genesisEpochLedgerNodeID, "success")
    }, 100);
</script>